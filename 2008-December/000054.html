<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-svn] r1273 - in trunk/src/server/httpd: . menu_cuts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1273%20-%20in%20trunk/src/server/httpd%3A%20.%20menu_cuts&In-Reply-To=%3C200812231252.mBNCqKY7022574%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000053.html">
   <LINK REL="Next"  HREF="000055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-svn] r1273 - in trunk/src/server/httpd: . menu_cuts</H1>
    <B>ntfreak at BerliOS</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1273%20-%20in%20trunk/src/server/httpd%3A%20.%20menu_cuts&In-Reply-To=%3C200812231252.mBNCqKY7022574%40sheep.berlios.de%3E"
       TITLE="[Openocd-svn] r1273 - in trunk/src/server/httpd: . menu_cuts">ntfreak at mail.berlios.de
       </A><BR>
    <I>Tue Dec 23 13:52:20 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000053.html">[Openocd-svn] r1272 - in trunk/src/server: . httpd
</A></li>
        <LI>Next message: <A HREF="000055.html">[Openocd-svn] r1274 - trunk/src/target/target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54">[ date ]</a>
              <a href="thread.html#54">[ thread ]</a>
              <a href="subject.html#54">[ subject ]</a>
              <a href="author.html#54">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ntfreak
Date: 2008-12-23 13:52:14 +0100 (Tue, 23 Dec 2008)
New Revision: 1273

Modified:
   trunk/src/server/httpd/Stylizer.class
   trunk/src/server/httpd/Stylizer.java
   trunk/src/server/httpd/browsemem.tcl
   trunk/src/server/httpd/build.sh
   trunk/src/server/httpd/downloadmem.tcl
   trunk/src/server/httpd/editconfigs.tcl
   trunk/src/server/httpd/editfile.tcl
   trunk/src/server/httpd/erase.tcl
   trunk/src/server/httpd/flash.tcl
   trunk/src/server/httpd/flashinfo.tcl
   trunk/src/server/httpd/guiupload.tcl
   trunk/src/server/httpd/html2tcl.sh
   trunk/src/server/httpd/httpd.tcl
   trunk/src/server/httpd/index.tcl
   trunk/src/server/httpd/log.tcl
   trunk/src/server/httpd/menu.xml
   trunk/src/server/httpd/menu.xsl
   trunk/src/server/httpd/menu_cuts/center_bottom.png
   trunk/src/server/httpd/menu_cuts/center_top.png
   trunk/src/server/httpd/menu_cuts/h_tab1.png
   trunk/src/server/httpd/menu_cuts/h_tab1_selected.png
   trunk/src/server/httpd/menu_cuts/h_tab2.png
   trunk/src/server/httpd/menu_cuts/h_tab2_selected.png
   trunk/src/server/httpd/menu_cuts/h_tab_free.png
   trunk/src/server/httpd/menu_cuts/logo_bottom.png
   trunk/src/server/httpd/menu_cuts/logo_top.png
   trunk/src/server/httpd/menu_cuts/right_bottom.png
   trunk/src/server/httpd/menu_cuts/right_top.png
   trunk/src/server/httpd/menu_cuts/right_top_small.png
   trunk/src/server/httpd/menu_cuts/top_right.png
   trunk/src/server/httpd/menu_cuts/v_1.png
   trunk/src/server/httpd/menu_cuts/v_2_tile.png
   trunk/src/server/httpd/menu_cuts/v_3.png
   trunk/src/server/httpd/menu_cuts/v_tab.png
   trunk/src/server/httpd/menu_cuts/v_tab_selected.png
   trunk/src/server/httpd/menuweb.css
   trunk/src/server/httpd/openocd.tcl
   trunk/src/server/httpd/preconfig.tcl
   trunk/src/server/httpd/production.tcl
   trunk/src/server/httpd/readme.txt
   trunk/src/server/httpd/reload.tcl
   trunk/src/server/httpd/run.tcl
   trunk/src/server/httpd/support.tcl
   trunk/src/server/httpd/targets.tcl
   trunk/src/server/httpd/terminal.tcl
   trunk/src/server/httpd/upgrade.tcl
Log:
- add missing svn props from r1270 commit
- change mime-type for png files to image/png


Property changes on: trunk/src/server/httpd/Stylizer.class
___________________________________________________________________
Name: svn:executable
   + *


Property changes on: trunk/src/server/httpd/Stylizer.java
___________________________________________________________________
Name: svn:executable
   + *

Modified: trunk/src/server/httpd/browsemem.tcl
===================================================================
--- trunk/src/server/httpd/browsemem.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/browsemem.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,454 +1,454 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Browse / Edit&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;downloadmem.tcl&quot; style=&quot;&quot;&gt;Download&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Browse / Edit Memory&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-
-
-			
-			}
-
-			
-			set form_address [formfetch form_address]
-			set form_length [formfetch form_length]
-			set form_type [formfetch form_type]
-			set form_action [formfetch form_action]
-			set form_value [formfetch form_value]
-			
-			if {[string compare $form_length &quot;&quot;]==0} {
-				set form_length 0
-			}  
-			if {$form_length&lt;=0} {
-				set form_length 0x80
-			} 
-			if {$form_length&gt;0x1000} {
-				set form_length 0x1000
-			} 
-			
-			if {[string compare $form_type &quot;&quot;]==0} {
-				set form_type mdw
-			}
-			
-			if {[string compare $form_type &quot;mdw&quot;]==0} {
-				set wordsize 4
-				set modify_cmd mww 
-			}
-			if {[string compare $form_type &quot;mdh&quot;]==0} {
-				set wordsize 2
-				set modify_cmd mwh 
-			}
-			if {[string compare $form_type &quot;mdb&quot;]==0} {
-				set wordsize 1
-				set modify_cmd mwb 
-			}
-			
-			
-			
-			
-			if {[string compare $form_address &quot;&quot;]!=0} {
-				if {[string compare $form_action &quot;Previous&quot;]==0} {
-					# Kludge! Work around problems parsing hex in Jim Tcl expressions
-					incr form_address ; set form_address [expr $form_address-1]
-					if {$form_address-$form_length&gt;0} {
-						set form_address &quot;0x[tohex [expr $form_address-$form_length]]&quot;
-					} else {
-						set form_address &quot;0x0&quot;
-					}
-				}  
-				if {[string compare $form_action &quot;Next&quot;]==0} {
-					# Kludge! Work around problems parsing hex in Jim Tcl expressions
-					incr form_address ; set form_address [expr $form_address-1]
-					set form_address &quot;0x[tohex [expr $form_address+$form_length]]&quot;
-				}  
-				if {[string compare $form_action &quot;Modify&quot;]==0} {
-					append console [capture_catch &quot;$modify_cmd $form_address $form_value&quot;]
-				}  
-				if {[string compare $form_action &quot;Fill&quot;]==0} {
-					append console [capture_catch &quot;$modify_cmd $form_address $form_value $form_length&quot;]
-				}  
-			}
-			
-			
-			
-append buffer {
-			
-			&lt;form action=&quot;browsemem.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
-append buffer $form_address
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;}
-append buffer &quot;0x[tohex $form_length]&quot;
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Value&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_value&quot; value=&quot;}
-append buffer $form_value
-append buffer {&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Modify&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Fill&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Type&lt;/td&gt;&lt;td style=&quot;padding-top:1px;&quot;&gt;
-				&lt;select name=&quot;form_type&quot;&gt;
-				  &lt;option 
-				    }
-if {[string compare $form_type &quot;mdb&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer { value =&quot;mdb&quot;&gt;8 bit
-				  &lt;/option&gt;
-				  &lt;option 
-				   }
-if {[string compare $form_type &quot;mdh&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer { value =&quot;mdh&quot;&gt;16 bit
-				  &lt;/option&gt;
-			  		&lt;option
-					   }
-if {[string compare $form_type &quot;mdw&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer {value =&quot;mdw&quot;&gt;32 bit
-				  	&lt;/option&gt;
-				&lt;/select&gt;
-				
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;table&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Refresh&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Previous&quot; &gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Next&quot; &gt;&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-				&lt;br&gt;
-				
-			&lt;/form&gt;
-			&lt;p&gt;
-			&lt;div class=&quot;fontbigger&quot;&gt;Memory:&lt;/div&gt;&lt;p&gt;
-			&lt;code style=&quot;white-space: nowrap; font-size:11px;font:courier new;&quot;&gt;
-				}
-
-				if {[string compare $form_address &quot;&quot;]!=0} {
-					append console [encode [capture_catch halt]]
-					append buffer [encode [capture_catch &quot;$form_type $form_address [expr $form_length]&quot;]]
-				} 
-				
-append buffer {
-			&lt;/code&gt;
-
-
-			
-
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;browsemem.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Browse and edit target memory.&lt;br&gt;
-				   Length is in bytes, maximum 4096 bytes.&lt;/p&gt; 
-				&lt;p&gt;An error message is shown when trying to browse or edit memory which cases a CPU fault.&lt;/p&gt;
-				&lt;p&gt;CPU will be halted if required.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Modify&lt;/b&gt; - Will modify only one byte, half-word or word starting at Address.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Fill&lt;/b&gt; - Will fill the specified region with the specified value.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Refresh&lt;/b&gt; - Display the content of the specified memory area.&lt;/p&gt;
-					
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Browse / Edit&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;downloadmem.tcl&quot; style=&quot;&quot;&gt;Download&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Browse / Edit Memory&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+
+
+			
+			}
+
+			
+			set form_address [formfetch form_address]
+			set form_length [formfetch form_length]
+			set form_type [formfetch form_type]
+			set form_action [formfetch form_action]
+			set form_value [formfetch form_value]
+			
+			if {[string compare $form_length &quot;&quot;]==0} {
+				set form_length 0
+			}  
+			if {$form_length&lt;=0} {
+				set form_length 0x80
+			} 
+			if {$form_length&gt;0x1000} {
+				set form_length 0x1000
+			} 
+			
+			if {[string compare $form_type &quot;&quot;]==0} {
+				set form_type mdw
+			}
+			
+			if {[string compare $form_type &quot;mdw&quot;]==0} {
+				set wordsize 4
+				set modify_cmd mww 
+			}
+			if {[string compare $form_type &quot;mdh&quot;]==0} {
+				set wordsize 2
+				set modify_cmd mwh 
+			}
+			if {[string compare $form_type &quot;mdb&quot;]==0} {
+				set wordsize 1
+				set modify_cmd mwb 
+			}
+			
+			
+			
+			
+			if {[string compare $form_address &quot;&quot;]!=0} {
+				if {[string compare $form_action &quot;Previous&quot;]==0} {
+					# Kludge! Work around problems parsing hex in Jim Tcl expressions
+					incr form_address ; set form_address [expr $form_address-1]
+					if {$form_address-$form_length&gt;0} {
+						set form_address &quot;0x[tohex [expr $form_address-$form_length]]&quot;
+					} else {
+						set form_address &quot;0x0&quot;
+					}
+				}  
+				if {[string compare $form_action &quot;Next&quot;]==0} {
+					# Kludge! Work around problems parsing hex in Jim Tcl expressions
+					incr form_address ; set form_address [expr $form_address-1]
+					set form_address &quot;0x[tohex [expr $form_address+$form_length]]&quot;
+				}  
+				if {[string compare $form_action &quot;Modify&quot;]==0} {
+					append console [capture_catch &quot;$modify_cmd $form_address $form_value&quot;]
+				}  
+				if {[string compare $form_action &quot;Fill&quot;]==0} {
+					append console [capture_catch &quot;$modify_cmd $form_address $form_value $form_length&quot;]
+				}  
+			}
+			
+			
+			
+append buffer {
+			
+			&lt;form action=&quot;browsemem.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
+append buffer $form_address
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;}
+append buffer &quot;0x[tohex $form_length]&quot;
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Value&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_value&quot; value=&quot;}
+append buffer $form_value
+append buffer {&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Modify&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Fill&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Type&lt;/td&gt;&lt;td style=&quot;padding-top:1px;&quot;&gt;
+				&lt;select name=&quot;form_type&quot;&gt;
+				  &lt;option 
+				    }
+if {[string compare $form_type &quot;mdb&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer { value =&quot;mdb&quot;&gt;8 bit
+				  &lt;/option&gt;
+				  &lt;option 
+				   }
+if {[string compare $form_type &quot;mdh&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer { value =&quot;mdh&quot;&gt;16 bit
+				  &lt;/option&gt;
+			  		&lt;option
+					   }
+if {[string compare $form_type &quot;mdw&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer {value =&quot;mdw&quot;&gt;32 bit
+				  	&lt;/option&gt;
+				&lt;/select&gt;
+				
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;table&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Refresh&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Previous&quot; &gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Next&quot; &gt;&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+				&lt;br&gt;
+				
+			&lt;/form&gt;
+			&lt;p&gt;
+			&lt;div class=&quot;fontbigger&quot;&gt;Memory:&lt;/div&gt;&lt;p&gt;
+			&lt;code style=&quot;white-space: nowrap; font-size:11px;font:courier new;&quot;&gt;
+				}
+
+				if {[string compare $form_address &quot;&quot;]!=0} {
+					append console [encode [capture_catch halt]]
+					append buffer [encode [capture_catch &quot;$form_type $form_address [expr $form_length]&quot;]]
+				} 
+				
+append buffer {
+			&lt;/code&gt;
+
+
+			
+
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;browsemem.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Browse and edit target memory.&lt;br&gt;
+				   Length is in bytes, maximum 4096 bytes.&lt;/p&gt; 
+				&lt;p&gt;An error message is shown when trying to browse or edit memory which cases a CPU fault.&lt;/p&gt;
+				&lt;p&gt;CPU will be halted if required.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Modify&lt;/b&gt; - Will modify only one byte, half-word or word starting at Address.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Fill&lt;/b&gt; - Will fill the specified region with the specified value.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Refresh&lt;/b&gt; - Display the content of the specified memory area.&lt;/p&gt;
+					
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/browsemem.tcl
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: trunk/src/server/httpd/build.sh
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:eol-style
   + LF

Modified: trunk/src/server/httpd/downloadmem.tcl
===================================================================
--- trunk/src/server/httpd/downloadmem.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/downloadmem.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,366 +1,366 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot; style=&quot;&quot;&gt;Browse / Edit&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;downloadmem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Download&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Download Memory Range&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			}
-
-				set form_address [formfetch form_address]
-				set form_length [formfetch form_length]
-				set form_action [formfetch form_action]
-			
-append buffer {			
-			&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
-append buffer $form_address
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;}
-append buffer $form_length
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
-				
-				
-			&lt;/form&gt;
-			}
-
-				if {[string compare $form_action &quot;Download&quot;]==0} {
-					append console [encode [capture_catch &quot;reset init&quot;]]
-					append console [encode [capture_catch &quot;dump_image /tmp/dump.bin $form_address $form_length&quot;]]
-					
-append buffer {
-					&lt;form action=&quot;../dump.bin&quot; target=&quot;_blank&quot;&gt; 
-						&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Save downloaded memory&quot;&gt;
-					&lt;/form&gt;
-					}
- 
-				}
-				
-			
-append buffer {
-
-
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;downloadmem.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-					
-				Download memory from target. &lt;br&gt;
-				&lt;b&gt;Note&lt;/b&gt; that download memory can take
-				a long time(potentially minutes for megabytes at low JTAG clk speeds).
-				&lt;p/&gt;
-				Once the memory is downloaded a link is available on the page to download
-				the file to your PC.
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot; style=&quot;&quot;&gt;Browse / Edit&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;downloadmem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Download&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Download Memory Range&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			}
+
+				set form_address [formfetch form_address]
+				set form_length [formfetch form_length]
+				set form_action [formfetch form_action]
+			
+append buffer {			
+			&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
+append buffer $form_address
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;}
+append buffer $form_length
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
+				
+				
+			&lt;/form&gt;
+			}
+
+				if {[string compare $form_action &quot;Download&quot;]==0} {
+					append console [encode [capture_catch &quot;reset init&quot;]]
+					append console [encode [capture_catch &quot;dump_image /tmp/dump.bin $form_address $form_length&quot;]]
+					
+append buffer {
+					&lt;form action=&quot;../dump.bin&quot; target=&quot;_blank&quot;&gt; 
+						&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Save downloaded memory&quot;&gt;
+					&lt;/form&gt;
+					}
+ 
+				}
+				
+			
+append buffer {
+
+
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;downloadmem.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+					
+				Download memory from target. &lt;br&gt;
+				&lt;b&gt;Note&lt;/b&gt; that download memory can take
+				a long time(potentially minutes for megabytes at low JTAG clk speeds).
+				&lt;p/&gt;
+				Once the memory is downloaded a link is available on the page to download
+				the file to your PC.
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/downloadmem.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/editconfigs.tcl
===================================================================
--- trunk/src/server/httpd/editconfigs.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/editconfigs.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,462 +1,462 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
-&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;preconfig.tcl&quot; style=&quot;&quot;&gt;Select Target Config&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;editconfigs.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Edit Configurations&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;reload.tcl&quot; style=&quot;&quot;&gt;Reload Config Scripts&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Edit Target Configurations&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			&lt;form action=&quot;editconfigs.tcl&quot; method=&quot;post&quot;&gt;
-			}
-
-				set form_edittext [formfetch form_edittext]
-				set form_action [formfetch form_action]
-				set form_filename [formfetch form_filename]
-				set form_selected [formfetch form_selected] 
-				
-				if {[string compare $form_action &quot;Load&quot;]==0} {
-					set form_filename $form_selected
-				}
-				
-				if {[string compare $form_action &quot;Delete&quot;]==0} {
-					capture_catch &quot;rm /config/settings/$form_selected&quot;
-				}
-				
-				if {[string compare $form_action &quot;Save&quot;]==0} {
-					save_var $form_filename [from_textarea $form_edittext] 
-					append buffer &quot;Wrote file $form_filename&lt;br&gt;&quot;
-				}
-			
-				set form_edittext &quot;&quot;
-				
-				# load original or script saved on disk.
-				if {[string compare $form_action &quot;Show default&quot;]==0} {
-					set form_edittext [load_file &quot;/rom/$form_selected&quot;]
-					set form_filename $form_selected
-				} else {
-				    set form_edittext [load_config $form_filename]
-				}
-			
-				set form_edittext_subst [to_textarea $form_edittext]
-			
-				
-				proc prepend { val list } {
-					set res &quot;&quot;				
-			        foreach value $list {
-			        	set t $val
-			        	append t $value
-			            lappend res $t
-			        }
-			        return $res
-				 }				
-				
-				set files [prepend target/ [ls /rom/target]]
-				set files [lunion $files [prepend event/ [ls /config/settings/event]]]
-				set files [lunion $files [prepend target/ [ls /config/settings/target]]]
-				set files [lsort $files]
-				
-				
-append buffer {
-				&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;
-					&lt;td style=&quot;padding-top:1px;&quot;&gt;&lt;select name=&quot;form_selected&quot;&gt;
-						}
-
-							set foundTarget 0
-							foreach i $files {
-								
-append buffer {
-							  		&lt;option 
-							  		}
-
-								  		if {[string compare $form_filename $i]==0} { 
-											set foundTarget 1
-									  		append buffer {selected=&quot;selected&quot;} 
-								  		}
-								  	
-append buffer {
-						  		value=&quot;}
-append buffer $i
-append buffer {&quot;&gt;}
-append buffer $i
-append buffer {&lt;/option&gt;
-								}
-
-							}
-							if {$foundTarget==0} {
-								
-append buffer {
-							  		&lt;option selected=&quot;selected&quot; value=&quot;&quot;&gt;Select target config&lt;/option&gt;
-								}
-
-							}
-						
-append buffer {
-					&lt;/select&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Load&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Show default&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Delete&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-				&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;21&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; wrap=&quot;off&quot;&gt;}
-append buffer $form_edittext_subst
-append buffer {&lt;/textarea&gt;
-				&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;
-				}
-
-					append buffer {&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot; } &quot;\n&quot;
-					append buffer &quot;value=\&quot;$form_filename\&quot; &gt;&lt;/td&gt;\n&quot;
-					append buffer {&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;&lt;br&gt;} &quot;\n&quot;
-					append buffer {&lt;/tr&gt;&lt;/table&gt;} &quot;\n&quot;
-				
-append buffer {
-			&lt;/form&gt;			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;editconfigs.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Here you can edit predefined target configurations, restore predefined configurations to
-				default state and create new target configurations.&lt;p/&gt;
-				&lt;p&gt;Typically when creating a new target configuration, you would take an existing
-				configuration that resembles the most your needs and modify it for your
-				purposes and save it under a different name.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Load&lt;/b&gt; - Loads a configuration file into the editor.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Show default&lt;/b&gt; - Loads the firmware included version of the
-				configuration file (if any), into the editor.&lt;br&gt;
-				&lt;b&gt;Note&lt;/b&gt; that the editor content is not saved.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Delete&lt;/b&gt; - Deletes a custom created configuration file.&lt;br&gt;
-				&lt;b&gt;Note&lt;/b&gt; that firmware included configuration files can not be deleted.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Save&lt;/b&gt; - Save the edited file under the a new or the same name.&lt;/p&gt;
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td/&gt;
-&lt;td&gt;
-&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-
-
-
-		
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
+&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;preconfig.tcl&quot; style=&quot;&quot;&gt;Select Target Config&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;editconfigs.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Edit Configurations&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;reload.tcl&quot; style=&quot;&quot;&gt;Reload Config Scripts&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Edit Target Configurations&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			&lt;form action=&quot;editconfigs.tcl&quot; method=&quot;post&quot;&gt;
+			}
+
+				set form_edittext [formfetch form_edittext]
+				set form_action [formfetch form_action]
+				set form_filename [formfetch form_filename]
+				set form_selected [formfetch form_selected] 
+				
+				if {[string compare $form_action &quot;Load&quot;]==0} {
+					set form_filename $form_selected
+				}
+				
+				if {[string compare $form_action &quot;Delete&quot;]==0} {
+					capture_catch &quot;rm /config/settings/$form_selected&quot;
+				}
+				
+				if {[string compare $form_action &quot;Save&quot;]==0} {
+					save_var $form_filename [from_textarea $form_edittext] 
+					append buffer &quot;Wrote file $form_filename&lt;br&gt;&quot;
+				}
+			
+				set form_edittext &quot;&quot;
+				
+				# load original or script saved on disk.
+				if {[string compare $form_action &quot;Show default&quot;]==0} {
+					set form_edittext [load_file &quot;/rom/$form_selected&quot;]
+					set form_filename $form_selected
+				} else {
+				    set form_edittext [load_config $form_filename]
+				}
+			
+				set form_edittext_subst [to_textarea $form_edittext]
+			
+				
+				proc prepend { val list } {
+					set res &quot;&quot;				
+			        foreach value $list {
+			        	set t $val
+			        	append t $value
+			            lappend res $t
+			        }
+			        return $res
+				 }				
+				
+				set files [prepend target/ [ls /rom/target]]
+				set files [lunion $files [prepend event/ [ls /config/settings/event]]]
+				set files [lunion $files [prepend target/ [ls /config/settings/target]]]
+				set files [lsort $files]
+				
+				
+append buffer {
+				&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;
+					&lt;td style=&quot;padding-top:1px;&quot;&gt;&lt;select name=&quot;form_selected&quot;&gt;
+						}
+
+							set foundTarget 0
+							foreach i $files {
+								
+append buffer {
+							  		&lt;option 
+							  		}
+
+								  		if {[string compare $form_filename $i]==0} { 
+											set foundTarget 1
+									  		append buffer {selected=&quot;selected&quot;} 
+								  		}
+								  	
+append buffer {
+						  		value=&quot;}
+append buffer $i
+append buffer {&quot;&gt;}
+append buffer $i
+append buffer {&lt;/option&gt;
+								}
+
+							}
+							if {$foundTarget==0} {
+								
+append buffer {
+							  		&lt;option selected=&quot;selected&quot; value=&quot;&quot;&gt;Select target config&lt;/option&gt;
+								}
+
+							}
+						
+append buffer {
+					&lt;/select&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Load&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Show default&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Delete&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+				&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;21&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; wrap=&quot;off&quot;&gt;}
+append buffer $form_edittext_subst
+append buffer {&lt;/textarea&gt;
+				&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;
+				}
+
+					append buffer {&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot; } &quot;\n&quot;
+					append buffer &quot;value=\&quot;$form_filename\&quot; &gt;&lt;/td&gt;\n&quot;
+					append buffer {&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;&lt;br&gt;} &quot;\n&quot;
+					append buffer {&lt;/tr&gt;&lt;/table&gt;} &quot;\n&quot;
+				
+append buffer {
+			&lt;/form&gt;			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;editconfigs.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Here you can edit predefined target configurations, restore predefined configurations to
+				default state and create new target configurations.&lt;p/&gt;
+				&lt;p&gt;Typically when creating a new target configuration, you would take an existing
+				configuration that resembles the most your needs and modify it for your
+				purposes and save it under a different name.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Load&lt;/b&gt; - Loads a configuration file into the editor.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Show default&lt;/b&gt; - Loads the firmware included version of the
+				configuration file (if any), into the editor.&lt;br&gt;
+				&lt;b&gt;Note&lt;/b&gt; that the editor content is not saved.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Delete&lt;/b&gt; - Deletes a custom created configuration file.&lt;br&gt;
+				&lt;b&gt;Note&lt;/b&gt; that firmware included configuration files can not be deleted.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Save&lt;/b&gt; - Save the edited file under the a new or the same name.&lt;/p&gt;
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td/&gt;
+&lt;td&gt;
+&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+
+
+
+		
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/editconfigs.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/editfile.tcl
===================================================================
--- trunk/src/server/httpd/editfile.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/editfile.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,436 +1,436 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-		
-		
-
-		
-		
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
-&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;zy1000.tcl&quot; style=&quot;&quot;&gt;Set IP Address&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;upgrade.tcl&quot; style=&quot;&quot;&gt;ZY1000 Firmware&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;editfile.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Edit File&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;support.tcl&quot; style=&quot;&quot;&gt;Support Request&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/zy1000.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Setup ZY1000&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Edit File&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-}
-
-			
-
-#Read a text file, edit it and write it back. Useful for interactive debugging
-#of tcl scripts
-
-set data &quot;&quot;
-append buffer {&lt;form action=&quot;editfile.tcl&quot; method=&quot;post&quot;&gt;} &quot;\n&quot;
-
-set err &quot;&quot;;
-
-set form_edittext [formfetch form_edittext];
-set form_action [formfetch form_action];
-set form_filename [formfetch form_filename];
-
-puts Action $form_action
-
-if {[string compare $form_action &quot;Load&quot;]==0} {
-
-	set form_edittext &quot;&quot;
-	catch {
-		set fp [aio.open $form_filename r];
-		set form_edittext [$fp read];
-		$fp close;
-	} err
-}
-if {[string compare $form_action &quot;Delete&quot;]==0} {
-	capture &quot;rm $form_filename&quot;
-}
-
-set form_edittext_subst [to_textarea $form_edittext]
-
-
-if {[string compare $form_action &quot;Save&quot;]==0} {
-	if {[catch {
-		set fp [aio.open $form_filename w];
-		$fp puts [from_textarea $form_edittext]
-		$fp close
-		append buffer &quot;Wrote file $form_filename&lt;br&gt;&quot;
-	} err]} {
-		append buffer &quot;Could not write $form_filename&lt;br&gt;&quot;
-	} 
-}
-
-
-
-
-append buffer {&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td style=&quot;padding-top:1px;&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot; } &quot;\n&quot;
-append buffer &quot;value=\&quot;$form_filename\&quot; &gt;&lt;/td&gt;\n&quot;
-append buffer {&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Load&quot; name=&quot;form_action&quot; &gt;&lt;/td&gt;&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Delete&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;} &quot;\n&quot;
-append buffer {&lt;/tr&gt;&lt;/table&gt;} &quot;\n&quot;
-append buffer {&lt;br&gt;}	
-
-append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;18&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; wrap=&quot;off&quot;&gt;}
-append buffer $form_edittext_subst
-append buffer {&lt;/textarea&gt;&lt;br&gt;}
-
-append buffer {&lt;/html&gt; } &quot;\n&quot;
-
-
-	
-append buffer {
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;/ram/cgi/editfile.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				Edit any file on the ZY1000 by typing in the
-				filename and pressing Load.
-				&lt;/p&gt;
-				&lt;table style=&quot;line-height:17px;&quot;&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;a href=&quot;/ram&quot; target=&quot;_blank&quot;&gt;Browse files on /ram&lt;/a&gt;&lt;br&gt;
-					&lt;a href=&quot;/config&quot; target=&quot;_blank&quot;&gt;Browse files on /config&lt;/a&gt;&lt;br&gt;
-					&lt;a href=&quot;/rom&quot; target=&quot;_blank&quot;&gt;Browse files on /rom&lt;/a&gt;&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td/&gt;
-&lt;td&gt;
-&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-
-
-
-		
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+		
+		
+
+		
+		
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
+&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;zy1000.tcl&quot; style=&quot;&quot;&gt;Set IP Address&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;upgrade.tcl&quot; style=&quot;&quot;&gt;ZY1000 Firmware&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;editfile.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Edit File&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;support.tcl&quot; style=&quot;&quot;&gt;Support Request&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/zy1000.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Setup ZY1000&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Edit File&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+}
+
+			
+
+#Read a text file, edit it and write it back. Useful for interactive debugging
+#of tcl scripts
+
+set data &quot;&quot;
+append buffer {&lt;form action=&quot;editfile.tcl&quot; method=&quot;post&quot;&gt;} &quot;\n&quot;
+
+set err &quot;&quot;;
+
+set form_edittext [formfetch form_edittext];
+set form_action [formfetch form_action];
+set form_filename [formfetch form_filename];
+
+puts Action $form_action
+
+if {[string compare $form_action &quot;Load&quot;]==0} {
+
+	set form_edittext &quot;&quot;
+	catch {
+		set fp [aio.open $form_filename r];
+		set form_edittext [$fp read];
+		$fp close;
+	} err
+}
+if {[string compare $form_action &quot;Delete&quot;]==0} {
+	capture &quot;rm $form_filename&quot;
+}
+
+set form_edittext_subst [to_textarea $form_edittext]
+
+
+if {[string compare $form_action &quot;Save&quot;]==0} {
+	if {[catch {
+		set fp [aio.open $form_filename w];
+		$fp puts [from_textarea $form_edittext]
+		$fp close
+		append buffer &quot;Wrote file $form_filename&lt;br&gt;&quot;
+	} err]} {
+		append buffer &quot;Could not write $form_filename&lt;br&gt;&quot;
+	} 
+}
+
+
+
+
+append buffer {&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td style=&quot;padding-top:1px;&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot; } &quot;\n&quot;
+append buffer &quot;value=\&quot;$form_filename\&quot; &gt;&lt;/td&gt;\n&quot;
+append buffer {&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Load&quot; name=&quot;form_action&quot; &gt;&lt;/td&gt;&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Save&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Delete&quot; name=&quot;form_action&quot;&gt;&lt;/td&gt;} &quot;\n&quot;
+append buffer {&lt;/tr&gt;&lt;/table&gt;} &quot;\n&quot;
+append buffer {&lt;br&gt;}	
+
+append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;18&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; wrap=&quot;off&quot;&gt;}
+append buffer $form_edittext_subst
+append buffer {&lt;/textarea&gt;&lt;br&gt;}
+
+append buffer {&lt;/html&gt; } &quot;\n&quot;
+
+
+	
+append buffer {
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;/ram/cgi/editfile.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				Edit any file on the ZY1000 by typing in the
+				filename and pressing Load.
+				&lt;/p&gt;
+				&lt;table style=&quot;line-height:17px;&quot;&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;a href=&quot;/ram&quot; target=&quot;_blank&quot;&gt;Browse files on /ram&lt;/a&gt;&lt;br&gt;
+					&lt;a href=&quot;/config&quot; target=&quot;_blank&quot;&gt;Browse files on /config&lt;/a&gt;&lt;br&gt;
+					&lt;a href=&quot;/rom&quot; target=&quot;_blank&quot;&gt;Browse files on /rom&lt;/a&gt;&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td/&gt;
+&lt;td&gt;
+&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+
+
+
+		
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/editfile.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/erase.tcl
===================================================================
--- trunk/src/server/httpd/erase.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/erase.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,387 +1,387 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;erase.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Erase&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Erase Flash&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-
-
-			
-			}
-
-			
-			set form_address [formfetch form_address]
-			set form_length [formfetch form_length]
-			set form_action [formfetch form_action]
-			
-			if {[string compare $form_length &quot;&quot;]==0} {
-				set form_length 0x10000
-			}  
-			if {[string compare $form_address &quot;&quot;]==0} {
-				if {[catch {[first_flash_base]} result]==0} {
-						set form_address &quot;0x[tohex $result]&quot;
-					}			
-			}  
-			
-			
-			if {[string compare $form_address &quot;&quot;]!=0} {
-				if {[string compare $form_action &quot;Erase&quot;]==0} {
-						append buffer &quot;&lt;code style=\&quot;white-space: nowrap;\&quot;&gt;&quot;
-						append console [encode [capture_catch {
-						reset init
-						flash erase_address $form_address $form_length}]]
-						append buffer &lt;/code&gt;
-				}  
-			}
-			
-			
-			
-append buffer {
-			
-			&lt;form action=&quot;erase.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
-append buffer $form_address
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;}
-append buffer $form_length
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Erase&quot;&gt;&lt;br&gt;
-				
-				
-			&lt;/form&gt;
-			
-
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;erase.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Note that flash programming will erase flash if required.&lt;p/&gt;
-				&lt;p&gt;Reset and init CPU, then erase address range.&lt;/p&gt;
-				&lt;p&gt;The length field is specified in number of bytes.&lt;/p&gt;
-					
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;erase.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Erase&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Erase Flash&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+
+
+			
+			}
+
+			
+			set form_address [formfetch form_address]
+			set form_length [formfetch form_length]
+			set form_action [formfetch form_action]
+			
+			if {[string compare $form_length &quot;&quot;]==0} {
+				set form_length 0x10000
+			}  
+			if {[string compare $form_address &quot;&quot;]==0} {
+				if {[catch {[first_flash_base]} result]==0} {
+						set form_address &quot;0x[tohex $result]&quot;
+					}			
+			}  
+			
+			
+			if {[string compare $form_address &quot;&quot;]!=0} {
+				if {[string compare $form_action &quot;Erase&quot;]==0} {
+						append buffer &quot;&lt;code style=\&quot;white-space: nowrap;\&quot;&gt;&quot;
+						append console [encode [capture_catch {
+						reset init
+						flash erase_address $form_address $form_length}]]
+						append buffer &lt;/code&gt;
+				}  
+			}
+			
+			
+			
+append buffer {
+			
+			&lt;form action=&quot;erase.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
+append buffer $form_address
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;}
+append buffer $form_length
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Erase&quot;&gt;&lt;br&gt;
+				
+				
+			&lt;/form&gt;
+			
+
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;erase.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Note that flash programming will erase flash if required.&lt;p/&gt;
+				&lt;p&gt;Reset and init CPU, then erase address range.&lt;/p&gt;
+				&lt;p&gt;The length field is specified in number of bytes.&lt;/p&gt;
+					
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/erase.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/flash.tcl
===================================================================
--- trunk/src/server/httpd/flash.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/flash.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,459 +1,459 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flash.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Program / Verify&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Program / Verify Flash&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			
-			}
-
-			
-			set form_offset [formfetch form_offset]
-			set form_action [formfetch form_action]
-			set form_type [formfetch form_type]
-			
-			
-			set post &quot;&quot;
-			catch {set post $post_data} err
-			
-			if {[string compare $form_offset &quot;&quot;]==0} {
-				set form_offset 0
-			}
-			if {[string compare $form_type &quot;&quot;]==0} {
-				set form_type &quot;&quot;
-			}
-			
-			
-append buffer {&lt;code style=&quot;white-space: nowrap;&quot;&gt;}
-
-			
-			set data &quot;&quot;
-			append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;flash.tcl&quot; method=&quot;post&quot;&gt;}
-			
-			set action_reset [expr {[string length $form_action]!=0}] 
-			set action_flash [expr {[string compare $form_action &quot;Flash&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}] 
-			set action_verify [expr {[string compare $form_action &quot;Verify&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}]
-			
-			if {$action_reset} {
-				append console [encode [capture_catch &quot;reset init&quot;]]
-			}
-			
-append buffer {
-			&lt;/code&gt;}
-
-				
-			append buffer {&lt;table&gt;}
-			append buffer {&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
-			append buffer &quot;&lt;tr&gt;&lt;td class=\&quot;formtext\&quot; &gt;Offset&lt;/td&gt;&lt;td&gt;&lt;input type=\&quot;text\&quot; name=\&quot;form_offset\&quot; value=\&quot;$form_offset\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;
-			
-			
-append buffer {
-			&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-top:1px;&quot;&gt;Type&lt;/td&gt;&lt;td&gt;
-			&lt;select name=&quot;form_type&quot;&gt;
-			  		&lt;option
-			   }
-if {[string compare $form_type &quot;&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer {
-			  		value =&quot;&quot;&gt;auto&lt;/option&gt;
-			  &lt;option 
-			   }
-if {[string compare $form_type &quot;elf&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer {
-			  value =&quot;elf&quot;&gt;elf&lt;/option&gt;
-			  &lt;option 
-			   }
-if {[string compare $form_type &quot;bin&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer {
-			  value =&quot;bin&quot;&gt;binary&lt;/option&gt;
-			  &lt;option 
-			   }
-if {[string compare $form_type &quot;ihex&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer {
-			  value =&quot;ihex&quot;&gt;ihex&lt;/option&gt;
-			  &lt;!-- broken &lt;option value =&quot;s19&quot;&gt;s19&lt;/option&gt; --&gt;
-			&lt;/select&gt;
-			&lt;/td&gt;
-			
-			&lt;/tr&gt;
-			
-			
-			&lt;/table&gt;
-			
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-			&lt;table&gt;&lt;tr&gt;
-				&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash&quot; &gt;&lt;/td&gt;
-				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash and verify&quot; &gt;&lt;/td&gt;
-				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Verify&quot; &gt;&lt;/td&gt;
-			&lt;/tr&gt;&lt;/table&gt;
-		
-			&lt;p&gt;
-			}
-
-			
-			if {$action_flash||$action_verify} {
-				catch {writeform form_filecontent $upload_filename} result
-				append console [encode $result]
-			}
-			append buffer &quot;&lt;br&gt;&quot;
-			if {$action_flash} {
-				append console [encode [capture_catch &quot;halt&quot;]]
-				append buffer &quot;&lt;b&gt;&quot;
-				if {[catch {capture_catch {eval &quot;flash write_image erase $upload_filename $form_offset $form_type&quot;}} result]} {
-					append buffer &quot;Flash write failed&lt;br&gt;&quot;
-					append console [encode $result]
-				} else {
-					append buffer [encode $result]
-					append buffer &quot;Flash write succeed&lt;br&gt;&quot;
-				}
-				append buffer &quot;&lt;/b&gt;&quot;
-			}
-			if {$action_verify} {
-				append console [encode [capture_catch &quot;halt&quot;]]
-				append buffer &quot;&lt;b&gt;&quot;
-				if {[catch {capture_catch {eval &quot;verify_image $upload_filename $form_offset $form_type&quot;}} result]} {
-					append buffer &quot;Verify failed&lt;br&gt;&quot;
-					append console [encode $result]
-				} else {
-					append buffer [encode $result]
-					append buffer &quot;Verify succeed&lt;br&gt;&quot;
-				}
-				append buffer &quot;&lt;/b&gt;&quot;
-			}
-			
-append buffer {		
-				
-			&lt;/form&gt;
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;flash.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Program and/or verify the flash on your target.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Flash&lt;/b&gt; - Halt CPU, automatically erase flash if required and program flash with image.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Flash and verify&lt;/b&gt; - Programs the flash and verifies the programmed flash content is correct.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Verify&lt;/b&gt; - Halt CPU and verify image in flash or RAM.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Offset&lt;/b&gt; - This value is added to the address of the image.&lt;br&gt; 
-					Binary images start at address 0 by default, whereas elf and ihex have addresses encoded into the image.&lt;br&gt; 
-					Typically 0 for elf/ihex and the address to	write the image to for binary files.&lt;/p&gt;
-					 
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flash.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Program / Verify&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Program / Verify Flash&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			
+			}
+
+			
+			set form_offset [formfetch form_offset]
+			set form_action [formfetch form_action]
+			set form_type [formfetch form_type]
+			
+			
+			set post &quot;&quot;
+			catch {set post $post_data} err
+			
+			if {[string compare $form_offset &quot;&quot;]==0} {
+				set form_offset 0
+			}
+			if {[string compare $form_type &quot;&quot;]==0} {
+				set form_type &quot;&quot;
+			}
+			
+			
+append buffer {&lt;code style=&quot;white-space: nowrap;&quot;&gt;}
+
+			
+			set data &quot;&quot;
+			append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;flash.tcl&quot; method=&quot;post&quot;&gt;}
+			
+			set action_reset [expr {[string length $form_action]!=0}] 
+			set action_flash [expr {[string compare $form_action &quot;Flash&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}] 
+			set action_verify [expr {[string compare $form_action &quot;Verify&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}]
+			
+			if {$action_reset} {
+				append console [encode [capture_catch &quot;reset init&quot;]]
+			}
+			
+append buffer {
+			&lt;/code&gt;}
+
+				
+			append buffer {&lt;table&gt;}
+			append buffer {&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
+			append buffer &quot;&lt;tr&gt;&lt;td class=\&quot;formtext\&quot; &gt;Offset&lt;/td&gt;&lt;td&gt;&lt;input type=\&quot;text\&quot; name=\&quot;form_offset\&quot; value=\&quot;$form_offset\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;
+			
+			
+append buffer {
+			&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-top:1px;&quot;&gt;Type&lt;/td&gt;&lt;td&gt;
+			&lt;select name=&quot;form_type&quot;&gt;
+			  		&lt;option
+			   }
+if {[string compare $form_type &quot;&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer {
+			  		value =&quot;&quot;&gt;auto&lt;/option&gt;
+			  &lt;option 
+			   }
+if {[string compare $form_type &quot;elf&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer {
+			  value =&quot;elf&quot;&gt;elf&lt;/option&gt;
+			  &lt;option 
+			   }
+if {[string compare $form_type &quot;bin&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer {
+			  value =&quot;bin&quot;&gt;binary&lt;/option&gt;
+			  &lt;option 
+			   }
+if {[string compare $form_type &quot;ihex&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer {
+			  value =&quot;ihex&quot;&gt;ihex&lt;/option&gt;
+			  &lt;!-- broken &lt;option value =&quot;s19&quot;&gt;s19&lt;/option&gt; --&gt;
+			&lt;/select&gt;
+			&lt;/td&gt;
+			
+			&lt;/tr&gt;
+			
+			
+			&lt;/table&gt;
+			
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+			&lt;table&gt;&lt;tr&gt;
+				&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash&quot; &gt;&lt;/td&gt;
+				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash and verify&quot; &gt;&lt;/td&gt;
+				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Verify&quot; &gt;&lt;/td&gt;
+			&lt;/tr&gt;&lt;/table&gt;
+		
+			&lt;p&gt;
+			}
+
+			
+			if {$action_flash||$action_verify} {
+				catch {writeform form_filecontent $upload_filename} result
+				append console [encode $result]
+			}
+			append buffer &quot;&lt;br&gt;&quot;
+			if {$action_flash} {
+				append console [encode [capture_catch &quot;halt&quot;]]
+				append buffer &quot;&lt;b&gt;&quot;
+				if {[catch {capture_catch {eval &quot;flash write_image erase $upload_filename $form_offset $form_type&quot;}} result]} {
+					append buffer &quot;Flash write failed&lt;br&gt;&quot;
+					append console [encode $result]
+				} else {
+					append buffer [encode $result]
+					append buffer &quot;Flash write succeed&lt;br&gt;&quot;
+				}
+				append buffer &quot;&lt;/b&gt;&quot;
+			}
+			if {$action_verify} {
+				append console [encode [capture_catch &quot;halt&quot;]]
+				append buffer &quot;&lt;b&gt;&quot;
+				if {[catch {capture_catch {eval &quot;verify_image $upload_filename $form_offset $form_type&quot;}} result]} {
+					append buffer &quot;Verify failed&lt;br&gt;&quot;
+					append console [encode $result]
+				} else {
+					append buffer [encode $result]
+					append buffer &quot;Verify succeed&lt;br&gt;&quot;
+				}
+				append buffer &quot;&lt;/b&gt;&quot;
+			}
+			
+append buffer {		
+				
+			&lt;/form&gt;
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;flash.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Program and/or verify the flash on your target.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Flash&lt;/b&gt; - Halt CPU, automatically erase flash if required and program flash with image.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Flash and verify&lt;/b&gt; - Programs the flash and verifies the programmed flash content is correct.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Verify&lt;/b&gt; - Halt CPU and verify image in flash or RAM.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Offset&lt;/b&gt; - This value is added to the address of the image.&lt;br&gt; 
+					Binary images start at address 0 by default, whereas elf and ihex have addresses encoded into the image.&lt;br&gt; 
+					Typically 0 for elf/ihex and the address to	write the image to for binary files.&lt;/p&gt;
+					 
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/flash.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/flashinfo.tcl
===================================================================
--- trunk/src/server/httpd/flashinfo.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/flashinfo.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,382 +1,382 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Info&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Flash Information&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-
-			&lt;div style=&quot;font-size:14px;&quot;&gt;Configured flash banks:&lt;/div&gt;
-			&lt;p&gt;			
-			&lt;code style=&quot;white-space: nowrap;&quot;&gt;
-				}
-
-					set flash_return [ocd_flash_banks]
-					if {[llength $flash_return]!=0} {
-						append buffer [encode [flash banks]]
-					
-						set form_action [formfetch form_action]
-						if {[string compare $form_action &quot;Reset CPU and probe flash&quot;]==0} {
-							append console [encode [capture_catch &quot;reset init&quot;]]
-							append buffer [encode [capture_catch &quot;flash probe 0&quot;]]
-							append buffer [encode [capture_catch &quot;flash info 0&quot;]]
-						}
-					} else {
-						append buffer &quot;No flash bank configured.&quot;
-					}
-				
-append buffer {
-				&lt;p&gt;
-				&lt;form action=&quot;flashinfo.tcl&quot; method=&quot;post&quot;&gt; 
-					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset CPU and probe flash&quot;&gt;
-				&lt;/form&gt;
-				}
-
-					foreach a [ocd_flash_banks] {
-						append buffer &quot;Flash bank at [format &quot;0x%08x size 0x%08x&quot; $a(base) $a(size)]: &quot;
-						
-append buffer {
-							&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
-								&lt;input type=&quot;hidden&quot; name=&quot;form_address&quot; value=&quot;}
-append buffer [format &quot;0x%08x&quot; $a(base)]
-append buffer {&quot;&gt;
-								&lt;input type=&quot;hidden&quot; name=&quot;form_length&quot; value=&quot;}
-append buffer [format &quot;0x%08x&quot; $a(size)]
-append buffer {&quot;&gt;
-		
-								&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
-								&lt;br&gt;
-							&lt;/form&gt;
-						}
-
-					}
-				
-append buffer {
-			&lt;/code&gt;
-			
-
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;flashinfo.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Here you will find information about the flash chips that you have
-				in your configuration.&lt;p/&gt;
-				&lt;p&gt;&lt;b&gt;Reset CPU and probe flash&lt;/b&gt; - This will reset the CPU and show
-				you more detailed information about your flash. This includes information about
-				the different sectors in the flash, and the flash driver used.&lt;/p&gt;
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Info&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Flash Information&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+
+			&lt;div style=&quot;font-size:14px;&quot;&gt;Configured flash banks:&lt;/div&gt;
+			&lt;p&gt;			
+			&lt;code style=&quot;white-space: nowrap;&quot;&gt;
+				}
+
+					set flash_return [ocd_flash_banks]
+					if {[llength $flash_return]!=0} {
+						append buffer [encode [flash banks]]
+					
+						set form_action [formfetch form_action]
+						if {[string compare $form_action &quot;Reset CPU and probe flash&quot;]==0} {
+							append console [encode [capture_catch &quot;reset init&quot;]]
+							append buffer [encode [capture_catch &quot;flash probe 0&quot;]]
+							append buffer [encode [capture_catch &quot;flash info 0&quot;]]
+						}
+					} else {
+						append buffer &quot;No flash bank configured.&quot;
+					}
+				
+append buffer {
+				&lt;p&gt;
+				&lt;form action=&quot;flashinfo.tcl&quot; method=&quot;post&quot;&gt; 
+					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset CPU and probe flash&quot;&gt;
+				&lt;/form&gt;
+				}
+
+					foreach a [ocd_flash_banks] {
+						append buffer &quot;Flash bank at [format &quot;0x%08x size 0x%08x&quot; $a(base) $a(size)]: &quot;
+						
+append buffer {
+							&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
+								&lt;input type=&quot;hidden&quot; name=&quot;form_address&quot; value=&quot;}
+append buffer [format &quot;0x%08x&quot; $a(base)]
+append buffer {&quot;&gt;
+								&lt;input type=&quot;hidden&quot; name=&quot;form_length&quot; value=&quot;}
+append buffer [format &quot;0x%08x&quot; $a(size)]
+append buffer {&quot;&gt;
+		
+								&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
+								&lt;br&gt;
+							&lt;/form&gt;
+						}
+
+					}
+				
+append buffer {
+			&lt;/code&gt;
+			
+
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;flashinfo.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Here you will find information about the flash chips that you have
+				in your configuration.&lt;p/&gt;
+				&lt;p&gt;&lt;b&gt;Reset CPU and probe flash&lt;/b&gt; - This will reset the CPU and show
+				you more detailed information about your flash. This includes information about
+				the different sectors in the flash, and the flash driver used.&lt;/p&gt;
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/flashinfo.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/guiupload.tcl
===================================================================
--- trunk/src/server/httpd/guiupload.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/guiupload.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,336 +1,336 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot; style=&quot;&quot;&gt;Run Command&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;guiupload.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Upload File&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Upload File&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			
-			}
-
-				set form_filename [formfetch form_filename];
-				set form_action [formfetch form_action];
-				#set form_filecontent [formfetch form_filecontent];
-				
-				append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;guiupload.tcl&quot; method=&quot;post&quot;&gt;}
-				append buffer &lt;br&gt; 
-				if {[string compare $form_action &quot;Upload&quot;]==0} {
-					if {[catch {writeform form_filecontent $form_filename} result]==0} {
-						append buffer [encode $result]
-					} else {
-						append buffer Wrote $form_filename
-					}
-				}
-				
-				append buffer {&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Filename on OpenOCD machine&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
-				append buffer {&lt;td class=&quot;formtext&quot;&gt;File to upload&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
-				append buffer {&lt;table&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
-				append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload&quot; &gt;&lt;br&gt; }
-				append buffer {&lt;/form&gt;}
-			
-			
-append buffer {
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;guiupload.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot; style=&quot;&quot;&gt;Run Command&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;guiupload.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Upload File&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Upload File&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			
+			}
+
+				set form_filename [formfetch form_filename];
+				set form_action [formfetch form_action];
+				#set form_filecontent [formfetch form_filecontent];
+				
+				append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;guiupload.tcl&quot; method=&quot;post&quot;&gt;}
+				append buffer &lt;br&gt; 
+				if {[string compare $form_action &quot;Upload&quot;]==0} {
+					if {[catch {writeform form_filecontent $form_filename} result]==0} {
+						append buffer [encode $result]
+					} else {
+						append buffer Wrote $form_filename
+					}
+				}
+				
+				append buffer {&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Filename on OpenOCD machine&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
+				append buffer {&lt;td class=&quot;formtext&quot;&gt;File to upload&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
+				append buffer {&lt;table&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
+				append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload&quot; &gt;&lt;br&gt; }
+				append buffer {&lt;/form&gt;}
+			
+			
+append buffer {
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;guiupload.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/guiupload.tcl
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: trunk/src/server/httpd/html2tcl.sh
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:eol-style
   + LF

Modified: trunk/src/server/httpd/httpd.tcl
===================================================================
--- trunk/src/server/httpd/httpd.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/httpd.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,113 +1,113 @@
-# some dummy proc's to get things going for test purposes
-
-
-
-proc ip {} {
-return 10.0.0.55
-}
-
-proc start_chunked {a} {
-	global httpdata
-	global httpmime
-	set httpmime $a
-	set httpdata &quot;&quot;
-}
-
-proc write_chunked {a} {
-	global httpdata
-	append httpdata $a
-}
-
-proc end_chunked {} {
-}
-
-
-
-#proc formfetch {a} {
-#	global httppostdata
-	#catch { 
-#	echo &quot;$a=$httppostdata($a)&quot;
-	#return $httppostdata($a) 
-	#}
-#	
-	#return &quot;&quot;  
-#}
-
-
-
-
-proc tohex {a} {
-   set r &quot;&quot;
-   while 1 {
-
-      set rem [expr $a%16]
-      set a [expr $a/16]
-      set r [string index &quot;0123456789abcdef&quot; $rem]$r
-      if ($a==0) then break
-   }  
-   return $r 
-}
-
-# encode text
-proc encode {a} {
-	return [string map {\n &lt;br/&gt; { } {&nbsp;} \t {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &gt; &gt; &lt; &lt; / &#47;} $a]
-}
-
-#stubs that can be overriden to save between sessions
-proc load_var {a} {
-	global glob_var
-	catch {
-		return $glob_var($a)
-	}
-	return &quot;&quot;
-}
-#stubs that can be overriden to save between sessions
-proc save_var {a b} {
-	catch { 
-	set glob_var($a) $b
-	return &quot;&quot;
-	} err
-	set glob_var($a) &quot;&quot;
-	return &quot;&quot;
-}
-
-
-
-proc to_textarea {a} {
-	return [string map {&amp; &#38; &gt; &gt; &lt; &lt; / &#47;} $a]
-}	
-
-proc from_textarea {a} {
-	return [string map {&gt; &gt; &lt; &lt; &#38; &amp; &#47; /} $a]
-}
-	
-proc lunion {a b} {
-	foreach e $a {
-		set x($e) {}
-	}
- 	foreach e $b {
-		if {![info exists x($e)]} {
-    		lappend a $e
-		}
-	}
- 	return $a
-}
- 
-
-# encode text
-proc encode {a} {
-	return [string map {\n &lt;br/&gt; { } {&nbsp;} \t {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &gt; &gt; &lt; &lt; / &#47;} $a]
-}
-
-# catch any exceptions, capture output and return it 
-proc capture_catch {a} {
-	catch {
-		capture {uplevel $a}
-	} result
-	return $result 
-}
-
-proc first_flash_base {} {
-	set t [lindex 0 [ocd_flash_banks]]
-	return $t(base)
-}
+# some dummy proc's to get things going for test purposes
+
+
+
+proc ip {} {
+return 10.0.0.55
+}
+
+proc start_chunked {a} {
+	global httpdata
+	global httpmime
+	set httpmime $a
+	set httpdata &quot;&quot;
+}
+
+proc write_chunked {a} {
+	global httpdata
+	append httpdata $a
+}
+
+proc end_chunked {} {
+}
+
+
+
+#proc formfetch {a} {
+#	global httppostdata
+	#catch { 
+#	echo &quot;$a=$httppostdata($a)&quot;
+	#return $httppostdata($a) 
+	#}
+#	
+	#return &quot;&quot;  
+#}
+
+
+
+
+proc tohex {a} {
+   set r &quot;&quot;
+   while 1 {
+
+      set rem [expr $a%16]
+      set a [expr $a/16]
+      set r [string index &quot;0123456789abcdef&quot; $rem]$r
+      if ($a==0) then break
+   }  
+   return $r 
+}
+
+# encode text
+proc encode {a} {
+	return [string map {\n &lt;br/&gt; { } {&nbsp;} \t {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &gt; &gt; &lt; &lt; / &#47;} $a]
+}
+
+#stubs that can be overriden to save between sessions
+proc load_var {a} {
+	global glob_var
+	catch {
+		return $glob_var($a)
+	}
+	return &quot;&quot;
+}
+#stubs that can be overriden to save between sessions
+proc save_var {a b} {
+	catch { 
+	set glob_var($a) $b
+	return &quot;&quot;
+	} err
+	set glob_var($a) &quot;&quot;
+	return &quot;&quot;
+}
+
+
+
+proc to_textarea {a} {
+	return [string map {&amp; &#38; &gt; &gt; &lt; &lt; / &#47;} $a]
+}	
+
+proc from_textarea {a} {
+	return [string map {&gt; &gt; &lt; &lt; &#38; &amp; &#47; /} $a]
+}
+	
+proc lunion {a b} {
+	foreach e $a {
+		set x($e) {}
+	}
+ 	foreach e $b {
+		if {![info exists x($e)]} {
+    		lappend a $e
+		}
+	}
+ 	return $a
+}
+ 
+
+# encode text
+proc encode {a} {
+	return [string map {\n &lt;br/&gt; { } {&nbsp;} \t {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &gt; &gt; &lt; &lt; / &#47;} $a]
+}
+
+# catch any exceptions, capture output and return it 
+proc capture_catch {a} {
+	catch {
+		capture {uplevel $a}
+	} result
+	return $result 
+}
+
+proc first_flash_base {} {
+	set t [lindex 0 [ocd_flash_banks]]
+	return $t(base)
+}


Property changes on: trunk/src/server/httpd/httpd.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/index.tcl
===================================================================
--- trunk/src/server/httpd/index.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/index.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,376 +1,376 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Target Status&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;OpenOCD debugger&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-
-			
-			&lt;table&gt;
-				&lt;tr&gt;&lt;td style=&quot;height:10px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td style=&quot;height:5px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-			&lt;/table&gt;
-
-			&lt;H1&gt;Target Status&lt;/H1&gt;
-
-			&lt;table&gt;
-				&lt;tr&gt;
-					&lt;td class=&quot;fontbigger&quot;&gt;
-						}
-
-							set form_address [formfetch form_address]
-							set form_action [formfetch form_action]
-							
-							if {[string compare $form_action &quot;Halt&quot;]==0} {
-								append console [encode [capture_catch &quot;halt&quot;]]
-							}
-							if {[string compare $form_action &quot;Resume&quot;]==0} {
-								append console [encode [capture_catch &quot;resume&quot;]]
-							}
-							  
-							if {[string compare $form_action &quot;Reset and run&quot;]==0} {
-								append console [encode [capture_catch &quot;reset run&quot;]]
-							}
-							
-							if {[string compare $form_action &quot;Power on&quot;]==0} {
-								append console [encode [capture_catch &quot;power on&quot;]]
-							}
-							if {[string compare $form_action &quot;Power off&quot;]==0} {
-								append console [encode [capture_catch &quot;power off&quot;]]
-							}
-						
-append buffer {
-					
-						}
-append console [encode [capture_catch poll]]
-append buffer {
-					&lt;/td&gt;
-				&lt;/tr&gt;
-			&lt;/table&gt;
-
-			&lt;form action=&quot;index.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Resume&quot;&gt;&lt;/td&gt;
-					&lt;td style=&quot;width:50px;&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-
-				&lt;br&gt;						
-				&lt;br&gt;						
-										
-				&lt;p&gt;
-			&lt;/form&gt;
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;index.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-					&lt;p&gt;Target status shows that status of the connected target. &lt;/p&gt; 
-					&lt;p&gt;&lt;b&gt;Current target&lt;/b&gt; - selected target configuration. &lt;br&gt;
-					&lt;p&gt;&lt;b&gt;Startup&lt;/b&gt; - whether or not the target script ran to completion. Note
-					that even if the target is disconnected, powered down or unresponsive, the
-					startup script will still run to completion. Startup - OK does not mean
-					that the target is fully operational, simply that the configuration script
-					did not contain syntax errors for instance. 
-					See log for details. &lt;br&gt;
-					&lt;p&gt;&lt;b&gt;Target power&lt;/b&gt; - Detects power on target. &lt;br&gt;
-					If the JTAG cable is not connected, or the target has no power, then no target power will be detected.&lt;/p&gt;
-					&lt;p&gt;Type &quot;help power&quot; in telnet for command to control power relay.&lt;/p&gt;
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Target Status&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;OpenOCD debugger&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+
+			
+			&lt;table&gt;
+				&lt;tr&gt;&lt;td style=&quot;height:10px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td style=&quot;height:5px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+			&lt;/table&gt;
+
+			&lt;H1&gt;Target Status&lt;/H1&gt;
+
+			&lt;table&gt;
+				&lt;tr&gt;
+					&lt;td class=&quot;fontbigger&quot;&gt;
+						}
+
+							set form_address [formfetch form_address]
+							set form_action [formfetch form_action]
+							
+							if {[string compare $form_action &quot;Halt&quot;]==0} {
+								append console [encode [capture_catch &quot;halt&quot;]]
+							}
+							if {[string compare $form_action &quot;Resume&quot;]==0} {
+								append console [encode [capture_catch &quot;resume&quot;]]
+							}
+							  
+							if {[string compare $form_action &quot;Reset and run&quot;]==0} {
+								append console [encode [capture_catch &quot;reset run&quot;]]
+							}
+							
+							if {[string compare $form_action &quot;Power on&quot;]==0} {
+								append console [encode [capture_catch &quot;power on&quot;]]
+							}
+							if {[string compare $form_action &quot;Power off&quot;]==0} {
+								append console [encode [capture_catch &quot;power off&quot;]]
+							}
+						
+append buffer {
+					
+						}
+append console [encode [capture_catch poll]]
+append buffer {
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/table&gt;
+
+			&lt;form action=&quot;index.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Resume&quot;&gt;&lt;/td&gt;
+					&lt;td style=&quot;width:50px;&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+
+				&lt;br&gt;						
+				&lt;br&gt;						
+										
+				&lt;p&gt;
+			&lt;/form&gt;
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;index.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+					&lt;p&gt;Target status shows that status of the connected target. &lt;/p&gt; 
+					&lt;p&gt;&lt;b&gt;Current target&lt;/b&gt; - selected target configuration. &lt;br&gt;
+					&lt;p&gt;&lt;b&gt;Startup&lt;/b&gt; - whether or not the target script ran to completion. Note
+					that even if the target is disconnected, powered down or unresponsive, the
+					startup script will still run to completion. Startup - OK does not mean
+					that the target is fully operational, simply that the configuration script
+					did not contain syntax errors for instance. 
+					See log for details. &lt;br&gt;
+					&lt;p&gt;&lt;b&gt;Target power&lt;/b&gt; - Detects power on target. &lt;br&gt;
+					If the JTAG cable is not connected, or the target has no power, then no target power will be detected.&lt;/p&gt;
+					&lt;p&gt;Type &quot;help power&quot; in telnet for command to control power relay.&lt;/p&gt;
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/index.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/log.tcl
===================================================================
--- trunk/src/server/httpd/log.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/log.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,343 +1,343 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
-&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot; style=&quot;&quot;&gt;Run Command&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;guiupload.tcl&quot; style=&quot;&quot;&gt;Upload File to ZY1000&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;View Tail of Log&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			}
-
-				append buffer &quot;&lt;code style=\&quot;white-space: nowrap;\&quot;&gt;&quot;
-				append buffer [encode [log]]
-				append buffer {&lt;p&gt;&lt;p&gt;&lt;p&gt;&lt;a name=&quot;tail&quot;/&gt;} 
-				append buffer {&lt;a href=&quot;log.tcl}
-				append buffer &quot;?rnd=[rand]&quot;
-				append buffer {#tail&quot;&gt;Refresh&lt;/a&gt;} 
-				append buffer {&lt;p&gt;} 
-				append buffer &quot;&lt;/code&gt;&quot;;
-			
-append buffer {
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;log.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td/&gt;
-&lt;td&gt;
-&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
+&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot; style=&quot;&quot;&gt;Run Command&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;guiupload.tcl&quot; style=&quot;&quot;&gt;Upload File to ZY1000&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;View Tail of Log&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			}
+
+				append buffer &quot;&lt;code style=\&quot;white-space: nowrap;\&quot;&gt;&quot;
+				append buffer [encode [log]]
+				append buffer {&lt;p&gt;&lt;p&gt;&lt;p&gt;&lt;a name=&quot;tail&quot;/&gt;} 
+				append buffer {&lt;a href=&quot;log.tcl}
+				append buffer &quot;?rnd=[rand]&quot;
+				append buffer {#tail&quot;&gt;Refresh&lt;/a&gt;} 
+				append buffer {&lt;p&gt;} 
+				append buffer &quot;&lt;/code&gt;&quot;;
+			
+append buffer {
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;log.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td/&gt;
+&lt;td&gt;
+&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/log.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/menu.xml
===================================================================
--- trunk/src/server/httpd/menu.xml	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/menu.xml	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,973 +1,973 @@
-&lt;?xml version = &quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot;?&gt;
-&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;plaintext.xsl&quot;?&gt;
-&lt;website&gt;
-	
-	&lt;language lang=&quot;Norsk&quot;&gt;
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;index.tcl&lt;/outfile&gt;
-			&lt;menutext&gt;Config Target&lt;/menutext&gt; 
-			&lt;menulink&gt;index.tcl&lt;/menulink&gt; 
-			&lt;pageheading&gt;OpenOCD debugger&lt;/pageheading&gt;
-			&lt;level2parent&gt;index.tcl&lt;/level2parent&gt;
-			&lt;level2menu href=&quot;index.tcl&quot; title=&quot;Target Status&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-			&lt;!-- 
-			&lt;level2menu href=&quot;terminal.tcl&quot; title=&quot;UART forwarding&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-			 --&gt;
-		
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-
-			
-			&lt;table&gt;
-				&lt;tr&gt;&lt;td style=&quot;height:10px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td style=&quot;height:5px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-			&lt;/table&gt;
-
-			&lt;H1&gt;Target Status&lt;/H1&gt;
-
-			&lt;table&gt;
-				&lt;tr&gt;
-					&lt;td class=&quot;fontbigger&quot;&gt;
-						&lt;tcl&gt;
-							set form_address [formfetch form_address]
-							set form_action [formfetch form_action]
-							
-							if {[string compare $form_action &quot;Halt&quot;]==0} {
-								append console [encode [capture_catch &quot;halt&quot;]]
-							}
-							if {[string compare $form_action &quot;Resume&quot;]==0} {
-								append console [encode [capture_catch &quot;resume&quot;]]
-							}
-							  
-							if {[string compare $form_action &quot;Reset and run&quot;]==0} {
-								append console [encode [capture_catch &quot;reset run&quot;]]
-							}
-							
-							if {[string compare $form_action &quot;Power on&quot;]==0} {
-								append console [encode [capture_catch &quot;power on&quot;]]
-							}
-							if {[string compare $form_action &quot;Power off&quot;]==0} {
-								append console [encode [capture_catch &quot;power off&quot;]]
-							}
-						&lt;/tcl&gt;
-					
-						&lt;tcl&gt;append console [encode [capture_catch poll]]&lt;/tcl&gt;
-					&lt;/td&gt;
-				&lt;/tr&gt;
-			&lt;/table&gt;
-
-			&lt;form action=&quot;index.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Resume&quot;&gt;&lt;/td&gt;
-					&lt;td style=&quot;width:50px;&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-
-				&lt;br&gt;						
-				&lt;br&gt;						
-										
-				&lt;p&gt;
-			&lt;/form&gt;
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;markup_code&gt;&lt;![CDATA[
-					&lt;p&gt;Target status shows that status of the connected target. &lt;/p&gt; 
-					&lt;p&gt;&lt;b&gt;Current target&lt;/b&gt; - selected target configuration. &lt;br&gt;
-					&lt;p&gt;&lt;b&gt;Startup&lt;/b&gt; - whether or not the target script ran to completion. Note
-					that even if the target is disconnected, powered down or unresponsive, the
-					startup script will still run to completion. Startup - OK does not mean
-					that the target is fully operational, simply that the configuration script
-					did not contain syntax errors for instance. 
-					See log for details. &lt;br&gt;
-					&lt;p&gt;&lt;b&gt;Target power&lt;/b&gt; - Detects power on target. &lt;br&gt;
-					If the JTAG cable is not connected, or the target has no power, then no target power will be detected.&lt;/p&gt;
-					&lt;p&gt;Type &quot;help power&quot; in telnet for command to control power relay.&lt;/p&gt;
-				]]&gt;&lt;/markup_code&gt;
-			&lt;/right_column&gt;
-			
-			&lt;/pagetext&gt;
-		&lt;/page&gt;
-		
-		
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;targets.tcl&lt;/outfile&gt;
-			&lt;level2parent&gt;documentation.tcl&lt;/level2parent&gt;
-			&lt;pageheading&gt;Target config quick start guide&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-				&lt;markup_code&gt;&lt;![CDATA[
-				
-				A target needs an openocd.cfg file. This config file sets up
-				the CPU, flash and reset init script. Either OpenOCD ships with an
-				openocd.cfg file for your target or you need to take an existing
-				config file and modify it for your needs.
-				&lt;p&gt; 
-				The reset init script is crucial. It will set up e.g. MMU, chip
-				select registers, etc. after a reset. The init.cfg (reset init script)
-				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
-				&lt;p&gt;
-				Writing an openocd.cfg from scratch is a non-trivial exercise, but
-				fortunally it only has to be done once for a target and afterwards it
-				rarely if ever needs to be changed.
-				
-				
-				]]&gt;&lt;/markup_code&gt;
-				&lt;right_column&gt;
-					
-					  Quick start guide on how to configure a target.
-				&lt;/right_column&gt;
-			&lt;/pagetext&gt;
-			
-			
-		&lt;/page&gt;
-
-
-
-		
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;flashinfo.tcl&lt;/outfile&gt;
-			&lt;menutext&gt;Flash&lt;/menutext&gt; 
-			&lt;menulink&gt;flashinfo.tcl&lt;/menulink&gt; 
-			&lt;pageheading&gt;Flash Information&lt;/pageheading&gt;
-			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
-			&lt;level2menu href=&quot;flashinfo.tcl&quot; title=&quot;Info&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-			&lt;level2menu href=&quot;erase.tcl&quot; title=&quot;Erase&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-			&lt;level2menu href=&quot;flash.tcl&quot; title=&quot;Program / Verify&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-			&lt;level2menu href=&quot;production.tcl&quot; title=&quot;Production&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-
-			&lt;div style=&quot;font-size:14px;&quot;&gt;Configured flash banks:&lt;/div&gt;
-			&lt;p&gt;			
-			&lt;code style=&quot;white-space: nowrap;&quot;&gt;
-				&lt;tcl&gt;
-					set flash_return [ocd_flash_banks]
-					if {[llength $flash_return]!=0} {
-						append buffer [encode [flash banks]]
-					
-						set form_action [formfetch form_action]
-						if {[string compare $form_action &quot;Reset CPU and probe flash&quot;]==0} {
-							append console [encode [capture_catch &quot;reset init&quot;]]
-							append buffer [encode [capture_catch &quot;flash probe 0&quot;]]
-							append buffer [encode [capture_catch &quot;flash info 0&quot;]]
-						}
-					} else {
-						append buffer &quot;No flash bank configured.&quot;
-					}
-				&lt;/tcl&gt;
-				&lt;p&gt;
-				&lt;form action=&quot;flashinfo.tcl&quot; method=&quot;post&quot;&gt; 
-					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset CPU and probe flash&quot;&gt;
-				&lt;/form&gt;
-				&lt;tcl&gt;
-					foreach a [ocd_flash_banks] {
-						append buffer &quot;Flash bank at [format &quot;0x%08x size 0x%08x&quot; $a(base) $a(size)]: &quot;
-						&lt;/tcl&gt;
-							&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
-								&lt;input type=&quot;hidden&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer [format &quot;0x%08x&quot; $a(base)]&lt;/tcl&gt;&quot;&gt;
-								&lt;input type=&quot;hidden&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer [format &quot;0x%08x&quot; $a(size)]&lt;/tcl&gt;&quot;&gt;
-		
-								&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
-								&lt;br&gt;
-							&lt;/form&gt;
-						&lt;tcl&gt;
-					}
-				&lt;/tcl&gt;
-			&lt;/code&gt;
-			
-
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				&lt;p&gt;Here you will find information about the flash chips that you have
-				in your configuration.&lt;p/&gt;
-				&lt;p&gt;&lt;b&gt;Reset CPU and probe flash&lt;/b&gt; - This will reset the CPU and show
-				you more detailed information about your flash. This includes information about
-				the different sectors in the flash, and the flash driver used.&lt;/p&gt;
-				]]&gt;
-			&lt;/right_column&gt;
-			
-			&lt;/pagetext&gt;
-		&lt;/page&gt;
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;flash.tcl&lt;/outfile&gt;
-			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
-			&lt;pageheading&gt;Program / Verify Flash&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-			
-			&lt;tcl&gt;
-			
-			set form_offset [formfetch form_offset]
-			set form_action [formfetch form_action]
-			set form_type [formfetch form_type]
-			
-			
-			set post &quot;&quot;
-			catch {set post $post_data} err
-			
-			if {[string compare $form_offset &quot;&quot;]==0} {
-				set form_offset 0
-			}
-			if {[string compare $form_type &quot;&quot;]==0} {
-				set form_type &quot;&quot;
-			}
-			
-			&lt;/tcl&gt;&lt;code style=&quot;white-space: nowrap;&quot;&gt;&lt;tcl&gt;
-			
-			set data &quot;&quot;
-			append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;flash.tcl&quot; method=&quot;post&quot;&gt;}
-			
-			set action_reset [expr {[string length $form_action]!=0}] 
-			set action_flash [expr {[string compare $form_action &quot;Flash&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}] 
-			set action_verify [expr {[string compare $form_action &quot;Verify&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}]
-			
-			if {$action_reset} {
-				append console [encode [capture_catch &quot;reset init&quot;]]
-			}
-			&lt;/tcl&gt;
-			&lt;/code&gt;&lt;tcl&gt;
-				
-			append buffer {&lt;table&gt;}
-			append buffer {&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
-			append buffer &quot;&lt;tr&gt;&lt;td class=\&quot;formtext\&quot; &gt;Offset&lt;/td&gt;&lt;td&gt;&lt;input type=\&quot;text\&quot; name=\&quot;form_offset\&quot; value=\&quot;$form_offset\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;
-			
-			&lt;/tcl&gt;
-			&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-top:1px;&quot;&gt;Type&lt;/td&gt;&lt;td&gt;
-			&lt;select name=&quot;form_type&quot;&gt;
-			  		&lt;option
-			   &lt;tcl&gt;if {[string compare $form_type &quot;&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
-			  		value =&quot;&quot;&gt;auto&lt;/option&gt;
-			  &lt;option 
-			   &lt;tcl&gt;if {[string compare $form_type &quot;elf&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
-			  value =&quot;elf&quot;&gt;elf&lt;/option&gt;
-			  &lt;option 
-			   &lt;tcl&gt;if {[string compare $form_type &quot;bin&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
-			  value =&quot;bin&quot;&gt;binary&lt;/option&gt;
-			  &lt;option 
-			   &lt;tcl&gt;if {[string compare $form_type &quot;ihex&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
-			  value =&quot;ihex&quot;&gt;ihex&lt;/option&gt;
-			  &lt;!-- broken &lt;option value =&quot;s19&quot;&gt;s19&lt;/option&gt; --&gt;
-			&lt;/select&gt;
-			&lt;/td&gt;
-			
-			&lt;/tr&gt;
-			
-			
-			&lt;/table&gt;
-			
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-			&lt;table&gt;&lt;tr&gt;
-				&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash&quot; &gt;&lt;/td&gt;
-				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash and verify&quot; &gt;&lt;/td&gt;
-				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Verify&quot; &gt;&lt;/td&gt;
-			&lt;/tr&gt;&lt;/table&gt;
-		
-			&lt;p&gt;
-			&lt;tcl&gt;
-			
-			if {$action_flash||$action_verify} {
-				catch {writeform form_filecontent $upload_filename} result
-				append console [encode $result]
-			}
-			append buffer &quot;&lt;br&gt;&quot;
-			if {$action_flash} {
-				append console [encode [capture_catch &quot;halt&quot;]]
-				append buffer &quot;&lt;b&gt;&quot;
-				if {[catch {capture_catch {eval &quot;flash write_image erase $upload_filename $form_offset $form_type&quot;}} result]} {
-					append buffer &quot;Flash write failed&lt;br&gt;&quot;
-					append console [encode $result]
-				} else {
-					append buffer [encode $result]
-					append buffer &quot;Flash write succeed&lt;br&gt;&quot;
-				}
-				append buffer &quot;&lt;/b&gt;&quot;
-			}
-			if {$action_verify} {
-				append console [encode [capture_catch &quot;halt&quot;]]
-				append buffer &quot;&lt;b&gt;&quot;
-				if {[catch {capture_catch {eval &quot;verify_image $upload_filename $form_offset $form_type&quot;}} result]} {
-					append buffer &quot;Verify failed&lt;br&gt;&quot;
-					append console [encode $result]
-				} else {
-					append buffer [encode $result]
-					append buffer &quot;Verify succeed&lt;br&gt;&quot;
-				}
-				append buffer &quot;&lt;/b&gt;&quot;
-			}
-			&lt;/tcl&gt;		
-				
-			&lt;/form&gt;
-			
-			]]&gt;&lt;/markup_code&gt;
-			
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				&lt;p&gt;Program and/or verify the flash on your target.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Flash&lt;/b&gt; - Halt CPU, automatically erase flash if required and program flash with image.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Flash and verify&lt;/b&gt; - Programs the flash and verifies the programmed flash content is correct.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Verify&lt;/b&gt; - Halt CPU and verify image in flash or RAM.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Offset&lt;/b&gt; - This value is added to the address of the image.&lt;br&gt; 
-					Binary images start at address 0 by default, whereas elf and ihex have addresses encoded into the image.&lt;br&gt; 
-					Typically 0 for elf/ihex and the address to	write the image to for binary files.&lt;/p&gt;
-					]]&gt; 
-			&lt;/right_column&gt;
-			
-			
-			&lt;/pagetext&gt;
-			
-		&lt;/page&gt;
-
-
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;production.tcl&lt;/outfile&gt;
-			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
-			&lt;pageheading&gt;Production&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-			&lt;tcl&gt;
-				set form_action [formfetch form_action]
-				set form_serialnumber [formfetch form_serialnumber]
-				append buffer [production_info]
-			&lt;/tcl&gt;
-				
-			&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;production.tcl&quot; method=&quot;post&quot;&gt;
-				&lt;code style=&quot;white-space: nowrap;&quot;&gt;
-					&lt;tcl&gt;	
-						if {[string compare $form_action &quot;Upload firmware&quot;]==0} {
-							set wrotedata [catch {writeform form_filecontent $upload_filename} result]  
-							append buffer [encode $result]
-							if {$wrotedata==0} {
-								append buffer &quot;&lt;br&gt;Running production procedure&lt;p&gt;&quot;
-								append buffer &quot;&lt;br&gt;Reset and init: &lt;br&gt;&quot;
-								
-								append console [encode [capture_catch {catch &quot;production $upload_filename $form_serialnumber&quot;}]]
-							}
-						}
-						if {[string compare $form_action &quot;Test&quot;]==0} {
-							append buffer &quot;&lt;br&gt;Running production test. Output from first 10 seconds printed below. &lt;p&gt;&quot;
-							
-							append console [encode [capture_catch {catch production_test}]]
-						}
-						if {[string compare $form_action &quot;Power on&quot;]==0} {
-							append console [encode [capture_catch &quot;power on&quot;]]
-						}
-						if {[string compare $form_action &quot;Power off&quot;]==0} {
-							append console [encode [capture_catch &quot;power off&quot;]]
-						}
-					&lt;/tcl&gt;
-				&lt;/code&gt;
-				&lt;tcl&gt;
-					append buffer {&lt;p class=&quot;formtext&quot;&gt;Firmware file(raw binary) &lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;p&gt;}
-					append buffer {&lt;p class=&quot;formtext&quot;&gt;Serial number &lt;input type=&quot;text&quot; name=&quot;form_serialnumber&quot;&gt;&lt;p&gt;}
-				&lt;/tcl&gt;
-				
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;table&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload firmware&quot; &gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Test&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-			&lt;/form&gt;
-			
-			]]&gt;&lt;/markup_code&gt;
-			
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				The target script can implement the &quot;production&quot;, &quot;production_info&quot; and &quot;production_test&quot; tcl proc's. These procedures
-				are used on this page. There are default implementations that do nothing.
-				
-				&lt;p&gt;&lt;b&gt;Upload firmware&lt;/b&gt; - Power cycle target, reset target and program raw binary file to flash bank 0, offset 0 and verify flash programming. Leave target powered on.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Test&lt;/b&gt; -  Power up target, run 10 second target test. Output is provided via the DCC output channel. &lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Power on&lt;/b&gt; - Power on target.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Power off&lt;/b&gt; - Power off target.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Serial number&lt;/b&gt; - A target script can use this string in the production procedure. Type &quot;help production&quot; for more info.&lt;/p&gt;
-					]]&gt; 
-			&lt;/right_column&gt;
-			
-			
-			&lt;/pagetext&gt;
-			
-		&lt;/page&gt;
-
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;erase.tcl&lt;/outfile&gt;
-			&lt;menulink&gt;erase.tcl&lt;/menulink&gt; 
-			&lt;pageheading&gt;Erase Flash&lt;/pageheading&gt;
-			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-
-
-			
-			&lt;tcl&gt;
-			
-			set form_address [formfetch form_address]
-			set form_length [formfetch form_length]
-			set form_action [formfetch form_action]
-			
-			if {[string compare $form_length &quot;&quot;]==0} {
-				set form_length 0x10000
-			}  
-			if {[string compare $form_address &quot;&quot;]==0} {
-				if {[catch {[first_flash_base]} result]==0} {
-						set form_address &quot;0x[tohex $result]&quot;
-					}			
-			}  
-			
-			
-			if {[string compare $form_address &quot;&quot;]!=0} {
-				if {[string compare $form_action &quot;Erase&quot;]==0} {
-						append buffer &quot;&lt;code style=\&quot;white-space: nowrap;\&quot;&gt;&quot;
-						append console [encode [capture_catch {
-						reset init
-						flash erase_address $form_address $form_length}]]
-						append buffer &lt;/code&gt;
-				}  
-			}
-			
-			
-			&lt;/tcl&gt;
-			
-			&lt;form action=&quot;erase.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer $form_length&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Erase&quot;&gt;&lt;br&gt;
-				
-				
-			&lt;/form&gt;
-			
-
-			
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				&lt;p&gt;Note that flash programming will erase flash if required.&lt;p/&gt;
-				&lt;p&gt;Reset and init CPU, then erase address range.&lt;/p&gt;
-				&lt;p&gt;The length field is specified in number of bytes.&lt;/p&gt;
-					]]&gt;
-			&lt;/right_column&gt;
-			
-			&lt;/pagetext&gt;
-		&lt;/page&gt;
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;run.tcl&lt;/outfile&gt;
-			&lt;menulink&gt;run.tcl&lt;/menulink&gt; 
-			&lt;pageheading&gt;Run program&lt;/pageheading&gt;
-			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-
-
-			
-&lt;tcl&gt;
-
-set form_address [formfetch form_address]
-set form_action [formfetch form_action]
-
-if {[string compare $form_action &quot;Run from address&quot;]==0} {
-	append console [encode [capture_catch &quot;halt&quot;]]
-	append console [encode [capture_catch &quot;wait_halt&quot;]]
-	append console [encode [capture_catch &quot;resume $form_address&quot;]]
-}  
-
-if {[string compare $form_action &quot;Halt&quot;]==0} {
-	append console [encode [capture_catch &quot;halt&quot;]]
-	append console [encode [capture_catch &quot;wait_halt&quot;]]
-}
-  
-if {[string compare $form_action &quot;Reset and run&quot;]==0} {
-	append console [encode [capture_catch &quot;reset run&quot;]]
-}
-  
-if {[string compare $form_action &quot;Reset and init&quot;]==0} {
-	append console [encode [capture_catch &quot;reset init&quot;]]
-}  
-
-append console [encode [capture_catch poll]]
-
-&lt;/tcl&gt;
-
-&lt;form action=&quot;run.tcl&quot; method=&quot;post&quot;&gt; 
-	&lt;table&gt;
-	&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-	&lt;/td&gt;&lt;/tr&gt;
-	&lt;/table&gt;
-	&lt;table&gt;
-		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-		&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-	&lt;/table&gt;
-	
-	&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Run from address&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and init&quot;&gt;&lt;br&gt;
-&lt;/form&gt;
-			
-
-			
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				&lt;p&gt;Reset and run - reset CPU and let it run.&lt;/p&gt;
-				&lt;p&gt;Halt - halt CPU.&lt;/p&gt;
-				&lt;p&gt;Run from address - halt CPU and resume from address. Default is resume from current address.&lt;/p&gt;
-				&lt;p&gt;Reset and init - reset CPU and run init script.&lt;/p&gt;
-				]]&gt;
-			&lt;/right_column&gt;
-			
-			&lt;/pagetext&gt;
-		&lt;/page&gt;
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;browsemem.tcl&lt;/outfile&gt;
-			&lt;menutext&gt;Memory&lt;/menutext&gt; 
-			&lt;menulink&gt;browsemem.tcl&lt;/menulink&gt; 
-			&lt;pageheading&gt;Browse / Edit Memory&lt;/pageheading&gt;
-			&lt;level2parent&gt;browsemem.tcl&lt;/level2parent&gt;
-			&lt;level2menu href=&quot;browsemem.tcl&quot; title=&quot;Browse / Edit&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;![CDATA[
-				Browse and edit memory.
-			]]&gt;
-			&lt;/level2menu&gt;
-			&lt;level2menu href=&quot;downloadmem.tcl&quot; title=&quot;Download&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;![CDATA[
-			    Copy memory range to developer machine
-			]]&gt;
-			&lt;/level2menu&gt;
-			
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-
-
-			
-			&lt;tcl&gt;
-			
-			set form_address [formfetch form_address]
-			set form_length [formfetch form_length]
-			set form_type [formfetch form_type]
-			set form_action [formfetch form_action]
-			set form_value [formfetch form_value]
-			
-			if {[string compare $form_length &quot;&quot;]==0} {
-				set form_length 0
-			}  
-			if {$form_length&lt;=0} {
-				set form_length 0x80
-			} 
-			if {$form_length&gt;0x1000} {
-				set form_length 0x1000
-			} 
-			
-			if {[string compare $form_type &quot;&quot;]==0} {
-				set form_type mdw
-			}
-			
-			if {[string compare $form_type &quot;mdw&quot;]==0} {
-				set wordsize 4
-				set modify_cmd mww 
-			}
-			if {[string compare $form_type &quot;mdh&quot;]==0} {
-				set wordsize 2
-				set modify_cmd mwh 
-			}
-			if {[string compare $form_type &quot;mdb&quot;]==0} {
-				set wordsize 1
-				set modify_cmd mwb 
-			}
-			
-			
-			
-			
-			if {[string compare $form_address &quot;&quot;]!=0} {
-				if {[string compare $form_action &quot;Previous&quot;]==0} {
-					# Kludge! Work around problems parsing hex in Jim Tcl expressions
-					incr form_address ; set form_address [expr $form_address-1]
-					if {$form_address-$form_length&gt;0} {
-						set form_address &quot;0x[tohex [expr $form_address-$form_length]]&quot;
-					} else {
-						set form_address &quot;0x0&quot;
-					}
-				}  
-				if {[string compare $form_action &quot;Next&quot;]==0} {
-					# Kludge! Work around problems parsing hex in Jim Tcl expressions
-					incr form_address ; set form_address [expr $form_address-1]
-					set form_address &quot;0x[tohex [expr $form_address+$form_length]]&quot;
-				}  
-				if {[string compare $form_action &quot;Modify&quot;]==0} {
-					append console [capture_catch &quot;$modify_cmd $form_address $form_value&quot;]
-				}  
-				if {[string compare $form_action &quot;Fill&quot;]==0} {
-					append console [capture_catch &quot;$modify_cmd $form_address $form_value $form_length&quot;]
-				}  
-			}
-			
-			
-			&lt;/tcl&gt;
-			
-			&lt;form action=&quot;browsemem.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer &quot;0x[tohex $form_length]&quot;&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Value&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_value&quot; value=&quot;&lt;tcl&gt;append buffer $form_value&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Modify&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Fill&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Type&lt;/td&gt;&lt;td style=&quot;padding-top:1px;&quot;&gt;
-				&lt;select name=&quot;form_type&quot;&gt;
-				  &lt;option 
-				    &lt;tcl&gt;if {[string compare $form_type &quot;mdb&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt; value =&quot;mdb&quot;&gt;8 bit
-				  &lt;/option&gt;
-				  &lt;option 
-				   &lt;tcl&gt;if {[string compare $form_type &quot;mdh&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt; value =&quot;mdh&quot;&gt;16 bit
-				  &lt;/option&gt;
-			  		&lt;option
-					   &lt;tcl&gt;if {[string compare $form_type &quot;mdw&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;value =&quot;mdw&quot;&gt;32 bit
-				  	&lt;/option&gt;
-				&lt;/select&gt;
-				
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;table&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Refresh&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Previous&quot; &gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Next&quot; &gt;&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-				&lt;br&gt;
-				
-			&lt;/form&gt;
-			&lt;p&gt;
-			&lt;div class=&quot;fontbigger&quot;&gt;Memory:&lt;/div&gt;&lt;p&gt;
-			&lt;code style=&quot;white-space: nowrap; font-size:11px;font:courier new;&quot;&gt;
-				&lt;tcl&gt;
-				if {[string compare $form_address &quot;&quot;]!=0} {
-					append console [encode [capture_catch halt]]
-					append buffer [encode [capture_catch &quot;$form_type $form_address [expr $form_length]&quot;]]
-				} 
-				&lt;/tcl&gt;
-			&lt;/code&gt;
-
-
-			
-
-			
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				&lt;p&gt;Browse and edit target memory.&lt;br&gt;
-				   Length is in bytes, maximum 4096 bytes.&lt;/p&gt; 
-				&lt;p&gt;An error message is shown when trying to browse or edit memory which cases a CPU fault.&lt;/p&gt;
-				&lt;p&gt;CPU will be halted if required.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Modify&lt;/b&gt; - Will modify only one byte, half-word or word starting at Address.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Fill&lt;/b&gt; - Will fill the specified region with the specified value.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Refresh&lt;/b&gt; - Display the content of the specified memory area.&lt;/p&gt;
-					]]&gt;
-			&lt;/right_column&gt;
-			
-			&lt;/pagetext&gt;
-		&lt;/page&gt;
-
-		
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;downloadmem.tcl&lt;/outfile&gt;
-			&lt;level2parent&gt;browsemem.tcl&lt;/level2parent&gt;
-			&lt;pageheading&gt;Download Memory Range&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-			&lt;tcl&gt;
-				set form_address [formfetch form_address]
-				set form_length [formfetch form_length]
-				set form_action [formfetch form_action]
-			&lt;/tcl&gt;			
-			&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
-				&lt;table&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer $form_length&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
-				
-				
-			&lt;/form&gt;
-			&lt;tcl&gt;
-				if {[string compare $form_action &quot;Download&quot;]==0} {
-					append console [encode [capture_catch &quot;reset init&quot;]]
-					append console [encode [capture_catch &quot;dump_image /tmp/dump.bin $form_address $form_length&quot;]]
-					&lt;/tcl&gt;
-					&lt;form action=&quot;../dump.bin&quot; target=&quot;_blank&quot;&gt; 
-						&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Save downloaded memory&quot;&gt;
-					&lt;/form&gt;
-					&lt;tcl&gt; 
-				}
-				
-			&lt;/tcl&gt;
-
-
-			
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;![CDATA[	
-				Download memory from target. &lt;br&gt;
-				&lt;b&gt;Note&lt;/b&gt; that download memory can take
-				a long time(potentially minutes for megabytes at low JTAG clk speeds).
-				&lt;p/&gt;
-				Once the memory is downloaded a link is available on the page to download
-				the file to your PC.
-				]]&gt;
-			&lt;/right_column&gt;
-			&lt;/pagetext&gt;
-			
-		&lt;/page&gt;
-
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;openocd.tcl&lt;/outfile&gt;
-			&lt;menutext&gt;OpenOCD&lt;/menutext&gt; 
-			&lt;menulink&gt;openocd.tcl&lt;/menulink&gt; 
-			&lt;pageheading&gt;Run Command&lt;/pageheading&gt;
-			&lt;level2parent&gt;openocd.tcl&lt;/level2parent&gt;
-			&lt;level2menu href=&quot;openocd.tcl&quot; title=&quot;Run Command&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;/level2menu&gt;
-			&lt;level2menu href=&quot;guiupload.tcl&quot; title=&quot;Upload File&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
-			&lt;![CDATA[
-			    Upload file
-			]]&gt;
-			&lt;/level2menu&gt;
-			
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-
-			&lt;tcl&gt;
-				set form_command [formfetch form_command]
-
-				set form_edittext &quot;&quot;
-				if {[string length $form_command]&gt;0} {
-					set form_edittext [capture_catch {eval $form_command}]
-				}
-				
-				append buffer {&lt;form action=&quot;openocd.tcl&quot; method=&quot;post&quot;&gt;} &quot;\n&quot;
-				append buffer {Command&lt;br&gt;}
-				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;5&quot; cols=&quot;65&quot; name=&quot;form_command&quot; wrap=&quot;off&quot;&gt;}
-				append buffer [to_textarea $form_command]
-				append buffer {&lt;/textarea&gt;&lt;br&gt;}
-				append buffer {&lt;input type=&quot;submit&quot; value=&quot;Run&quot; name=&quot;form_action&quot; &gt;&lt;br&gt;}
-				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;21&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; readonly=1 wrap=&quot;off&quot;&gt;}
-				append buffer [to_textarea $form_edittext]
-				append buffer {&lt;/textarea&gt;&lt;br&gt;}
-				
-				append buffer {&lt;/form&gt;} &quot;\n&quot;
-			
-			&lt;/tcl&gt;
-
-			]]&gt;&lt;/markup_code&gt;
-			
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				&lt;p&gt;Run tcl statement(s). Add &quot;ocd_&quot; prefix to OpenOCD commands otherwise
-				there will be no output, e.g. &quot;reset init&quot; use &quot;ocd_reset init&quot;.
-				&lt;p/&gt;
-				&lt;p&gt;&lt;a href=&quot;/ram/log&quot;&gt;Click here to download log&lt;/a&gt;.&lt;/p&gt;
-				&lt;p&gt;To download log you can also use commands like &quot;wget <A HREF="http://&lt;tcl">http://&lt;tcl</A>&gt;append buffer [ip]&lt;/tcl&gt;/ram/log&quot;, or
-				point your web browser to said address.&lt;/p&gt;
-				&lt;p&gt;
-				You can also execute tcl commands using curl from your developer PC:
-				&lt;/p&gt;
-				&lt;code&gt;
-				curl --form form_command=ocd_version &lt;tcl&gt;append buffer [ip]&lt;/tcl&gt;runtcl.tcl
-				&lt;/code&gt;
-				
-				]]&gt;
-			&lt;/right_column&gt;
-			&lt;/pagetext&gt;
-		&lt;/page&gt;
-
-		
-		
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;guiupload.tcl&lt;/outfile&gt;
-			&lt;level2parent&gt;openocd.tcl&lt;/level2parent&gt;
-			&lt;pageheading&gt;Upload File&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-			
-			&lt;tcl&gt;
-				set form_filename [formfetch form_filename];
-				set form_action [formfetch form_action];
-				#set form_filecontent [formfetch form_filecontent];
-				
-				append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;guiupload.tcl&quot; method=&quot;post&quot;&gt;}
-				append buffer &lt;br&gt; 
-				if {[string compare $form_action &quot;Upload&quot;]==0} {
-					if {[catch {writeform form_filecontent $form_filename} result]==0} {
-						append buffer [encode $result]
-					} else {
-						append buffer Wrote $form_filename
-					}
-				}
-				
-				append buffer {&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Filename on OpenOCD machine&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
-				append buffer {&lt;td class=&quot;formtext&quot;&gt;File to upload&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
-				append buffer {&lt;table&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
-				append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload&quot; &gt;&lt;br&gt; }
-				append buffer {&lt;/form&gt;}
-			
-			&lt;/tcl&gt;
-			
-			]]&gt;&lt;/markup_code&gt;
-			&lt;/pagetext&gt;
-			
-		&lt;/page&gt;
-		
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;outfile&gt;targets.tcl&lt;/outfile&gt;
-			&lt;level2parent&gt;documentation.tcl&lt;/level2parent&gt;
-			&lt;pageheading&gt;Target config quick start guide&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-				&lt;markup_code&gt;&lt;![CDATA[
-				
-				A target needs an openocd.cfg file. This config file sets up
-				the CPU, flash and reset init script. Either OpenOCD ships with an
-				openocd.cfg file for your target or you need to take an existing
-				config file and modify it for your needs.
-				&lt;p&gt; 
-				The reset init script is crucial. It will set up e.g. MMU, chip
-				select registers, etc. after a reset. The init.cfg (reset init script)
-				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
-				&lt;p&gt;
-				Writing an openocd.cfg from scratch is a non-trivial exercise, but
-				fortunally it only has to be done once for a target and afterwards it
-				rarely if ever needs to be changed.
-				
-				
-				]]&gt;&lt;/markup_code&gt;
-				&lt;right_column&gt;
-					
-					  Quick start guide on how to configure a target.
-				&lt;/right_column&gt;
-			&lt;/pagetext&gt;
-			
-			
-		&lt;/page&gt;
-
-
-		
-
-
-		&lt;page lang=&quot;eng&quot;&gt;
-			&lt;menulink&gt;index.tcl&lt;/menulink&gt; 
-			&lt;level2parent&gt;index.tcl&lt;/level2parent&gt;
-			&lt;outfile&gt;terminal.tcl&lt;/outfile&gt;
-			&lt;pageheading&gt;UART forwarding&lt;/pageheading&gt;
-			&lt;pagetext&gt;
-			&lt;markup_code&gt;&lt;![CDATA[
-			&lt;tcl&gt;
-				set form_baudrate [formfetch form_baudrate]
-				if {[string length $form_baudrate]==0} {
-					set form_baudrate [ocd_uart]
-					set form_baudrate [string range $form_baudrate 0 [expr [string length $form_baudrate]-2]]
-				}
-				set form_action [formfetch form_action]
-			&lt;/tcl&gt;
-			&lt;form action=&quot;terminal.tcl&quot; method=&quot;post&quot;&gt;
-				Target baudrate: 
-					&lt;select name=&quot;form_baudrate&quot;&gt;
-						&lt;tcl&gt;
-							foreach i {9600 19200 38400 57600 115200} { 
-							&lt;/tcl&gt;
-				  				&lt;option &lt;tcl&gt;if {[string compare $form_baudrate $i]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
-				  				value =&quot;&lt;tcl&gt;append buffer $i&lt;/tcl&gt;&quot;&gt;&lt;tcl&gt;append buffer $i&lt;/tcl&gt;&lt;/option&gt;
-				  			&lt;tcl&gt;
-				  			}
-				  			&lt;/tcl&gt;
-						&lt;/select&gt;
-
-					&lt;p&gt;	
-					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Set baudrate&quot; &gt;
-				&lt;/form&gt;			
-			&lt;tcl&gt;
-				if {[string compare $form_action &quot;Set baudrate&quot;]==0} {
-					append console [encode [ocd_uart $form_baudrate]]
-				}
-			&lt;/tcl&gt;
-			
-			&lt;h2&gt;Simple UART&lt;/h2&gt;
-			This terminal window is purely for illustrative purposes. Use telnet or a terminal program
-			to talk to the target over TCP/IP for anything but trivial case of reading/writing a few
-			lines of texts in simple tests.
-			&lt;p&gt;
-			]]&gt;&lt;/markup_code&gt;
-			&lt;right_column&gt;
-				&lt;![CDATA[
-				Serial port data to target is forwarded(both directions) in the simple terminal window
-				to the left. Alternatively you can &lt;b&gt;telnet &lt;tcl&gt;append buffer [ip]&lt;/tcl&gt; 5555&lt;/b&gt;
-				or connect via TCP/IP from e.g. HyperTerminal.
-				&lt;p&gt;
-				Type &quot;help uart&quot; in telnet for information on how to set uart speed for target. Normally
-				the uart speed is set from the target configuration script by adding an &quot;uart N&quot;, where
-				N is the baudrate.
-				]]&gt;
-			&lt;/right_column&gt;
-			&lt;/pagetext&gt;
-			
-		&lt;/page&gt;
-
-
-		
-	&lt;/language&gt;
-	
+&lt;?xml version = &quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot;?&gt;
+&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;plaintext.xsl&quot;?&gt;
+&lt;website&gt;
+	
+	&lt;language lang=&quot;Norsk&quot;&gt;
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;index.tcl&lt;/outfile&gt;
+			&lt;menutext&gt;Config Target&lt;/menutext&gt; 
+			&lt;menulink&gt;index.tcl&lt;/menulink&gt; 
+			&lt;pageheading&gt;OpenOCD debugger&lt;/pageheading&gt;
+			&lt;level2parent&gt;index.tcl&lt;/level2parent&gt;
+			&lt;level2menu href=&quot;index.tcl&quot; title=&quot;Target Status&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+			&lt;!-- 
+			&lt;level2menu href=&quot;terminal.tcl&quot; title=&quot;UART forwarding&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+			 --&gt;
+		
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+
+			
+			&lt;table&gt;
+				&lt;tr&gt;&lt;td style=&quot;height:10px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td style=&quot;height:5px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+			&lt;/table&gt;
+
+			&lt;H1&gt;Target Status&lt;/H1&gt;
+
+			&lt;table&gt;
+				&lt;tr&gt;
+					&lt;td class=&quot;fontbigger&quot;&gt;
+						&lt;tcl&gt;
+							set form_address [formfetch form_address]
+							set form_action [formfetch form_action]
+							
+							if {[string compare $form_action &quot;Halt&quot;]==0} {
+								append console [encode [capture_catch &quot;halt&quot;]]
+							}
+							if {[string compare $form_action &quot;Resume&quot;]==0} {
+								append console [encode [capture_catch &quot;resume&quot;]]
+							}
+							  
+							if {[string compare $form_action &quot;Reset and run&quot;]==0} {
+								append console [encode [capture_catch &quot;reset run&quot;]]
+							}
+							
+							if {[string compare $form_action &quot;Power on&quot;]==0} {
+								append console [encode [capture_catch &quot;power on&quot;]]
+							}
+							if {[string compare $form_action &quot;Power off&quot;]==0} {
+								append console [encode [capture_catch &quot;power off&quot;]]
+							}
+						&lt;/tcl&gt;
+					
+						&lt;tcl&gt;append console [encode [capture_catch poll]]&lt;/tcl&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/table&gt;
+
+			&lt;form action=&quot;index.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Resume&quot;&gt;&lt;/td&gt;
+					&lt;td style=&quot;width:50px;&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+
+				&lt;br&gt;						
+				&lt;br&gt;						
+										
+				&lt;p&gt;
+			&lt;/form&gt;
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;markup_code&gt;&lt;![CDATA[
+					&lt;p&gt;Target status shows that status of the connected target. &lt;/p&gt; 
+					&lt;p&gt;&lt;b&gt;Current target&lt;/b&gt; - selected target configuration. &lt;br&gt;
+					&lt;p&gt;&lt;b&gt;Startup&lt;/b&gt; - whether or not the target script ran to completion. Note
+					that even if the target is disconnected, powered down or unresponsive, the
+					startup script will still run to completion. Startup - OK does not mean
+					that the target is fully operational, simply that the configuration script
+					did not contain syntax errors for instance. 
+					See log for details. &lt;br&gt;
+					&lt;p&gt;&lt;b&gt;Target power&lt;/b&gt; - Detects power on target. &lt;br&gt;
+					If the JTAG cable is not connected, or the target has no power, then no target power will be detected.&lt;/p&gt;
+					&lt;p&gt;Type &quot;help power&quot; in telnet for command to control power relay.&lt;/p&gt;
+				]]&gt;&lt;/markup_code&gt;
+			&lt;/right_column&gt;
+			
+			&lt;/pagetext&gt;
+		&lt;/page&gt;
+		
+		
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;targets.tcl&lt;/outfile&gt;
+			&lt;level2parent&gt;documentation.tcl&lt;/level2parent&gt;
+			&lt;pageheading&gt;Target config quick start guide&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+				&lt;markup_code&gt;&lt;![CDATA[
+				
+				A target needs an openocd.cfg file. This config file sets up
+				the CPU, flash and reset init script. Either OpenOCD ships with an
+				openocd.cfg file for your target or you need to take an existing
+				config file and modify it for your needs.
+				&lt;p&gt; 
+				The reset init script is crucial. It will set up e.g. MMU, chip
+				select registers, etc. after a reset. The init.cfg (reset init script)
+				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
+				&lt;p&gt;
+				Writing an openocd.cfg from scratch is a non-trivial exercise, but
+				fortunally it only has to be done once for a target and afterwards it
+				rarely if ever needs to be changed.
+				
+				
+				]]&gt;&lt;/markup_code&gt;
+				&lt;right_column&gt;
+					
+					  Quick start guide on how to configure a target.
+				&lt;/right_column&gt;
+			&lt;/pagetext&gt;
+			
+			
+		&lt;/page&gt;
+
+
+
+		
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;flashinfo.tcl&lt;/outfile&gt;
+			&lt;menutext&gt;Flash&lt;/menutext&gt; 
+			&lt;menulink&gt;flashinfo.tcl&lt;/menulink&gt; 
+			&lt;pageheading&gt;Flash Information&lt;/pageheading&gt;
+			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
+			&lt;level2menu href=&quot;flashinfo.tcl&quot; title=&quot;Info&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+			&lt;level2menu href=&quot;erase.tcl&quot; title=&quot;Erase&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+			&lt;level2menu href=&quot;flash.tcl&quot; title=&quot;Program / Verify&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+			&lt;level2menu href=&quot;production.tcl&quot; title=&quot;Production&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+
+			&lt;div style=&quot;font-size:14px;&quot;&gt;Configured flash banks:&lt;/div&gt;
+			&lt;p&gt;			
+			&lt;code style=&quot;white-space: nowrap;&quot;&gt;
+				&lt;tcl&gt;
+					set flash_return [ocd_flash_banks]
+					if {[llength $flash_return]!=0} {
+						append buffer [encode [flash banks]]
+					
+						set form_action [formfetch form_action]
+						if {[string compare $form_action &quot;Reset CPU and probe flash&quot;]==0} {
+							append console [encode [capture_catch &quot;reset init&quot;]]
+							append buffer [encode [capture_catch &quot;flash probe 0&quot;]]
+							append buffer [encode [capture_catch &quot;flash info 0&quot;]]
+						}
+					} else {
+						append buffer &quot;No flash bank configured.&quot;
+					}
+				&lt;/tcl&gt;
+				&lt;p&gt;
+				&lt;form action=&quot;flashinfo.tcl&quot; method=&quot;post&quot;&gt; 
+					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset CPU and probe flash&quot;&gt;
+				&lt;/form&gt;
+				&lt;tcl&gt;
+					foreach a [ocd_flash_banks] {
+						append buffer &quot;Flash bank at [format &quot;0x%08x size 0x%08x&quot; $a(base) $a(size)]: &quot;
+						&lt;/tcl&gt;
+							&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
+								&lt;input type=&quot;hidden&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer [format &quot;0x%08x&quot; $a(base)]&lt;/tcl&gt;&quot;&gt;
+								&lt;input type=&quot;hidden&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer [format &quot;0x%08x&quot; $a(size)]&lt;/tcl&gt;&quot;&gt;
+		
+								&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
+								&lt;br&gt;
+							&lt;/form&gt;
+						&lt;tcl&gt;
+					}
+				&lt;/tcl&gt;
+			&lt;/code&gt;
+			
+
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				&lt;p&gt;Here you will find information about the flash chips that you have
+				in your configuration.&lt;p/&gt;
+				&lt;p&gt;&lt;b&gt;Reset CPU and probe flash&lt;/b&gt; - This will reset the CPU and show
+				you more detailed information about your flash. This includes information about
+				the different sectors in the flash, and the flash driver used.&lt;/p&gt;
+				]]&gt;
+			&lt;/right_column&gt;
+			
+			&lt;/pagetext&gt;
+		&lt;/page&gt;
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;flash.tcl&lt;/outfile&gt;
+			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
+			&lt;pageheading&gt;Program / Verify Flash&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+			
+			&lt;tcl&gt;
+			
+			set form_offset [formfetch form_offset]
+			set form_action [formfetch form_action]
+			set form_type [formfetch form_type]
+			
+			
+			set post &quot;&quot;
+			catch {set post $post_data} err
+			
+			if {[string compare $form_offset &quot;&quot;]==0} {
+				set form_offset 0
+			}
+			if {[string compare $form_type &quot;&quot;]==0} {
+				set form_type &quot;&quot;
+			}
+			
+			&lt;/tcl&gt;&lt;code style=&quot;white-space: nowrap;&quot;&gt;&lt;tcl&gt;
+			
+			set data &quot;&quot;
+			append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;flash.tcl&quot; method=&quot;post&quot;&gt;}
+			
+			set action_reset [expr {[string length $form_action]!=0}] 
+			set action_flash [expr {[string compare $form_action &quot;Flash&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}] 
+			set action_verify [expr {[string compare $form_action &quot;Verify&quot;]==0 || [string compare $form_action &quot;Flash and verify&quot;]==0}]
+			
+			if {$action_reset} {
+				append console [encode [capture_catch &quot;reset init&quot;]]
+			}
+			&lt;/tcl&gt;
+			&lt;/code&gt;&lt;tcl&gt;
+				
+			append buffer {&lt;table&gt;}
+			append buffer {&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;File&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
+			append buffer &quot;&lt;tr&gt;&lt;td class=\&quot;formtext\&quot; &gt;Offset&lt;/td&gt;&lt;td&gt;&lt;input type=\&quot;text\&quot; name=\&quot;form_offset\&quot; value=\&quot;$form_offset\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&quot;
+			
+			&lt;/tcl&gt;
+			&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-top:1px;&quot;&gt;Type&lt;/td&gt;&lt;td&gt;
+			&lt;select name=&quot;form_type&quot;&gt;
+			  		&lt;option
+			   &lt;tcl&gt;if {[string compare $form_type &quot;&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
+			  		value =&quot;&quot;&gt;auto&lt;/option&gt;
+			  &lt;option 
+			   &lt;tcl&gt;if {[string compare $form_type &quot;elf&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
+			  value =&quot;elf&quot;&gt;elf&lt;/option&gt;
+			  &lt;option 
+			   &lt;tcl&gt;if {[string compare $form_type &quot;bin&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
+			  value =&quot;bin&quot;&gt;binary&lt;/option&gt;
+			  &lt;option 
+			   &lt;tcl&gt;if {[string compare $form_type &quot;ihex&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
+			  value =&quot;ihex&quot;&gt;ihex&lt;/option&gt;
+			  &lt;!-- broken &lt;option value =&quot;s19&quot;&gt;s19&lt;/option&gt; --&gt;
+			&lt;/select&gt;
+			&lt;/td&gt;
+			
+			&lt;/tr&gt;
+			
+			
+			&lt;/table&gt;
+			
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+			&lt;table&gt;&lt;tr&gt;
+				&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash&quot; &gt;&lt;/td&gt;
+				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Flash and verify&quot; &gt;&lt;/td&gt;
+				&lt;td class=&quot;buttonspacesmall&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Verify&quot; &gt;&lt;/td&gt;
+			&lt;/tr&gt;&lt;/table&gt;
+		
+			&lt;p&gt;
+			&lt;tcl&gt;
+			
+			if {$action_flash||$action_verify} {
+				catch {writeform form_filecontent $upload_filename} result
+				append console [encode $result]
+			}
+			append buffer &quot;&lt;br&gt;&quot;
+			if {$action_flash} {
+				append console [encode [capture_catch &quot;halt&quot;]]
+				append buffer &quot;&lt;b&gt;&quot;
+				if {[catch {capture_catch {eval &quot;flash write_image erase $upload_filename $form_offset $form_type&quot;}} result]} {
+					append buffer &quot;Flash write failed&lt;br&gt;&quot;
+					append console [encode $result]
+				} else {
+					append buffer [encode $result]
+					append buffer &quot;Flash write succeed&lt;br&gt;&quot;
+				}
+				append buffer &quot;&lt;/b&gt;&quot;
+			}
+			if {$action_verify} {
+				append console [encode [capture_catch &quot;halt&quot;]]
+				append buffer &quot;&lt;b&gt;&quot;
+				if {[catch {capture_catch {eval &quot;verify_image $upload_filename $form_offset $form_type&quot;}} result]} {
+					append buffer &quot;Verify failed&lt;br&gt;&quot;
+					append console [encode $result]
+				} else {
+					append buffer [encode $result]
+					append buffer &quot;Verify succeed&lt;br&gt;&quot;
+				}
+				append buffer &quot;&lt;/b&gt;&quot;
+			}
+			&lt;/tcl&gt;		
+				
+			&lt;/form&gt;
+			
+			]]&gt;&lt;/markup_code&gt;
+			
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				&lt;p&gt;Program and/or verify the flash on your target.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Flash&lt;/b&gt; - Halt CPU, automatically erase flash if required and program flash with image.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Flash and verify&lt;/b&gt; - Programs the flash and verifies the programmed flash content is correct.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Verify&lt;/b&gt; - Halt CPU and verify image in flash or RAM.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Offset&lt;/b&gt; - This value is added to the address of the image.&lt;br&gt; 
+					Binary images start at address 0 by default, whereas elf and ihex have addresses encoded into the image.&lt;br&gt; 
+					Typically 0 for elf/ihex and the address to	write the image to for binary files.&lt;/p&gt;
+					]]&gt; 
+			&lt;/right_column&gt;
+			
+			
+			&lt;/pagetext&gt;
+			
+		&lt;/page&gt;
+
+
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;production.tcl&lt;/outfile&gt;
+			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
+			&lt;pageheading&gt;Production&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+			&lt;tcl&gt;
+				set form_action [formfetch form_action]
+				set form_serialnumber [formfetch form_serialnumber]
+				append buffer [production_info]
+			&lt;/tcl&gt;
+				
+			&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;production.tcl&quot; method=&quot;post&quot;&gt;
+				&lt;code style=&quot;white-space: nowrap;&quot;&gt;
+					&lt;tcl&gt;	
+						if {[string compare $form_action &quot;Upload firmware&quot;]==0} {
+							set wrotedata [catch {writeform form_filecontent $upload_filename} result]  
+							append buffer [encode $result]
+							if {$wrotedata==0} {
+								append buffer &quot;&lt;br&gt;Running production procedure&lt;p&gt;&quot;
+								append buffer &quot;&lt;br&gt;Reset and init: &lt;br&gt;&quot;
+								
+								append console [encode [capture_catch {catch &quot;production $upload_filename $form_serialnumber&quot;}]]
+							}
+						}
+						if {[string compare $form_action &quot;Test&quot;]==0} {
+							append buffer &quot;&lt;br&gt;Running production test. Output from first 10 seconds printed below. &lt;p&gt;&quot;
+							
+							append console [encode [capture_catch {catch production_test}]]
+						}
+						if {[string compare $form_action &quot;Power on&quot;]==0} {
+							append console [encode [capture_catch &quot;power on&quot;]]
+						}
+						if {[string compare $form_action &quot;Power off&quot;]==0} {
+							append console [encode [capture_catch &quot;power off&quot;]]
+						}
+					&lt;/tcl&gt;
+				&lt;/code&gt;
+				&lt;tcl&gt;
+					append buffer {&lt;p class=&quot;formtext&quot;&gt;Firmware file(raw binary) &lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;p&gt;}
+					append buffer {&lt;p class=&quot;formtext&quot;&gt;Serial number &lt;input type=&quot;text&quot; name=&quot;form_serialnumber&quot;&gt;&lt;p&gt;}
+				&lt;/tcl&gt;
+				
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;table&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload firmware&quot; &gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Test&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+			&lt;/form&gt;
+			
+			]]&gt;&lt;/markup_code&gt;
+			
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				The target script can implement the &quot;production&quot;, &quot;production_info&quot; and &quot;production_test&quot; tcl proc's. These procedures
+				are used on this page. There are default implementations that do nothing.
+				
+				&lt;p&gt;&lt;b&gt;Upload firmware&lt;/b&gt; - Power cycle target, reset target and program raw binary file to flash bank 0, offset 0 and verify flash programming. Leave target powered on.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Test&lt;/b&gt; -  Power up target, run 10 second target test. Output is provided via the DCC output channel. &lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Power on&lt;/b&gt; - Power on target.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Power off&lt;/b&gt; - Power off target.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Serial number&lt;/b&gt; - A target script can use this string in the production procedure. Type &quot;help production&quot; for more info.&lt;/p&gt;
+					]]&gt; 
+			&lt;/right_column&gt;
+			
+			
+			&lt;/pagetext&gt;
+			
+		&lt;/page&gt;
+
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;erase.tcl&lt;/outfile&gt;
+			&lt;menulink&gt;erase.tcl&lt;/menulink&gt; 
+			&lt;pageheading&gt;Erase Flash&lt;/pageheading&gt;
+			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+
+
+			
+			&lt;tcl&gt;
+			
+			set form_address [formfetch form_address]
+			set form_length [formfetch form_length]
+			set form_action [formfetch form_action]
+			
+			if {[string compare $form_length &quot;&quot;]==0} {
+				set form_length 0x10000
+			}  
+			if {[string compare $form_address &quot;&quot;]==0} {
+				if {[catch {[first_flash_base]} result]==0} {
+						set form_address &quot;0x[tohex $result]&quot;
+					}			
+			}  
+			
+			
+			if {[string compare $form_address &quot;&quot;]!=0} {
+				if {[string compare $form_action &quot;Erase&quot;]==0} {
+						append buffer &quot;&lt;code style=\&quot;white-space: nowrap;\&quot;&gt;&quot;
+						append console [encode [capture_catch {
+						reset init
+						flash erase_address $form_address $form_length}]]
+						append buffer &lt;/code&gt;
+				}  
+			}
+			
+			
+			&lt;/tcl&gt;
+			
+			&lt;form action=&quot;erase.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer $form_length&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Erase&quot;&gt;&lt;br&gt;
+				
+				
+			&lt;/form&gt;
+			
+
+			
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				&lt;p&gt;Note that flash programming will erase flash if required.&lt;p/&gt;
+				&lt;p&gt;Reset and init CPU, then erase address range.&lt;/p&gt;
+				&lt;p&gt;The length field is specified in number of bytes.&lt;/p&gt;
+					]]&gt;
+			&lt;/right_column&gt;
+			
+			&lt;/pagetext&gt;
+		&lt;/page&gt;
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;run.tcl&lt;/outfile&gt;
+			&lt;menulink&gt;run.tcl&lt;/menulink&gt; 
+			&lt;pageheading&gt;Run program&lt;/pageheading&gt;
+			&lt;level2parent&gt;flashinfo.tcl&lt;/level2parent&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+
+
+			
+&lt;tcl&gt;
+
+set form_address [formfetch form_address]
+set form_action [formfetch form_action]
+
+if {[string compare $form_action &quot;Run from address&quot;]==0} {
+	append console [encode [capture_catch &quot;halt&quot;]]
+	append console [encode [capture_catch &quot;wait_halt&quot;]]
+	append console [encode [capture_catch &quot;resume $form_address&quot;]]
+}  
+
+if {[string compare $form_action &quot;Halt&quot;]==0} {
+	append console [encode [capture_catch &quot;halt&quot;]]
+	append console [encode [capture_catch &quot;wait_halt&quot;]]
+}
+  
+if {[string compare $form_action &quot;Reset and run&quot;]==0} {
+	append console [encode [capture_catch &quot;reset run&quot;]]
+}
+  
+if {[string compare $form_action &quot;Reset and init&quot;]==0} {
+	append console [encode [capture_catch &quot;reset init&quot;]]
+}  
+
+append console [encode [capture_catch poll]]
+
+&lt;/tcl&gt;
+
+&lt;form action=&quot;run.tcl&quot; method=&quot;post&quot;&gt; 
+	&lt;table&gt;
+	&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+	&lt;/td&gt;&lt;/tr&gt;
+	&lt;/table&gt;
+	&lt;table&gt;
+		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+		&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+	&lt;/table&gt;
+	
+	&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Run from address&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and init&quot;&gt;&lt;br&gt;
+&lt;/form&gt;
+			
+
+			
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				&lt;p&gt;Reset and run - reset CPU and let it run.&lt;/p&gt;
+				&lt;p&gt;Halt - halt CPU.&lt;/p&gt;
+				&lt;p&gt;Run from address - halt CPU and resume from address. Default is resume from current address.&lt;/p&gt;
+				&lt;p&gt;Reset and init - reset CPU and run init script.&lt;/p&gt;
+				]]&gt;
+			&lt;/right_column&gt;
+			
+			&lt;/pagetext&gt;
+		&lt;/page&gt;
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;browsemem.tcl&lt;/outfile&gt;
+			&lt;menutext&gt;Memory&lt;/menutext&gt; 
+			&lt;menulink&gt;browsemem.tcl&lt;/menulink&gt; 
+			&lt;pageheading&gt;Browse / Edit Memory&lt;/pageheading&gt;
+			&lt;level2parent&gt;browsemem.tcl&lt;/level2parent&gt;
+			&lt;level2menu href=&quot;browsemem.tcl&quot; title=&quot;Browse / Edit&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;![CDATA[
+				Browse and edit memory.
+			]]&gt;
+			&lt;/level2menu&gt;
+			&lt;level2menu href=&quot;downloadmem.tcl&quot; title=&quot;Download&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;![CDATA[
+			    Copy memory range to developer machine
+			]]&gt;
+			&lt;/level2menu&gt;
+			
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+
+
+			
+			&lt;tcl&gt;
+			
+			set form_address [formfetch form_address]
+			set form_length [formfetch form_length]
+			set form_type [formfetch form_type]
+			set form_action [formfetch form_action]
+			set form_value [formfetch form_value]
+			
+			if {[string compare $form_length &quot;&quot;]==0} {
+				set form_length 0
+			}  
+			if {$form_length&lt;=0} {
+				set form_length 0x80
+			} 
+			if {$form_length&gt;0x1000} {
+				set form_length 0x1000
+			} 
+			
+			if {[string compare $form_type &quot;&quot;]==0} {
+				set form_type mdw
+			}
+			
+			if {[string compare $form_type &quot;mdw&quot;]==0} {
+				set wordsize 4
+				set modify_cmd mww 
+			}
+			if {[string compare $form_type &quot;mdh&quot;]==0} {
+				set wordsize 2
+				set modify_cmd mwh 
+			}
+			if {[string compare $form_type &quot;mdb&quot;]==0} {
+				set wordsize 1
+				set modify_cmd mwb 
+			}
+			
+			
+			
+			
+			if {[string compare $form_address &quot;&quot;]!=0} {
+				if {[string compare $form_action &quot;Previous&quot;]==0} {
+					# Kludge! Work around problems parsing hex in Jim Tcl expressions
+					incr form_address ; set form_address [expr $form_address-1]
+					if {$form_address-$form_length&gt;0} {
+						set form_address &quot;0x[tohex [expr $form_address-$form_length]]&quot;
+					} else {
+						set form_address &quot;0x0&quot;
+					}
+				}  
+				if {[string compare $form_action &quot;Next&quot;]==0} {
+					# Kludge! Work around problems parsing hex in Jim Tcl expressions
+					incr form_address ; set form_address [expr $form_address-1]
+					set form_address &quot;0x[tohex [expr $form_address+$form_length]]&quot;
+				}  
+				if {[string compare $form_action &quot;Modify&quot;]==0} {
+					append console [capture_catch &quot;$modify_cmd $form_address $form_value&quot;]
+				}  
+				if {[string compare $form_action &quot;Fill&quot;]==0} {
+					append console [capture_catch &quot;$modify_cmd $form_address $form_value $form_length&quot;]
+				}  
+			}
+			
+			
+			&lt;/tcl&gt;
+			
+			&lt;form action=&quot;browsemem.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer &quot;0x[tohex $form_length]&quot;&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Value&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_value&quot; value=&quot;&lt;tcl&gt;append buffer $form_value&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Modify&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Fill&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Type&lt;/td&gt;&lt;td style=&quot;padding-top:1px;&quot;&gt;
+				&lt;select name=&quot;form_type&quot;&gt;
+				  &lt;option 
+				    &lt;tcl&gt;if {[string compare $form_type &quot;mdb&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt; value =&quot;mdb&quot;&gt;8 bit
+				  &lt;/option&gt;
+				  &lt;option 
+				   &lt;tcl&gt;if {[string compare $form_type &quot;mdh&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt; value =&quot;mdh&quot;&gt;16 bit
+				  &lt;/option&gt;
+			  		&lt;option
+					   &lt;tcl&gt;if {[string compare $form_type &quot;mdw&quot;]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;value =&quot;mdw&quot;&gt;32 bit
+				  	&lt;/option&gt;
+				&lt;/select&gt;
+				
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;table&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Refresh&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Previous&quot; &gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Next&quot; &gt;&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+				&lt;br&gt;
+				
+			&lt;/form&gt;
+			&lt;p&gt;
+			&lt;div class=&quot;fontbigger&quot;&gt;Memory:&lt;/div&gt;&lt;p&gt;
+			&lt;code style=&quot;white-space: nowrap; font-size:11px;font:courier new;&quot;&gt;
+				&lt;tcl&gt;
+				if {[string compare $form_address &quot;&quot;]!=0} {
+					append console [encode [capture_catch halt]]
+					append buffer [encode [capture_catch &quot;$form_type $form_address [expr $form_length]&quot;]]
+				} 
+				&lt;/tcl&gt;
+			&lt;/code&gt;
+
+
+			
+
+			
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				&lt;p&gt;Browse and edit target memory.&lt;br&gt;
+				   Length is in bytes, maximum 4096 bytes.&lt;/p&gt; 
+				&lt;p&gt;An error message is shown when trying to browse or edit memory which cases a CPU fault.&lt;/p&gt;
+				&lt;p&gt;CPU will be halted if required.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Modify&lt;/b&gt; - Will modify only one byte, half-word or word starting at Address.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Fill&lt;/b&gt; - Will fill the specified region with the specified value.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Refresh&lt;/b&gt; - Display the content of the specified memory area.&lt;/p&gt;
+					]]&gt;
+			&lt;/right_column&gt;
+			
+			&lt;/pagetext&gt;
+		&lt;/page&gt;
+
+		
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;downloadmem.tcl&lt;/outfile&gt;
+			&lt;level2parent&gt;browsemem.tcl&lt;/level2parent&gt;
+			&lt;pageheading&gt;Download Memory Range&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+			&lt;tcl&gt;
+				set form_address [formfetch form_address]
+				set form_length [formfetch form_length]
+				set form_action [formfetch form_action]
+			&lt;/tcl&gt;			
+			&lt;form action=&quot;downloadmem.tcl&quot; method=&quot;post&quot;&gt; 
+				&lt;table&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;&lt;tcl&gt;append buffer $form_address&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Length&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_length&quot; value=&quot;&lt;tcl&gt;append buffer $form_length&lt;/tcl&gt;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;input type=&quot;submit&quot; value=&quot;Download&quot; name=&quot;form_action&quot;&gt;
+				
+				
+			&lt;/form&gt;
+			&lt;tcl&gt;
+				if {[string compare $form_action &quot;Download&quot;]==0} {
+					append console [encode [capture_catch &quot;reset init&quot;]]
+					append console [encode [capture_catch &quot;dump_image /tmp/dump.bin $form_address $form_length&quot;]]
+					&lt;/tcl&gt;
+					&lt;form action=&quot;../dump.bin&quot; target=&quot;_blank&quot;&gt; 
+						&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Save downloaded memory&quot;&gt;
+					&lt;/form&gt;
+					&lt;tcl&gt; 
+				}
+				
+			&lt;/tcl&gt;
+
+
+			
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;![CDATA[	
+				Download memory from target. &lt;br&gt;
+				&lt;b&gt;Note&lt;/b&gt; that download memory can take
+				a long time(potentially minutes for megabytes at low JTAG clk speeds).
+				&lt;p/&gt;
+				Once the memory is downloaded a link is available on the page to download
+				the file to your PC.
+				]]&gt;
+			&lt;/right_column&gt;
+			&lt;/pagetext&gt;
+			
+		&lt;/page&gt;
+
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;openocd.tcl&lt;/outfile&gt;
+			&lt;menutext&gt;OpenOCD&lt;/menutext&gt; 
+			&lt;menulink&gt;openocd.tcl&lt;/menulink&gt; 
+			&lt;pageheading&gt;Run Command&lt;/pageheading&gt;
+			&lt;level2parent&gt;openocd.tcl&lt;/level2parent&gt;
+			&lt;level2menu href=&quot;openocd.tcl&quot; title=&quot;Run Command&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;/level2menu&gt;
+			&lt;level2menu href=&quot;guiupload.tcl&quot; title=&quot;Upload File&quot; titlestyle=&quot;color:#4e6627;&quot;&gt;
+			&lt;![CDATA[
+			    Upload file
+			]]&gt;
+			&lt;/level2menu&gt;
+			
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+
+			&lt;tcl&gt;
+				set form_command [formfetch form_command]
+
+				set form_edittext &quot;&quot;
+				if {[string length $form_command]&gt;0} {
+					set form_edittext [capture_catch {eval $form_command}]
+				}
+				
+				append buffer {&lt;form action=&quot;openocd.tcl&quot; method=&quot;post&quot;&gt;} &quot;\n&quot;
+				append buffer {Command&lt;br&gt;}
+				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;5&quot; cols=&quot;65&quot; name=&quot;form_command&quot; wrap=&quot;off&quot;&gt;}
+				append buffer [to_textarea $form_command]
+				append buffer {&lt;/textarea&gt;&lt;br&gt;}
+				append buffer {&lt;input type=&quot;submit&quot; value=&quot;Run&quot; name=&quot;form_action&quot; &gt;&lt;br&gt;}
+				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;21&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; readonly=1 wrap=&quot;off&quot;&gt;}
+				append buffer [to_textarea $form_edittext]
+				append buffer {&lt;/textarea&gt;&lt;br&gt;}
+				
+				append buffer {&lt;/form&gt;} &quot;\n&quot;
+			
+			&lt;/tcl&gt;
+
+			]]&gt;&lt;/markup_code&gt;
+			
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				&lt;p&gt;Run tcl statement(s). Add &quot;ocd_&quot; prefix to OpenOCD commands otherwise
+				there will be no output, e.g. &quot;reset init&quot; use &quot;ocd_reset init&quot;.
+				&lt;p/&gt;
+				&lt;p&gt;&lt;a href=&quot;/ram/log&quot;&gt;Click here to download log&lt;/a&gt;.&lt;/p&gt;
+				&lt;p&gt;To download log you can also use commands like &quot;wget <A HREF="http://&lt;tcl">http://&lt;tcl</A>&gt;append buffer [ip]&lt;/tcl&gt;/ram/log&quot;, or
+				point your web browser to said address.&lt;/p&gt;
+				&lt;p&gt;
+				You can also execute tcl commands using curl from your developer PC:
+				&lt;/p&gt;
+				&lt;code&gt;
+				curl --form form_command=ocd_version &lt;tcl&gt;append buffer [ip]&lt;/tcl&gt;runtcl.tcl
+				&lt;/code&gt;
+				
+				]]&gt;
+			&lt;/right_column&gt;
+			&lt;/pagetext&gt;
+		&lt;/page&gt;
+
+		
+		
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;guiupload.tcl&lt;/outfile&gt;
+			&lt;level2parent&gt;openocd.tcl&lt;/level2parent&gt;
+			&lt;pageheading&gt;Upload File&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+			
+			&lt;tcl&gt;
+				set form_filename [formfetch form_filename];
+				set form_action [formfetch form_action];
+				#set form_filecontent [formfetch form_filecontent];
+				
+				append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;guiupload.tcl&quot; method=&quot;post&quot;&gt;}
+				append buffer &lt;br&gt; 
+				if {[string compare $form_action &quot;Upload&quot;]==0} {
+					if {[catch {writeform form_filecontent $form_filename} result]==0} {
+						append buffer [encode $result]
+					} else {
+						append buffer Wrote $form_filename
+					}
+				}
+				
+				append buffer {&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;&lt;tr&gt;&lt;td class=&quot;formtext&quot;&gt;Filename on OpenOCD machine&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_filename&quot;&gt;&lt;/td&gt;&lt;/tr&gt;}
+				append buffer {&lt;td class=&quot;formtext&quot;&gt;File to upload&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
+				append buffer {&lt;table&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
+				append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload&quot; &gt;&lt;br&gt; }
+				append buffer {&lt;/form&gt;}
+			
+			&lt;/tcl&gt;
+			
+			]]&gt;&lt;/markup_code&gt;
+			&lt;/pagetext&gt;
+			
+		&lt;/page&gt;
+		
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;outfile&gt;targets.tcl&lt;/outfile&gt;
+			&lt;level2parent&gt;documentation.tcl&lt;/level2parent&gt;
+			&lt;pageheading&gt;Target config quick start guide&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+				&lt;markup_code&gt;&lt;![CDATA[
+				
+				A target needs an openocd.cfg file. This config file sets up
+				the CPU, flash and reset init script. Either OpenOCD ships with an
+				openocd.cfg file for your target or you need to take an existing
+				config file and modify it for your needs.
+				&lt;p&gt; 
+				The reset init script is crucial. It will set up e.g. MMU, chip
+				select registers, etc. after a reset. The init.cfg (reset init script)
+				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
+				&lt;p&gt;
+				Writing an openocd.cfg from scratch is a non-trivial exercise, but
+				fortunally it only has to be done once for a target and afterwards it
+				rarely if ever needs to be changed.
+				
+				
+				]]&gt;&lt;/markup_code&gt;
+				&lt;right_column&gt;
+					
+					  Quick start guide on how to configure a target.
+				&lt;/right_column&gt;
+			&lt;/pagetext&gt;
+			
+			
+		&lt;/page&gt;
+
+
+		
+
+
+		&lt;page lang=&quot;eng&quot;&gt;
+			&lt;menulink&gt;index.tcl&lt;/menulink&gt; 
+			&lt;level2parent&gt;index.tcl&lt;/level2parent&gt;
+			&lt;outfile&gt;terminal.tcl&lt;/outfile&gt;
+			&lt;pageheading&gt;UART forwarding&lt;/pageheading&gt;
+			&lt;pagetext&gt;
+			&lt;markup_code&gt;&lt;![CDATA[
+			&lt;tcl&gt;
+				set form_baudrate [formfetch form_baudrate]
+				if {[string length $form_baudrate]==0} {
+					set form_baudrate [ocd_uart]
+					set form_baudrate [string range $form_baudrate 0 [expr [string length $form_baudrate]-2]]
+				}
+				set form_action [formfetch form_action]
+			&lt;/tcl&gt;
+			&lt;form action=&quot;terminal.tcl&quot; method=&quot;post&quot;&gt;
+				Target baudrate: 
+					&lt;select name=&quot;form_baudrate&quot;&gt;
+						&lt;tcl&gt;
+							foreach i {9600 19200 38400 57600 115200} { 
+							&lt;/tcl&gt;
+				  				&lt;option &lt;tcl&gt;if {[string compare $form_baudrate $i]==0} { append buffer {selected=&quot;selected&quot;} }  &lt;/tcl&gt;
+				  				value =&quot;&lt;tcl&gt;append buffer $i&lt;/tcl&gt;&quot;&gt;&lt;tcl&gt;append buffer $i&lt;/tcl&gt;&lt;/option&gt;
+				  			&lt;tcl&gt;
+				  			}
+				  			&lt;/tcl&gt;
+						&lt;/select&gt;
+
+					&lt;p&gt;	
+					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Set baudrate&quot; &gt;
+				&lt;/form&gt;			
+			&lt;tcl&gt;
+				if {[string compare $form_action &quot;Set baudrate&quot;]==0} {
+					append console [encode [ocd_uart $form_baudrate]]
+				}
+			&lt;/tcl&gt;
+			
+			&lt;h2&gt;Simple UART&lt;/h2&gt;
+			This terminal window is purely for illustrative purposes. Use telnet or a terminal program
+			to talk to the target over TCP/IP for anything but trivial case of reading/writing a few
+			lines of texts in simple tests.
+			&lt;p&gt;
+			]]&gt;&lt;/markup_code&gt;
+			&lt;right_column&gt;
+				&lt;![CDATA[
+				Serial port data to target is forwarded(both directions) in the simple terminal window
+				to the left. Alternatively you can &lt;b&gt;telnet &lt;tcl&gt;append buffer [ip]&lt;/tcl&gt; 5555&lt;/b&gt;
+				or connect via TCP/IP from e.g. HyperTerminal.
+				&lt;p&gt;
+				Type &quot;help uart&quot; in telnet for information on how to set uart speed for target. Normally
+				the uart speed is set from the target configuration script by adding an &quot;uart N&quot;, where
+				N is the baudrate.
+				]]&gt;
+			&lt;/right_column&gt;
+			&lt;/pagetext&gt;
+			
+		&lt;/page&gt;
+
+
+		
+	&lt;/language&gt;
+	
 &lt;/website&gt;
\ No newline at end of file


Property changes on: trunk/src/server/httpd/menu.xml
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/menu.xsl
===================================================================
--- trunk/src/server/httpd/menu.xsl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/menu.xsl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,298 +1,298 @@
-&lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;!DOCTYPE xsl:stylesheet [&lt;!ENTITY nbsp &quot;&#160;&quot;&gt;]&gt;
-&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot; version=&quot;1.0&quot;&gt;
-	&lt;xsl:output method=&quot;html&quot; version=&quot;4.0&quot; indent=&quot;yes&quot; encoding=&quot;UTF-8&quot;
-	
-	 media-type=&quot;text/plain; charset=UTF-8&quot;/&gt;
-
-	&lt;xsl:param name=&quot;pagetogenerate&quot; select=&quot;UNDEFINED&quot;/&gt;
-	&lt;xsl:template match=&quot;page[outfile!=$pagetogenerate]&quot;&gt;
-	&lt;/xsl:template&gt;
-
-	&lt;xsl:template match=&quot;page[outfile=$pagetogenerate]&quot;&gt;
-		&lt;xsl:variable name=&quot;Xlevel2parent&quot; select=&quot;level2parent&quot;/&gt;
-		&lt;xsl:variable name=&quot;Xlevel3parent&quot; select=&quot;level3parent&quot;/&gt;
-
-		&lt;html&gt;
-			&lt;head&gt;
-				&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-				&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;  charset=&quot;utf-8&quot;/&gt;
-				&lt;link href=&quot;menuweb.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;				
-				
-			&lt;/head&gt;
-	
-			
-			&lt;tcl&gt;
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			&lt;/tcl&gt;
-			
-			&lt;body style=&quot;margin:0px;&quot;&gt;
-				&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-					&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-						&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-					&lt;/div&gt;
-					&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-						&lt;div class=&quot;textlight&quot; style=&quot;position:relative;left:15px;top:4px;&quot;&gt;
-							&lt;tcl&gt;append buffer [capture version]&lt;/tcl&gt;
-						&lt;/div&gt;
-					&lt;/div&gt;
-				&lt;/div&gt;
-				&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-					&lt;tr&gt;
-						&lt;td style=&quot;width:33px;&quot;&gt;
-							&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-						&lt;/td&gt;
-						&lt;!-- level 2 menu bar on left --&gt;
-						&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-							&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-								&lt;tr style=&quot;height:59px;&quot;&gt;
-									&lt;td&gt;&lt;/td&gt;
-								&lt;/tr&gt;
-								&lt;xsl:for-each select=&quot;parent::language/page[outfile = $Xlevel2parent]/level2menu&quot;&gt;
-									&lt;tr&gt;
-										&lt;td&gt;
-											&lt;xsl:choose&gt;
-												&lt;xsl:when test=&quot;contains(@href, $pagetogenerate)&quot;&gt;
-													&lt;xsl:attribute name=&quot;style&quot;&gt;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
-												&lt;/xsl:when&gt;
-												&lt;xsl:otherwise&gt;
-													&lt;xsl:attribute name=&quot;style&quot;&gt;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
-												&lt;/xsl:otherwise&gt;
-											&lt;/xsl:choose&gt;
-											&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-												&lt;a&gt;
-													&lt;xsl:attribute name=&quot;href&quot;&gt;
-														&lt;xsl:value-of select=&quot;@href&quot;/&gt;
-													&lt;/xsl:attribute&gt;
-													&lt;xsl:choose&gt;
-														&lt;xsl:when test=&quot;(@href = $pagetogenerate)&quot;&gt;
-															&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
-														&lt;/xsl:when&gt;
-														&lt;xsl:otherwise&gt;
-															&lt;xsl:choose&gt;
-																&lt;xsl:when test=&quot;(@href = $Xlevel3parent)&quot;&gt;
-																	&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
-																&lt;/xsl:when&gt;
-																&lt;xsl:otherwise&gt;
-																	&lt;xsl:attribute name=&quot;style&quot;&gt;&lt;/xsl:attribute&gt;
-																&lt;/xsl:otherwise&gt;
-															&lt;/xsl:choose&gt;
-														&lt;/xsl:otherwise&gt;
-													&lt;/xsl:choose&gt;
-													&lt;xsl:value-of select=&quot;@title&quot;/&gt;
-												&lt;/a&gt;
-											&lt;/div&gt;
-										&lt;/td&gt;
-									&lt;/tr&gt;
-								&lt;/xsl:for-each&gt;
-								&lt;tr&gt;
-									&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;&gt;
-									
-									&lt;/td&gt;
-								&lt;/tr&gt;
-								&lt;tr&gt;
-									&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;&gt;
-									
-									&lt;/td&gt;
-								&lt;/tr&gt;
-								&lt;tr&gt;
-									&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;&gt;
-									
-									&lt;/td&gt;
-								&lt;/tr&gt;
-							&lt;/table&gt;
-						&lt;/td&gt;
-						&lt;!-- top level menu --&gt;
-						&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-							&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-								&lt;tr&gt;
-									&lt;td&gt;
-										&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-											&lt;tr&gt;
-												&lt;xsl:for-each select=&quot;parent::language/page&quot;&gt;
-													&lt;xsl:if test=&quot;menutext&quot;&gt;
-														&lt;td&gt;
-															&lt;xsl:choose&gt;
-																&lt;xsl:when test=&quot;(outfile = $pagetogenerate) or (outfile = $Xlevel2parent)&quot;&gt;
-																	&lt;xsl:attribute name=&quot;style&quot;&gt;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
-																&lt;/xsl:when&gt;
-																&lt;xsl:otherwise&gt;
-																	&lt;xsl:attribute name=&quot;style&quot;&gt;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
-																&lt;/xsl:otherwise&gt;
-															&lt;/xsl:choose&gt;
-															&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-																&lt;a&gt;
-																	&lt;xsl:attribute name=&quot;href&quot;&gt;&lt;xsl:value-of select=&quot;menulink&quot;/&gt;&lt;/xsl:attribute&gt;
-																	&lt;xsl:if test=&quot;(outfile = $pagetogenerate)&quot;&gt;
-																		&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
-																	&lt;/xsl:if&gt;
-																	&lt;xsl:if test=&quot;(outfile = $Xlevel2parent)&quot;&gt;
-																		&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
-																	&lt;/xsl:if&gt;
-																	&lt;xsl:value-of select=&quot;menutext&quot;/&gt;
-																&lt;/a&gt;
-															 &lt;/div&gt;
-														 &lt;/td&gt;
-													&lt;/xsl:if&gt;
-												&lt;/xsl:for-each&gt;
-											&lt;/tr&gt;
-										&lt;/table&gt;
-								 	&lt;/td&gt;
-								&lt;/tr&gt;			
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;6&quot; style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot;&gt;
-							 			&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;6&quot; style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot;&gt;
-							 			&lt;H1&gt;&lt;xsl:value-of select=&quot;pageheading&quot;/&gt;&lt;/H1&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tr style=&quot;height:100%;&quot;&gt;
-							 		&lt;td colspan=&quot;6&quot; style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot;&gt;
-										&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select=&quot;pagetext/markup_code&quot;/&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tcl&gt;
-							 		&lt;!-- This is the output from any OpenOCD commands --&gt;
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			&lt;/tcl&gt;
-									 	&lt;tr style=&quot;height:100%;&quot;&gt;
-									 		&lt;td colspan=&quot;6&quot; style=&quot;height:100%;background-color:red;&quot;&gt;
-												&lt;table class=&quot;textgray&quot; style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot;&gt;
-											 		&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-											 		&lt;tcl&gt;
-												 		if {$show_details==1} {
-												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&lt;]]&gt;&lt;/xsl:text&gt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&gt;]]&gt;&lt;/xsl:text&gt;
-												 		} else {
-												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&lt;]]&gt;&lt;/xsl:text&gt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&gt;]]&gt;&lt;/xsl:text&gt;
-												 		}
-												 	&lt;/tcl&gt;
-											 			&lt;a class=&quot;openocd&quot;&gt;
-															&lt;xsl:attribute name=&quot;href&quot;&gt;&lt;xsl:value-of select=&quot;$pagetogenerate&quot;/&gt;?toggle_details=1&lt;/xsl:attribute&gt;
-															&lt;tcl&gt;
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															&lt;/tcl&gt;
-											 			&lt;/a&gt;
-											 			&lt;tcl&gt;
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	&lt;/tcl&gt;
-													 &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&lt;]]&gt;&lt;/xsl:text&gt;/td&lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&gt;]]&gt;&lt;/xsl:text&gt;
-													 &lt;tcl&gt;
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 &lt;/tcl&gt;
-											 		&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-											 	&lt;/table&gt;
-										 	&lt;/td&gt;
-										 &lt;/tr&gt;
-									 	&lt;tcl&gt;
-									 }
-								&lt;/tcl&gt;
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;6&quot; style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot;&gt;
-							 			&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-						 	&lt;/table&gt;
-						&lt;/td&gt;
-						&lt;td style=&quot;width:6px;&quot;&gt;
-						&lt;/td&gt;
-						&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-							&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-								&lt;tr&gt;
-									&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-										&lt;div class=&quot;textgray&quot; style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-								 	&lt;/td&gt;
-								 	&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;		
-								 	&lt;td&gt;
-								 	&lt;/td&gt;	
-								&lt;/tr&gt;
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;3&quot; style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot;&gt;&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;3&quot; style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot;&gt;
-							 			&lt;a href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot; target=&quot;_blank&quot;&gt;OpenOCD Manual&lt;/a&gt;&lt;br/&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;background-color:#d8d7d7;height:15px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;3&quot;&gt;
-							 			&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-							 				&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;&gt;&lt;/td&gt;
-							 				&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;&gt;&lt;/td&gt;
-							 				&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;&gt;&lt;/td&gt;
-							 			&lt;/table&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;background-color:#d8d7d7;height:15px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-							 	&lt;tr style=&quot;height:100%;&quot;&gt;
-							 		&lt;td class=&quot;textgray&quot; colspan=&quot;3&quot;  style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot;&gt;
-										&lt;xsl:choose&gt;
-											&lt;xsl:when test=&quot;(pagetext/right_column)&quot;&gt;
-												&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select=&quot;pagetext/right_column&quot;/&gt;
-											&lt;/xsl:when&gt;
-											&lt;xsl:otherwise&gt;
-		
-											&lt;/xsl:otherwise&gt;
-										&lt;/xsl:choose&gt;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 	&lt;tr&gt;
-							 		&lt;td colspan=&quot;3&quot; style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-							 	&lt;/tr&gt;
-							 &lt;/table&gt;
-				
-						&lt;/td&gt;
-					&lt;/tr&gt;
-					
-				&lt;/table&gt;
-			&lt;/body&gt;
-		&lt;/html&gt;
-
-	&lt;/xsl:template&gt;
-&lt;/xsl:stylesheet&gt;
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;!DOCTYPE xsl:stylesheet [&lt;!ENTITY nbsp &quot;&#160;&quot;&gt;]&gt;
+&lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot; xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot; version=&quot;1.0&quot;&gt;
+	&lt;xsl:output method=&quot;html&quot; version=&quot;4.0&quot; indent=&quot;yes&quot; encoding=&quot;UTF-8&quot;
+	
+	 media-type=&quot;text/plain; charset=UTF-8&quot;/&gt;
+
+	&lt;xsl:param name=&quot;pagetogenerate&quot; select=&quot;UNDEFINED&quot;/&gt;
+	&lt;xsl:template match=&quot;page[outfile!=$pagetogenerate]&quot;&gt;
+	&lt;/xsl:template&gt;
+
+	&lt;xsl:template match=&quot;page[outfile=$pagetogenerate]&quot;&gt;
+		&lt;xsl:variable name=&quot;Xlevel2parent&quot; select=&quot;level2parent&quot;/&gt;
+		&lt;xsl:variable name=&quot;Xlevel3parent&quot; select=&quot;level3parent&quot;/&gt;
+
+		&lt;html&gt;
+			&lt;head&gt;
+				&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+				&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot;  charset=&quot;utf-8&quot;/&gt;
+				&lt;link href=&quot;menuweb.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;				
+				
+			&lt;/head&gt;
+	
+			
+			&lt;tcl&gt;
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			&lt;/tcl&gt;
+			
+			&lt;body style=&quot;margin:0px;&quot;&gt;
+				&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+					&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+						&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+					&lt;/div&gt;
+					&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+						&lt;div class=&quot;textlight&quot; style=&quot;position:relative;left:15px;top:4px;&quot;&gt;
+							&lt;tcl&gt;append buffer [capture version]&lt;/tcl&gt;
+						&lt;/div&gt;
+					&lt;/div&gt;
+				&lt;/div&gt;
+				&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+					&lt;tr&gt;
+						&lt;td style=&quot;width:33px;&quot;&gt;
+							&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+						&lt;/td&gt;
+						&lt;!-- level 2 menu bar on left --&gt;
+						&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+							&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+								&lt;tr style=&quot;height:59px;&quot;&gt;
+									&lt;td&gt;&lt;/td&gt;
+								&lt;/tr&gt;
+								&lt;xsl:for-each select=&quot;parent::language/page[outfile = $Xlevel2parent]/level2menu&quot;&gt;
+									&lt;tr&gt;
+										&lt;td&gt;
+											&lt;xsl:choose&gt;
+												&lt;xsl:when test=&quot;contains(@href, $pagetogenerate)&quot;&gt;
+													&lt;xsl:attribute name=&quot;style&quot;&gt;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
+												&lt;/xsl:when&gt;
+												&lt;xsl:otherwise&gt;
+													&lt;xsl:attribute name=&quot;style&quot;&gt;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
+												&lt;/xsl:otherwise&gt;
+											&lt;/xsl:choose&gt;
+											&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+												&lt;a&gt;
+													&lt;xsl:attribute name=&quot;href&quot;&gt;
+														&lt;xsl:value-of select=&quot;@href&quot;/&gt;
+													&lt;/xsl:attribute&gt;
+													&lt;xsl:choose&gt;
+														&lt;xsl:when test=&quot;(@href = $pagetogenerate)&quot;&gt;
+															&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
+														&lt;/xsl:when&gt;
+														&lt;xsl:otherwise&gt;
+															&lt;xsl:choose&gt;
+																&lt;xsl:when test=&quot;(@href = $Xlevel3parent)&quot;&gt;
+																	&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
+																&lt;/xsl:when&gt;
+																&lt;xsl:otherwise&gt;
+																	&lt;xsl:attribute name=&quot;style&quot;&gt;&lt;/xsl:attribute&gt;
+																&lt;/xsl:otherwise&gt;
+															&lt;/xsl:choose&gt;
+														&lt;/xsl:otherwise&gt;
+													&lt;/xsl:choose&gt;
+													&lt;xsl:value-of select=&quot;@title&quot;/&gt;
+												&lt;/a&gt;
+											&lt;/div&gt;
+										&lt;/td&gt;
+									&lt;/tr&gt;
+								&lt;/xsl:for-each&gt;
+								&lt;tr&gt;
+									&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;&gt;
+									
+									&lt;/td&gt;
+								&lt;/tr&gt;
+								&lt;tr&gt;
+									&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;&gt;
+									
+									&lt;/td&gt;
+								&lt;/tr&gt;
+								&lt;tr&gt;
+									&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;&gt;
+									
+									&lt;/td&gt;
+								&lt;/tr&gt;
+							&lt;/table&gt;
+						&lt;/td&gt;
+						&lt;!-- top level menu --&gt;
+						&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+							&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+								&lt;tr&gt;
+									&lt;td&gt;
+										&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+											&lt;tr&gt;
+												&lt;xsl:for-each select=&quot;parent::language/page&quot;&gt;
+													&lt;xsl:if test=&quot;menutext&quot;&gt;
+														&lt;td&gt;
+															&lt;xsl:choose&gt;
+																&lt;xsl:when test=&quot;(outfile = $pagetogenerate) or (outfile = $Xlevel2parent)&quot;&gt;
+																	&lt;xsl:attribute name=&quot;style&quot;&gt;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
+																&lt;/xsl:when&gt;
+																&lt;xsl:otherwise&gt;
+																	&lt;xsl:attribute name=&quot;style&quot;&gt;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&lt;/xsl:attribute&gt;
+																&lt;/xsl:otherwise&gt;
+															&lt;/xsl:choose&gt;
+															&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+																&lt;a&gt;
+																	&lt;xsl:attribute name=&quot;href&quot;&gt;&lt;xsl:value-of select=&quot;menulink&quot;/&gt;&lt;/xsl:attribute&gt;
+																	&lt;xsl:if test=&quot;(outfile = $pagetogenerate)&quot;&gt;
+																		&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
+																	&lt;/xsl:if&gt;
+																	&lt;xsl:if test=&quot;(outfile = $Xlevel2parent)&quot;&gt;
+																		&lt;xsl:attribute name=&quot;style&quot;&gt;font-weight: bold;&lt;/xsl:attribute&gt;
+																	&lt;/xsl:if&gt;
+																	&lt;xsl:value-of select=&quot;menutext&quot;/&gt;
+																&lt;/a&gt;
+															 &lt;/div&gt;
+														 &lt;/td&gt;
+													&lt;/xsl:if&gt;
+												&lt;/xsl:for-each&gt;
+											&lt;/tr&gt;
+										&lt;/table&gt;
+								 	&lt;/td&gt;
+								&lt;/tr&gt;			
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;6&quot; style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot;&gt;
+							 			&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;6&quot; style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot;&gt;
+							 			&lt;H1&gt;&lt;xsl:value-of select=&quot;pageheading&quot;/&gt;&lt;/H1&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tr style=&quot;height:100%;&quot;&gt;
+							 		&lt;td colspan=&quot;6&quot; style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot;&gt;
+										&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select=&quot;pagetext/markup_code&quot;/&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tcl&gt;
+							 		&lt;!-- This is the output from any OpenOCD commands --&gt;
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			&lt;/tcl&gt;
+									 	&lt;tr style=&quot;height:100%;&quot;&gt;
+									 		&lt;td colspan=&quot;6&quot; style=&quot;height:100%;background-color:red;&quot;&gt;
+												&lt;table class=&quot;textgray&quot; style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot;&gt;
+											 		&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+											 		&lt;tcl&gt;
+												 		if {$show_details==1} {
+												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&lt;]]&gt;&lt;/xsl:text&gt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&gt;]]&gt;&lt;/xsl:text&gt;
+												 		} else {
+												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&lt;]]&gt;&lt;/xsl:text&gt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&gt;]]&gt;&lt;/xsl:text&gt;
+												 		}
+												 	&lt;/tcl&gt;
+											 			&lt;a class=&quot;openocd&quot;&gt;
+															&lt;xsl:attribute name=&quot;href&quot;&gt;&lt;xsl:value-of select=&quot;$pagetogenerate&quot;/&gt;?toggle_details=1&lt;/xsl:attribute&gt;
+															&lt;tcl&gt;
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															&lt;/tcl&gt;
+											 			&lt;/a&gt;
+											 			&lt;tcl&gt;
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	&lt;/tcl&gt;
+													 &lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&lt;]]&gt;&lt;/xsl:text&gt;/td&lt;xsl:text disable-output-escaping=&quot;yes&quot;&gt;&lt;![CDATA[&gt;]]&gt;&lt;/xsl:text&gt;
+													 &lt;tcl&gt;
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 &lt;/tcl&gt;
+											 		&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+											 	&lt;/table&gt;
+										 	&lt;/td&gt;
+										 &lt;/tr&gt;
+									 	&lt;tcl&gt;
+									 }
+								&lt;/tcl&gt;
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;6&quot; style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot;&gt;
+							 			&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+						 	&lt;/table&gt;
+						&lt;/td&gt;
+						&lt;td style=&quot;width:6px;&quot;&gt;
+						&lt;/td&gt;
+						&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+							&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+								&lt;tr&gt;
+									&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+										&lt;div class=&quot;textgray&quot; style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+								 	&lt;/td&gt;
+								 	&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;		
+								 	&lt;td&gt;
+								 	&lt;/td&gt;	
+								&lt;/tr&gt;
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;3&quot; style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot;&gt;&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;3&quot; style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot;&gt;
+							 			&lt;a href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot; target=&quot;_blank&quot;&gt;OpenOCD Manual&lt;/a&gt;&lt;br/&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;background-color:#d8d7d7;height:15px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;3&quot;&gt;
+							 			&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+							 				&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;&gt;&lt;/td&gt;
+							 				&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;&gt;&lt;/td&gt;
+							 				&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;&gt;&lt;/td&gt;
+							 			&lt;/table&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;background-color:#d8d7d7;height:15px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+							 	&lt;tr style=&quot;height:100%;&quot;&gt;
+							 		&lt;td class=&quot;textgray&quot; colspan=&quot;3&quot;  style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot;&gt;
+										&lt;xsl:choose&gt;
+											&lt;xsl:when test=&quot;(pagetext/right_column)&quot;&gt;
+												&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select=&quot;pagetext/right_column&quot;/&gt;
+											&lt;/xsl:when&gt;
+											&lt;xsl:otherwise&gt;
+		
+											&lt;/xsl:otherwise&gt;
+										&lt;/xsl:choose&gt;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 	&lt;tr&gt;
+							 		&lt;td colspan=&quot;3&quot; style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+							 	&lt;/tr&gt;
+							 &lt;/table&gt;
+				
+						&lt;/td&gt;
+					&lt;/tr&gt;
+					
+				&lt;/table&gt;
+			&lt;/body&gt;
+		&lt;/html&gt;
+
+	&lt;/xsl:template&gt;
+&lt;/xsl:stylesheet&gt;


Property changes on: trunk/src/server/httpd/menu.xsl
___________________________________________________________________
Name: svn:eol-style
   + native


Property changes on: trunk/src/server/httpd/menu_cuts/center_bottom.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/center_top.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/h_tab1.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/h_tab1_selected.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/h_tab2.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/h_tab2_selected.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/h_tab_free.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/logo_bottom.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/logo_top.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/right_bottom.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/right_top.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/right_top_small.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/top_right.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/v_1.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/v_2_tile.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/v_3.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/v_tab.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png


Property changes on: trunk/src/server/httpd/menu_cuts/v_tab_selected.png
___________________________________________________________________
Name: svn:mime-type
   - application/octet-stream
   + image/png

Modified: trunk/src/server/httpd/menuweb.css
===================================================================
--- trunk/src/server/httpd/menuweb.css	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/menuweb.css	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,132 +1,132 @@
-a:link
-{
-	font-size: 12px;
-	color : #024d67;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a:visited
-{
-	font-size: 12px;
-	color : #024d67;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a:active
-{
-	font-size: 12px;
-	color : #024d67;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a:hover
-{
-	font-size: 12px;
-	color : #555555;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a.openocd:link
-{
-	font-size: 12px;
-	color : #555555;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a.openocd:visited
-{
-	font-size: 12px;
-	color : #555555;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a.openocd:active
-{
-	font-size: 12px;
-	color : #555555;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-a.openocd:hover
-{
-	font-size: 12px;
-	color : #024d67;
-	font-weight:bold;
-	text-decoration : none;
-}
-
-body
-{
-	background-color : green;
-	background-color : #176e8c;
-	font-family : Arial;
-	font-size: 12px;
-	line-height: 15px;
-	color : #024d67;
-	
-}
-
-h1
-{
-	padding: 0px;
-	font-size: 18px;
-	font-weight:bold;
-	text-decoration : none;
-	margin-bottom: 8px;
-}
-
-td
-{
-	padding: 0px;
-	font-size: 12px;
- 	vertical-align:top;
-
-}
-
-.textlight
-{
-	color: #cccccc;
-	padding: 0px;
-	font-size: 12px;
- 	vertical-align:top;
-
-}
-
-.fontbigger
-{
-	font-size:14px;
-}
-
-.textgray
-{
-	color: #555555;
-}
-
-.formtext
-{
-	padding-top: 4px;
-	font-size: 14px;
-	padding-right:10px;
-}
-
-input
-{
-	font-size: 14px;
-}
-
-.buttonspacelarge
-{
-	width:20px;
-}
-
-.buttonspacesmall
-{
-	width:8px;
-}
+a:link
+{
+	font-size: 12px;
+	color : #024d67;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a:visited
+{
+	font-size: 12px;
+	color : #024d67;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a:active
+{
+	font-size: 12px;
+	color : #024d67;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a:hover
+{
+	font-size: 12px;
+	color : #555555;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a.openocd:link
+{
+	font-size: 12px;
+	color : #555555;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a.openocd:visited
+{
+	font-size: 12px;
+	color : #555555;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a.openocd:active
+{
+	font-size: 12px;
+	color : #555555;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+a.openocd:hover
+{
+	font-size: 12px;
+	color : #024d67;
+	font-weight:bold;
+	text-decoration : none;
+}
+
+body
+{
+	background-color : green;
+	background-color : #176e8c;
+	font-family : Arial;
+	font-size: 12px;
+	line-height: 15px;
+	color : #024d67;
+	
+}
+
+h1
+{
+	padding: 0px;
+	font-size: 18px;
+	font-weight:bold;
+	text-decoration : none;
+	margin-bottom: 8px;
+}
+
+td
+{
+	padding: 0px;
+	font-size: 12px;
+ 	vertical-align:top;
+
+}
+
+.textlight
+{
+	color: #cccccc;
+	padding: 0px;
+	font-size: 12px;
+ 	vertical-align:top;
+
+}
+
+.fontbigger
+{
+	font-size:14px;
+}
+
+.textgray
+{
+	color: #555555;
+}
+
+.formtext
+{
+	padding-top: 4px;
+	font-size: 14px;
+	padding-right:10px;
+}
+
+input
+{
+	font-size: 14px;
+}
+
+.buttonspacelarge
+{
+	width:20px;
+}
+
+.buttonspacesmall
+{
+	width:8px;
+}


Property changes on: trunk/src/server/httpd/menuweb.css
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/openocd.tcl
===================================================================
--- trunk/src/server/httpd/openocd.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/openocd.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,355 +1,355 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Run Command&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;guiupload.tcl&quot; style=&quot;&quot;&gt;Upload File&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Run Command&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-
-			}
-
-				set form_command [formfetch form_command]
-
-				set form_edittext &quot;&quot;
-				if {[string length $form_command]&gt;0} {
-					set form_edittext [capture_catch {eval $form_command}]
-				}
-				
-				append buffer {&lt;form action=&quot;openocd.tcl&quot; method=&quot;post&quot;&gt;} &quot;\n&quot;
-				append buffer {Command&lt;br&gt;}
-				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;5&quot; cols=&quot;65&quot; name=&quot;form_command&quot; wrap=&quot;off&quot;&gt;}
-				append buffer [to_textarea $form_command]
-				append buffer {&lt;/textarea&gt;&lt;br&gt;}
-				append buffer {&lt;input type=&quot;submit&quot; value=&quot;Run&quot; name=&quot;form_action&quot; &gt;&lt;br&gt;}
-				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;21&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; readonly=1 wrap=&quot;off&quot;&gt;}
-				append buffer [to_textarea $form_edittext]
-				append buffer {&lt;/textarea&gt;&lt;br&gt;}
-				
-				append buffer {&lt;/form&gt;} &quot;\n&quot;
-			
-			
-append buffer {
-
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;openocd.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Run tcl statement(s). Add &quot;ocd_&quot; prefix to OpenOCD commands otherwise
-				there will be no output, e.g. &quot;reset init&quot; use &quot;ocd_reset init&quot;.
-				&lt;p/&gt;
-				&lt;p&gt;&lt;a href=&quot;/ram/log&quot;&gt;Click here to download log&lt;/a&gt;.&lt;/p&gt;
-				&lt;p&gt;To download log you can also use commands like &quot;wget <A HREF="http://">http://</A>}
-append buffer [ip]
-append buffer {/ram/log&quot;, or
-				point your web browser to said address.&lt;/p&gt;
-				&lt;p&gt;
-				You can also execute tcl commands using curl from your developer PC:
-				&lt;/p&gt;
-				&lt;code&gt;
-				curl --form form_command=ocd_version }
-append buffer [ip]
-append buffer {runtcl.tcl
-				&lt;/code&gt;
-				
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Run Command&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;guiupload.tcl&quot; style=&quot;&quot;&gt;Upload File&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Run Command&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+
+			}
+
+				set form_command [formfetch form_command]
+
+				set form_edittext &quot;&quot;
+				if {[string length $form_command]&gt;0} {
+					set form_edittext [capture_catch {eval $form_command}]
+				}
+				
+				append buffer {&lt;form action=&quot;openocd.tcl&quot; method=&quot;post&quot;&gt;} &quot;\n&quot;
+				append buffer {Command&lt;br&gt;}
+				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;5&quot; cols=&quot;65&quot; name=&quot;form_command&quot; wrap=&quot;off&quot;&gt;}
+				append buffer [to_textarea $form_command]
+				append buffer {&lt;/textarea&gt;&lt;br&gt;}
+				append buffer {&lt;input type=&quot;submit&quot; value=&quot;Run&quot; name=&quot;form_action&quot; &gt;&lt;br&gt;}
+				append buffer {&lt;textarea  style=&quot;overflow:auto;&quot;  rows=&quot;21&quot; cols=&quot;65&quot; name=&quot;form_edittext&quot; readonly=1 wrap=&quot;off&quot;&gt;}
+				append buffer [to_textarea $form_edittext]
+				append buffer {&lt;/textarea&gt;&lt;br&gt;}
+				
+				append buffer {&lt;/form&gt;} &quot;\n&quot;
+			
+			
+append buffer {
+
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;openocd.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Run tcl statement(s). Add &quot;ocd_&quot; prefix to OpenOCD commands otherwise
+				there will be no output, e.g. &quot;reset init&quot; use &quot;ocd_reset init&quot;.
+				&lt;p/&gt;
+				&lt;p&gt;&lt;a href=&quot;/ram/log&quot;&gt;Click here to download log&lt;/a&gt;.&lt;/p&gt;
+				&lt;p&gt;To download log you can also use commands like &quot;wget <A HREF="http://">http://</A>}
+append buffer [ip]
+append buffer {/ram/log&quot;, or
+				point your web browser to said address.&lt;/p&gt;
+				&lt;p&gt;
+				You can also execute tcl commands using curl from your developer PC:
+				&lt;/p&gt;
+				&lt;code&gt;
+				curl --form form_command=ocd_version }
+append buffer [ip]
+append buffer {runtcl.tcl
+				&lt;/code&gt;
+				
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/openocd.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/preconfig.tcl
===================================================================
--- trunk/src/server/httpd/preconfig.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/preconfig.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,429 +1,429 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
-&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;preconfig.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Select Target Config&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;editconfigs.tcl&quot; style=&quot;&quot;&gt;Edit Configurations&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;reload.tcl&quot; style=&quot;&quot;&gt;Reload Config Scripts&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Select Preconfigured Target&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			
-			}
-
-			
-			set form_target [formfetch form_target]
-			set form_action [formfetch form_action]
-			
-			append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;preconfig.tcl&quot; method=&quot;post&quot;&gt;}
-			if {[string compare $form_action &quot;Select and reload&quot;]==0} {
-				capture_catch &quot;trunc /config/settings/openocd.cfg&quot;
-				capture_catch &quot;append_file /config/settings/openocd.cfg script target/$form_target&quot;
-				reboot 
-			}
-			
-			set form_target [load_target] 
-			
-			set files [ls /rom/target]
-			set files [lunion $files [ls /config/settings/target]]
-			set files [lsort $files]
-			 
-			if {[string compare $form_action &quot;Select and reload&quot;]!=0} {
-				
-append buffer {
-				&lt;table&gt;&lt;tr&gt;
-				&lt;td style=&quot;padding-top:1px;&quot;&gt;
-					&lt;select name=&quot;form_target&quot;&gt;
-						}
-
-							set foundTarget 0
-							foreach i $files {
-								if {[string match *.cfg $i]} {
-									
-append buffer {
-								  		&lt;option 
-								  		}
-
-									  		if {[string compare $form_target $i]==0} { 
-											set foundTarget 1
-									  		append buffer {selected=&quot;selected&quot;} 
-							  		}
-append buffer {
-							  		value=&quot;}
-append buffer $i
-append buffer {&quot;&gt;}
-append buffer $i
-append buffer {&lt;/option&gt;
-									}
-
-								}
-							}
-							
-							if {$foundTarget==0} {
-								
-append buffer {
-							  		&lt;option selected=&quot;selected&quot; value=&quot;&quot;&gt;Preconfigured target not active&lt;/option&gt;
-								}
-
-							}
-						
-append buffer {
-					&lt;/select&gt;
-				&lt;/td&gt;
-				&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
-				&lt;td&gt;
-					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Select and reload&quot;&gt;
-					
-					&nbsp;&nbsp;&nbsp;&nbsp;
-					&lt;a href=&quot;editconfigs.tcl?form_action=Load&amp;form_selected=}
-append buffer &quot;target/$form_target&quot;
-append buffer {&quot;&gt;Edit target configuration&lt;/a&gt;
-				&lt;/td&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-			}
-
-			} else {
-			    append buffer &quot;Reloading setting(ca. 30 seconds)...&quot;
-			}
-			
-append buffer {
-				
-			&lt;/form&gt;
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;preconfig.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-							
-				&lt;p&gt;ZY1000 comes with complete configurations for various targets.&lt;/p&gt;
-				&lt;p&gt;These predefined configurations include reset init scripts and flash configuration.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Select and reload&lt;/b&gt; - Select configuration and reboot ZY1000 unit.&lt;/p&gt;
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td/&gt;
-&lt;td&gt;
-&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
+&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;preconfig.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Select Target Config&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;editconfigs.tcl&quot; style=&quot;&quot;&gt;Edit Configurations&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;reload.tcl&quot; style=&quot;&quot;&gt;Reload Config Scripts&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Select Preconfigured Target&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			
+			}
+
+			
+			set form_target [formfetch form_target]
+			set form_action [formfetch form_action]
+			
+			append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;preconfig.tcl&quot; method=&quot;post&quot;&gt;}
+			if {[string compare $form_action &quot;Select and reload&quot;]==0} {
+				capture_catch &quot;trunc /config/settings/openocd.cfg&quot;
+				capture_catch &quot;append_file /config/settings/openocd.cfg script target/$form_target&quot;
+				reboot 
+			}
+			
+			set form_target [load_target] 
+			
+			set files [ls /rom/target]
+			set files [lunion $files [ls /config/settings/target]]
+			set files [lsort $files]
+			 
+			if {[string compare $form_action &quot;Select and reload&quot;]!=0} {
+				
+append buffer {
+				&lt;table&gt;&lt;tr&gt;
+				&lt;td style=&quot;padding-top:1px;&quot;&gt;
+					&lt;select name=&quot;form_target&quot;&gt;
+						}
+
+							set foundTarget 0
+							foreach i $files {
+								if {[string match *.cfg $i]} {
+									
+append buffer {
+								  		&lt;option 
+								  		}
+
+									  		if {[string compare $form_target $i]==0} { 
+											set foundTarget 1
+									  		append buffer {selected=&quot;selected&quot;} 
+							  		}
+append buffer {
+							  		value=&quot;}
+append buffer $i
+append buffer {&quot;&gt;}
+append buffer $i
+append buffer {&lt;/option&gt;
+									}
+
+								}
+							}
+							
+							if {$foundTarget==0} {
+								
+append buffer {
+							  		&lt;option selected=&quot;selected&quot; value=&quot;&quot;&gt;Preconfigured target not active&lt;/option&gt;
+								}
+
+							}
+						
+append buffer {
+					&lt;/select&gt;
+				&lt;/td&gt;
+				&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;
+				&lt;td&gt;
+					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Select and reload&quot;&gt;
+					
+					&nbsp;&nbsp;&nbsp;&nbsp;
+					&lt;a href=&quot;editconfigs.tcl?form_action=Load&amp;form_selected=}
+append buffer &quot;target/$form_target&quot;
+append buffer {&quot;&gt;Edit target configuration&lt;/a&gt;
+				&lt;/td&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+			}
+
+			} else {
+			    append buffer &quot;Reloading setting(ca. 30 seconds)...&quot;
+			}
+			
+append buffer {
+				
+			&lt;/form&gt;
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;preconfig.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+							
+				&lt;p&gt;ZY1000 comes with complete configurations for various targets.&lt;/p&gt;
+				&lt;p&gt;These predefined configurations include reset init scripts and flash configuration.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Select and reload&lt;/b&gt; - Select configuration and reboot ZY1000 unit.&lt;/p&gt;
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td/&gt;
+&lt;td&gt;
+&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/preconfig.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/production.tcl
===================================================================
--- trunk/src/server/httpd/production.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/production.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,392 +1,392 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;production.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Production&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Production&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			}
-
-				set form_action [formfetch form_action]
-				set form_serialnumber [formfetch form_serialnumber]
-				append buffer [production_info]
-			
-append buffer {
-				
-			&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;production.tcl&quot; method=&quot;post&quot;&gt;
-				&lt;code style=&quot;white-space: nowrap;&quot;&gt;
-					}
-	
-						if {[string compare $form_action &quot;Upload firmware&quot;]==0} {
-							set wrotedata [catch {writeform form_filecontent $upload_filename} result]  
-							append buffer [encode $result]
-							if {$wrotedata==0} {
-								append buffer &quot;&lt;br&gt;Running production procedure&lt;p&gt;&quot;
-								append buffer &quot;&lt;br&gt;Reset and init: &lt;br&gt;&quot;
-								
-								append console [encode [capture_catch {catch &quot;production $upload_filename $form_serialnumber&quot;}]]
-							}
-						}
-						if {[string compare $form_action &quot;Test&quot;]==0} {
-							append buffer &quot;&lt;br&gt;Running production test. Output from first 10 seconds printed below. &lt;p&gt;&quot;
-							
-							append console [encode [capture_catch {catch production_test}]]
-						}
-						if {[string compare $form_action &quot;Power on&quot;]==0} {
-							append console [encode [capture_catch &quot;power on&quot;]]
-						}
-						if {[string compare $form_action &quot;Power off&quot;]==0} {
-							append console [encode [capture_catch &quot;power off&quot;]]
-						}
-					
-append buffer {
-				&lt;/code&gt;
-				}
-
-					append buffer {&lt;p class=&quot;formtext&quot;&gt;Firmware file(raw binary) &lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;p&gt;}
-					append buffer {&lt;p class=&quot;formtext&quot;&gt;Serial number &lt;input type=&quot;text&quot; name=&quot;form_serialnumber&quot;&gt;&lt;p&gt;}
-				
-append buffer {
-				
-				&lt;table&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-			
-				&lt;table&gt;&lt;tr&gt;
-					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload firmware&quot; &gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Test&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
-					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;
-				&lt;/tr&gt;&lt;/table&gt;
-			&lt;/form&gt;
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;production.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				The target script can implement the &quot;production&quot;, &quot;production_info&quot; and &quot;production_test&quot; tcl proc's. These procedures
-				are used on this page. There are default implementations that do nothing.
-				
-				&lt;p&gt;&lt;b&gt;Upload firmware&lt;/b&gt; - Power cycle target, reset target and program raw binary file to flash bank 0, offset 0 and verify flash programming. Leave target powered on.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Test&lt;/b&gt; -  Power up target, run 10 second target test. Output is provided via the DCC output channel. &lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Power on&lt;/b&gt; - Power on target.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Power off&lt;/b&gt; - Power off target.&lt;/p&gt;
-				&lt;p&gt;&lt;b&gt;Serial number&lt;/b&gt; - A target script can use this string in the production procedure. Type &quot;help production&quot; for more info.&lt;/p&gt;
-					 
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;production.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Production&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Production&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			}
+
+				set form_action [formfetch form_action]
+				set form_serialnumber [formfetch form_serialnumber]
+				append buffer [production_info]
+			
+append buffer {
+				
+			&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;production.tcl&quot; method=&quot;post&quot;&gt;
+				&lt;code style=&quot;white-space: nowrap;&quot;&gt;
+					}
+	
+						if {[string compare $form_action &quot;Upload firmware&quot;]==0} {
+							set wrotedata [catch {writeform form_filecontent $upload_filename} result]  
+							append buffer [encode $result]
+							if {$wrotedata==0} {
+								append buffer &quot;&lt;br&gt;Running production procedure&lt;p&gt;&quot;
+								append buffer &quot;&lt;br&gt;Reset and init: &lt;br&gt;&quot;
+								
+								append console [encode [capture_catch {catch &quot;production $upload_filename $form_serialnumber&quot;}]]
+							}
+						}
+						if {[string compare $form_action &quot;Test&quot;]==0} {
+							append buffer &quot;&lt;br&gt;Running production test. Output from first 10 seconds printed below. &lt;p&gt;&quot;
+							
+							append console [encode [capture_catch {catch production_test}]]
+						}
+						if {[string compare $form_action &quot;Power on&quot;]==0} {
+							append console [encode [capture_catch &quot;power on&quot;]]
+						}
+						if {[string compare $form_action &quot;Power off&quot;]==0} {
+							append console [encode [capture_catch &quot;power off&quot;]]
+						}
+					
+append buffer {
+				&lt;/code&gt;
+				}
+
+					append buffer {&lt;p class=&quot;formtext&quot;&gt;Firmware file(raw binary) &lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt;&lt;p&gt;}
+					append buffer {&lt;p class=&quot;formtext&quot;&gt;Serial number &lt;input type=&quot;text&quot; name=&quot;form_serialnumber&quot;&gt;&lt;p&gt;}
+				
+append buffer {
+				
+				&lt;table&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+					&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+			
+				&lt;table&gt;&lt;tr&gt;
+					&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload firmware&quot; &gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Test&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power on&quot;&gt;&lt;/td&gt;
+					&lt;td class=&quot;buttonspacesmall&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Power off&quot;&gt;
+				&lt;/tr&gt;&lt;/table&gt;
+			&lt;/form&gt;
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;production.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				The target script can implement the &quot;production&quot;, &quot;production_info&quot; and &quot;production_test&quot; tcl proc's. These procedures
+				are used on this page. There are default implementations that do nothing.
+				
+				&lt;p&gt;&lt;b&gt;Upload firmware&lt;/b&gt; - Power cycle target, reset target and program raw binary file to flash bank 0, offset 0 and verify flash programming. Leave target powered on.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Test&lt;/b&gt; -  Power up target, run 10 second target test. Output is provided via the DCC output channel. &lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Power on&lt;/b&gt; - Power on target.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Power off&lt;/b&gt; - Power off target.&lt;/p&gt;
+				&lt;p&gt;&lt;b&gt;Serial number&lt;/b&gt; - A target script can use this string in the production procedure. Type &quot;help production&quot; for more info.&lt;/p&gt;
+					 
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/production.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/readme.txt
===================================================================
--- trunk/src/server/httpd/readme.txt	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/readme.txt	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,24 +1,24 @@
-work in progress... stay tuned....
-
-
-1. To build .tcl pages. This will convert menu.xml and menu.xsl into
-lots of .html pages w/embedded tcl, which are then inverted into
-tcl with embedded html.
-
-sh build.sh
-
-xalan.jar can be gotten from apache.org. 
-
-
-2. libmicrohttpd is a bit tricky to build under Cygwin:
-
-<A HREF="https://gnunet.org/mantis/view.php?id=1440">https://gnunet.org/mantis/view.php?id=1440</A>
-
-3. To test:
-
-../openocd/configure --enable-httpd --enable-dummy  --enable-ioutil
-make
-make install
-openocd  -f httpd/httpd.tcl -c &quot;interface dummy&quot; -f target/at91eb40a.cfg
-
-4. Point browser to: <A HREF="http://localhost:8888">http://localhost:8888</A>
+work in progress... stay tuned....
+
+
+1. To build .tcl pages. This will convert menu.xml and menu.xsl into
+lots of .html pages w/embedded tcl, which are then inverted into
+tcl with embedded html.
+
+sh build.sh
+
+xalan.jar can be gotten from apache.org. 
+
+
+2. libmicrohttpd is a bit tricky to build under Cygwin:
+
+<A HREF="https://gnunet.org/mantis/view.php?id=1440">https://gnunet.org/mantis/view.php?id=1440</A>
+
+3. To test:
+
+../openocd/configure --enable-httpd --enable-dummy  --enable-ioutil
+make
+make install
+openocd  -f httpd/httpd.tcl -c &quot;interface dummy&quot; -f target/at91eb40a.cfg
+
+4. Point browser to: <A HREF="http://localhost:8888">http://localhost:8888</A>


Property changes on: trunk/src/server/httpd/readme.txt
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/reload.tcl
===================================================================
--- trunk/src/server/httpd/reload.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/reload.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,322 +1,322 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Reload Config Scripts&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			
-			}
-
-				set form_action [formfetch form_action]
-	
-				if {[string compare $form_action &quot;Reload&quot;]==0} {
-					append buffer &quot;Reloading Config Scripts...&lt;p&gt;&quot;
-					reboot
-				}
-			
-append buffer {
-			&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;reload.tcl&quot; method=&quot;post&quot;&gt;
-				&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reload&quot;&gt;
-			&lt;/form&gt;
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;reload.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				Restart ZY1000 to reload selected target config script.				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Reload Config Scripts&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			
+			}
+
+				set form_action [formfetch form_action]
+	
+				if {[string compare $form_action &quot;Reload&quot;]==0} {
+					append buffer &quot;Reloading Config Scripts...&lt;p&gt;&quot;
+					reboot
+				}
+			
+append buffer {
+			&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;reload.tcl&quot; method=&quot;post&quot;&gt;
+				&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reload&quot;&gt;
+			&lt;/form&gt;
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;reload.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				Restart ZY1000 to reload selected target config script.				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/reload.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/run.tcl
===================================================================
--- trunk/src/server/httpd/run.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/run.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,382 +1,382 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Run program&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-
-
-			
-}
-
-
-set form_address [formfetch form_address]
-set form_action [formfetch form_action]
-
-if {[string compare $form_action &quot;Run from address&quot;]==0} {
-	append console [encode [capture_catch &quot;halt&quot;]]
-	append console [encode [capture_catch &quot;wait_halt&quot;]]
-	append console [encode [capture_catch &quot;resume $form_address&quot;]]
-}  
-
-if {[string compare $form_action &quot;Halt&quot;]==0} {
-	append console [encode [capture_catch &quot;halt&quot;]]
-	append console [encode [capture_catch &quot;wait_halt&quot;]]
-}
-  
-if {[string compare $form_action &quot;Reset and run&quot;]==0} {
-	append console [encode [capture_catch &quot;reset run&quot;]]
-}
-  
-if {[string compare $form_action &quot;Reset and init&quot;]==0} {
-	append console [encode [capture_catch &quot;reset init&quot;]]
-}  
-
-append console [encode [capture_catch poll]]
-
-
-append buffer {
-
-&lt;form action=&quot;run.tcl&quot; method=&quot;post&quot;&gt; 
-	&lt;table&gt;
-	&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
-append buffer $form_address
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-	&lt;/td&gt;&lt;/tr&gt;
-	&lt;/table&gt;
-	&lt;table&gt;
-		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-		&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
-	&lt;/table&gt;
-	
-	&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Run from address&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and init&quot;&gt;&lt;br&gt;
-&lt;/form&gt;
-			
-
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;run.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				&lt;p&gt;Reset and run - reset CPU and let it run.&lt;/p&gt;
-				&lt;p&gt;Halt - halt CPU.&lt;/p&gt;
-				&lt;p&gt;Run from address - halt CPU and resume from address. Default is resume from current address.&lt;/p&gt;
-				&lt;p&gt;Reset and init - reset CPU and run init script.&lt;/p&gt;
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;&quot;&gt;Info&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;erase.tcl&quot; style=&quot;&quot;&gt;Erase&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;flash.tcl&quot; style=&quot;&quot;&gt;Program / Verify&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;production.tcl&quot; style=&quot;&quot;&gt;Production&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Run program&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+
+
+			
+}
+
+
+set form_address [formfetch form_address]
+set form_action [formfetch form_action]
+
+if {[string compare $form_action &quot;Run from address&quot;]==0} {
+	append console [encode [capture_catch &quot;halt&quot;]]
+	append console [encode [capture_catch &quot;wait_halt&quot;]]
+	append console [encode [capture_catch &quot;resume $form_address&quot;]]
+}  
+
+if {[string compare $form_action &quot;Halt&quot;]==0} {
+	append console [encode [capture_catch &quot;halt&quot;]]
+	append console [encode [capture_catch &quot;wait_halt&quot;]]
+}
+  
+if {[string compare $form_action &quot;Reset and run&quot;]==0} {
+	append console [encode [capture_catch &quot;reset run&quot;]]
+}
+  
+if {[string compare $form_action &quot;Reset and init&quot;]==0} {
+	append console [encode [capture_catch &quot;reset init&quot;]]
+}  
+
+append console [encode [capture_catch poll]]
+
+
+append buffer {
+
+&lt;form action=&quot;run.tcl&quot; method=&quot;post&quot;&gt; 
+	&lt;table&gt;
+	&lt;tr&gt;&lt;td class=&quot;formtext&quot; style=&quot;padding-right:10px;&quot;&gt;Address&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;form_address&quot; value=&quot;}
+append buffer $form_address
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+	&lt;/td&gt;&lt;/tr&gt;
+	&lt;/table&gt;
+	&lt;table&gt;
+		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+		&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+		&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;
+	&lt;/table&gt;
+	
+	&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and run&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Run from address&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Halt&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Reset and init&quot;&gt;&lt;br&gt;
+&lt;/form&gt;
+			
+
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;run.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				&lt;p&gt;Reset and run - reset CPU and let it run.&lt;/p&gt;
+				&lt;p&gt;Halt - halt CPU.&lt;/p&gt;
+				&lt;p&gt;Run from address - halt CPU and resume from address. Default is resume from current address.&lt;/p&gt;
+				&lt;p&gt;Reset and init - reset CPU and run init script.&lt;/p&gt;
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/run.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/support.tcl
===================================================================
--- trunk/src/server/httpd/support.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/support.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,431 +1,431 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-		
-		
-
-		
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/ram/cgi/zylweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-&lt;img src=&quot;/rom/menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
-&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('/rom/menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture zy1000_version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;zy1000.tcl&quot; style=&quot;&quot;&gt;Set IP Address&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;upgrade.tcl&quot; style=&quot;&quot;&gt;ZY1000 Firmware&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;editfile.tcl&quot; style=&quot;&quot;&gt;Edit File&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;support.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Support Request&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('/rom/menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('/rom/menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('/rom/menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/zy1000.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Setup ZY1000&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('/rom/menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Submit Support Request&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			Before contacting Zylin, please submit a support request with relevant information. 
-			}
-
-			
-			set form_config [load_config &quot;target/[load_target]&quot;]
-			set support_id [string range [rand] 0 7]
-			set form_log &quot;&quot;
-			append form_log &quot;Version: [capture &quot;zy1000_version zy1000&quot;]&quot;
-			append form_log &quot;OpenOCD version: [capture &quot;zy1000_version openocd&quot;]&quot;
-			append form_log &quot;Version date: [capture &quot;zy1000_version date&quot;]&quot;
-			append form_log [log]
-			
-append buffer {
-
-			&lt;form action=&quot;supportrequest.tcl&quot; method=&quot;POST&quot; target=&quot;_blank&quot;&gt;
-				&lt;input TYPE=&quot;hidden&quot; NAME=&quot;id&quot; VALUE=&quot;}
-append buffer $support_id
-append buffer {&quot;&gt;
-				&lt;input TYPE=&quot;hidden&quot; NAME=&quot;success&quot; VALUE=&quot;<A HREF="http://www.zylin.com/zy1000_support.html">http://www.zylin.com/zy1000_support.html</A>&quot;&gt;
-				&lt;input size=&quot;50&quot; name=&quot;subject&quot; type=&quot;hidden&quot; value=&quot;ZY1000 support request&quot;&gt;
-				&lt;table cellspacing=&quot;5&quot;&gt;
-				&lt;tr&gt;&lt;td&gt;Support ID&lt;/td&gt;&lt;td&gt;}
-append buffer $support_id
-append buffer {&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td&gt;Contact person&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;name&quot; type=&quot;text&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td&gt;Phone&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;phone&quot; type=&quot;text&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td&gt;email&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;email&quot; type=&quot;text&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;tr&gt;&lt;td&gt;MAC address&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;serial&quot; type=&quot;text&quot; value=&quot;}
-append buffer [mac]
-append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
-				&lt;/td&gt;&lt;/tr&gt;
-				&lt;/table&gt;
-				&lt;p&gt;
-				Summary:
-				&lt;p&gt;
-				&lt;input name=&quot;summary&quot; size=&quot;50&quot;&gt;
-				&lt;p&gt;
-				Description:
-				&lt;p&gt;
-				&lt;textarea  style=&quot;overflow:auto;font-size:11px;&quot;  name=&quot;description&quot; cols=&quot;50&quot; rows=&quot;4&quot; type=&quot;textarea&quot; wrap=&quot;off&quot;&gt;&lt;/textarea&gt;
-				
-				&lt;p&gt;				
-				Log:&lt;p&gt;
-				&lt;textarea  style=&quot;overflow:auto;font-size:11px;&quot;  name=&quot;log&quot; cols=&quot;50&quot; rows=&quot;5&quot; type=&quot;textarea&quot; wrap=&quot;off&quot;&gt;}
-append buffer $form_log
-append buffer {&lt;/textarea&gt;
-				&lt;p&gt;				
-				Config:&lt;p&gt;
-				&lt;textarea  style=&quot;overflow:auto;font-size:11px;&quot;  name=&quot;config&quot; cols=&quot;50&quot; rows=&quot;5&quot; type=&quot;textarea&quot; wrap=&quot;off&quot;&gt;}
-append buffer $form_config
-append buffer {&lt;/textarea&gt;
-				&lt;p&gt;
-			&lt;/form&gt;
-			&lt;p&gt;
-			&lt;input value=&quot;Creates support request&quot; type=&quot;submit&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;
-
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('/rom/menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;/ram/cgi/support.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('/rom/menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('/rom/menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				Before contacting Zylin with questions, please fill in and submit this form
-				and allow us time to review the information and answer by email if possible.
-				&lt;p/&gt; 
-				Note that you can see precisely what information is submitted to Zylin in the
-				form: the log and your config files.
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('/rom/menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td/&gt;
-&lt;td&gt;
-&lt;img border=&quot;0&quot; src=&quot;/rom/menu_cuts/logo_bottom.png&quot;/&gt;
-&lt;/td&gt;
-&lt;td style=&quot;padding-top:10px;padding-left:10px;margin-top:10px;&quot; class=&quot;textlight&quot;&gt;
-							Zylin AS, Auglendsdalen 78, N-4017 Stavanger, Norway - www.zylin.com
-						&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+		
+		
+
+		
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/ram/cgi/zylweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+&lt;img src=&quot;/rom/menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
+&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('/rom/menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture zy1000_version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;zy1000.tcl&quot; style=&quot;&quot;&gt;Set IP Address&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;upgrade.tcl&quot; style=&quot;&quot;&gt;ZY1000 Firmware&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;editfile.tcl&quot; style=&quot;&quot;&gt;Edit File&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;support.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Support Request&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('/rom/menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('/rom/menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('/rom/menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('/rom/menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/zy1000.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Setup ZY1000&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('/rom/menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Submit Support Request&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			Before contacting Zylin, please submit a support request with relevant information. 
+			}
+
+			
+			set form_config [load_config &quot;target/[load_target]&quot;]
+			set support_id [string range [rand] 0 7]
+			set form_log &quot;&quot;
+			append form_log &quot;Version: [capture &quot;zy1000_version zy1000&quot;]&quot;
+			append form_log &quot;OpenOCD version: [capture &quot;zy1000_version openocd&quot;]&quot;
+			append form_log &quot;Version date: [capture &quot;zy1000_version date&quot;]&quot;
+			append form_log [log]
+			
+append buffer {
+
+			&lt;form action=&quot;supportrequest.tcl&quot; method=&quot;POST&quot; target=&quot;_blank&quot;&gt;
+				&lt;input TYPE=&quot;hidden&quot; NAME=&quot;id&quot; VALUE=&quot;}
+append buffer $support_id
+append buffer {&quot;&gt;
+				&lt;input TYPE=&quot;hidden&quot; NAME=&quot;success&quot; VALUE=&quot;<A HREF="http://www.zylin.com/zy1000_support.html">http://www.zylin.com/zy1000_support.html</A>&quot;&gt;
+				&lt;input size=&quot;50&quot; name=&quot;subject&quot; type=&quot;hidden&quot; value=&quot;ZY1000 support request&quot;&gt;
+				&lt;table cellspacing=&quot;5&quot;&gt;
+				&lt;tr&gt;&lt;td&gt;Support ID&lt;/td&gt;&lt;td&gt;}
+append buffer $support_id
+append buffer {&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td&gt;Contact person&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;name&quot; type=&quot;text&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td&gt;Phone&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;phone&quot; type=&quot;text&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td&gt;email&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;email&quot; type=&quot;text&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;tr&gt;&lt;td&gt;MAC address&lt;/td&gt;&lt;td&gt;&lt;input size=&quot;50&quot; name=&quot;serial&quot; type=&quot;text&quot; value=&quot;}
+append buffer [mac]
+append buffer {&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
+				&lt;/td&gt;&lt;/tr&gt;
+				&lt;/table&gt;
+				&lt;p&gt;
+				Summary:
+				&lt;p&gt;
+				&lt;input name=&quot;summary&quot; size=&quot;50&quot;&gt;
+				&lt;p&gt;
+				Description:
+				&lt;p&gt;
+				&lt;textarea  style=&quot;overflow:auto;font-size:11px;&quot;  name=&quot;description&quot; cols=&quot;50&quot; rows=&quot;4&quot; type=&quot;textarea&quot; wrap=&quot;off&quot;&gt;&lt;/textarea&gt;
+				
+				&lt;p&gt;				
+				Log:&lt;p&gt;
+				&lt;textarea  style=&quot;overflow:auto;font-size:11px;&quot;  name=&quot;log&quot; cols=&quot;50&quot; rows=&quot;5&quot; type=&quot;textarea&quot; wrap=&quot;off&quot;&gt;}
+append buffer $form_log
+append buffer {&lt;/textarea&gt;
+				&lt;p&gt;				
+				Config:&lt;p&gt;
+				&lt;textarea  style=&quot;overflow:auto;font-size:11px;&quot;  name=&quot;config&quot; cols=&quot;50&quot; rows=&quot;5&quot; type=&quot;textarea&quot; wrap=&quot;off&quot;&gt;}
+append buffer $form_config
+append buffer {&lt;/textarea&gt;
+				&lt;p&gt;
+			&lt;/form&gt;
+			&lt;p&gt;
+			&lt;input value=&quot;Creates support request&quot; type=&quot;submit&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;
+
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('/rom/menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;/ram/cgi/support.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('/rom/menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('/rom/menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('/rom/menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				Before contacting Zylin with questions, please fill in and submit this form
+				and allow us time to review the information and answer by email if possible.
+				&lt;p/&gt; 
+				Note that you can see precisely what information is submitted to Zylin in the
+				form: the log and your config files.
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('/rom/menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td/&gt;
+&lt;td&gt;
+&lt;img border=&quot;0&quot; src=&quot;/rom/menu_cuts/logo_bottom.png&quot;/&gt;
+&lt;/td&gt;
+&lt;td style=&quot;padding-top:10px;padding-left:10px;margin-top:10px;&quot; class=&quot;textlight&quot;&gt;
+							Zylin AS, Auglendsdalen 78, N-4017 Stavanger, Norway - www.zylin.com
+						&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/support.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/targets.tcl
===================================================================
--- trunk/src/server/httpd/targets.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/targets.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,560 +1,560 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Target config quick start guide&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-				
-				A target needs an openocd.cfg file. This config file sets up
-				the CPU, flash and reset init script. Either OpenOCD ships with an
-				openocd.cfg file for your target or you need to take an existing
-				config file and modify it for your needs.
-				&lt;p&gt; 
-				The reset init script is crucial. It will set up e.g. MMU, chip
-				select registers, etc. after a reset. The init.cfg (reset init script)
-				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
-				&lt;p&gt;
-				Writing an openocd.cfg from scratch is a non-trivial exercise, but
-				fortunally it only has to be done once for a target and afterwards it
-				rarely if ever needs to be changed.
-				
-				
-				&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;targets.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-					
-					  Quick start guide on how to configure a target.
-				&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Target config quick start guide&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-				
-				A target needs an openocd.cfg file. This config file sets up
-				the CPU, flash and reset init script. Either OpenOCD ships with an
-				openocd.cfg file for your target or you need to take an existing
-				config file and modify it for your needs.
-				&lt;p&gt; 
-				The reset init script is crucial. It will set up e.g. MMU, chip
-				select registers, etc. after a reset. The init.cfg (reset init script)
-				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
-				&lt;p&gt;
-				Writing an openocd.cfg from scratch is a non-trivial exercise, but
-				fortunally it only has to be done once for a target and afterwards it
-				rarely if ever needs to be changed.
-				
-				
-				&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;targets.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-					
-					  Quick start guide on how to configure a target.
-				&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Target config quick start guide&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+				
+				A target needs an openocd.cfg file. This config file sets up
+				the CPU, flash and reset init script. Either OpenOCD ships with an
+				openocd.cfg file for your target or you need to take an existing
+				config file and modify it for your needs.
+				&lt;p&gt; 
+				The reset init script is crucial. It will set up e.g. MMU, chip
+				select registers, etc. after a reset. The init.cfg (reset init script)
+				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
+				&lt;p&gt;
+				Writing an openocd.cfg from scratch is a non-trivial exercise, but
+				fortunally it only has to be done once for a target and afterwards it
+				rarely if ever needs to be changed.
+				
+				
+				&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;targets.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+					
+					  Quick start guide on how to configure a target.
+				&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Target config quick start guide&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+				
+				A target needs an openocd.cfg file. This config file sets up
+				the CPU, flash and reset init script. Either OpenOCD ships with an
+				openocd.cfg file for your target or you need to take an existing
+				config file and modify it for your needs.
+				&lt;p&gt; 
+				The reset init script is crucial. It will set up e.g. MMU, chip
+				select registers, etc. after a reset. The init.cfg (reset init script)
+				is embedded into the openocd.cfg file in the sampls OpenOCD provides.
+				&lt;p&gt;
+				Writing an openocd.cfg from scratch is a non-trivial exercise, but
+				fortunally it only has to be done once for a target and afterwards it
+				rarely if ever needs to be changed.
+				
+				
+				&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;targets.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+					
+					  Quick start guide on how to configure a target.
+				&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/targets.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/terminal.tcl
===================================================================
--- trunk/src/server/httpd/terminal.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/terminal.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,364 +1,364 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-
-
-		
-
-
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;OpenOCD debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-							OpenOCD
-						&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;UART forwarding&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			}
-
-				set form_baudrate [formfetch form_baudrate]
-				if {[string length $form_baudrate]==0} {
-					set form_baudrate [ocd_uart]
-					set form_baudrate [string range $form_baudrate 0 [expr [string length $form_baudrate]-2]]
-				}
-				set form_action [formfetch form_action]
-			
-append buffer {
-			&lt;form action=&quot;terminal.tcl&quot; method=&quot;post&quot;&gt;
-				Target baudrate: 
-					&lt;select name=&quot;form_baudrate&quot;&gt;
-						}
-
-							foreach i {9600 19200 38400 57600 115200} { 
-							
-append buffer {
-				  				&lt;option }
-if {[string compare $form_baudrate $i]==0} { append buffer {selected=&quot;selected&quot;} }  
-append buffer {
-				  				value =&quot;}
-append buffer $i
-append buffer {&quot;&gt;}
-append buffer $i
-append buffer {&lt;/option&gt;
-				  			}
-
-				  			}
-				  			
-append buffer {
-						&lt;/select&gt;
-
-					&lt;p&gt;	
-					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Set baudrate&quot; &gt;
-				&lt;/form&gt;			
-			}
-
-				if {[string compare $form_action &quot;Set baudrate&quot;]==0} {
-					append console [encode [ocd_uart $form_baudrate]]
-				}
-			
-append buffer {
-			
-			&lt;h2&gt;Simple UART&lt;/h2&gt;
-			This terminal window is purely for illustrative purposes. Use telnet or a terminal program
-			to talk to the target over TCP/IP for anything but trivial case of reading/writing a few
-			lines of texts in simple tests.
-			&lt;p&gt;
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;terminal.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
-				
-				Serial port data to target is forwarded(both directions) in the simple terminal window
-				to the left. Alternatively you can &lt;b&gt;telnet }
-append buffer [ip]
-append buffer { 5555&lt;/b&gt;
-				or connect via TCP/IP from e.g. HyperTerminal.
-				&lt;p&gt;
-				Type &quot;help uart&quot; in telnet for information on how to set uart speed for target. Normally
-				the uart speed is set from the target configuration script by adding an &quot;uart N&quot;, where
-				N is the baudrate.
-				
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+
+
+		
+
+
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;OpenOCD debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+							OpenOCD
+						&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;&quot;&gt;Target Status&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;index.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;UART forwarding&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			}
+
+				set form_baudrate [formfetch form_baudrate]
+				if {[string length $form_baudrate]==0} {
+					set form_baudrate [ocd_uart]
+					set form_baudrate [string range $form_baudrate 0 [expr [string length $form_baudrate]-2]]
+				}
+				set form_action [formfetch form_action]
+			
+append buffer {
+			&lt;form action=&quot;terminal.tcl&quot; method=&quot;post&quot;&gt;
+				Target baudrate: 
+					&lt;select name=&quot;form_baudrate&quot;&gt;
+						}
+
+							foreach i {9600 19200 38400 57600 115200} { 
+							
+append buffer {
+				  				&lt;option }
+if {[string compare $form_baudrate $i]==0} { append buffer {selected=&quot;selected&quot;} }  
+append buffer {
+				  				value =&quot;}
+append buffer $i
+append buffer {&quot;&gt;}
+append buffer $i
+append buffer {&lt;/option&gt;
+				  			}
+
+				  			}
+				  			
+append buffer {
+						&lt;/select&gt;
+
+					&lt;p&gt;	
+					&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Set baudrate&quot; &gt;
+				&lt;/form&gt;			
+			}
+
+				if {[string compare $form_action &quot;Set baudrate&quot;]==0} {
+					append console [encode [ocd_uart $form_baudrate]]
+				}
+			
+append buffer {
+			
+			&lt;h2&gt;Simple UART&lt;/h2&gt;
+			This terminal window is purely for illustrative purposes. Use telnet or a terminal program
+			to talk to the target over TCP/IP for anything but trivial case of reading/writing a few
+			lines of texts in simple tests.
+			&lt;p&gt;
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;terminal.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://openocd.berlios.de/doc/openocd.pdf">http://openocd.berlios.de/doc/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;
+				
+				Serial port data to target is forwarded(both directions) in the simple terminal window
+				to the left. Alternatively you can &lt;b&gt;telnet }
+append buffer [ip]
+append buffer { 5555&lt;/b&gt;
+				or connect via TCP/IP from e.g. HyperTerminal.
+				&lt;p&gt;
+				Type &quot;help uart&quot; in telnet for information on how to set uart speed for target. Normally
+				the uart speed is set from the target configuration script by adding an &quot;uart N&quot;, where
+				N is the baudrate.
+				
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/terminal.tcl
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: trunk/src/server/httpd/upgrade.tcl
===================================================================
--- trunk/src/server/httpd/upgrade.tcl	2008-12-23 08:52:02 UTC (rev 1272)
+++ trunk/src/server/httpd/upgrade.tcl	2008-12-23 12:52:14 UTC (rev 1273)
@@ -1,418 +1,418 @@
-# converted to .tcl by html2tcl.tcl
-set buffer &quot;&quot;
-append buffer {
-	
-	
-
-		
-		
-		
-		
-
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-
-		
-
-
-
-
-		
-
-
-
-		
-
-
-		
-
-
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-		
-		
-		
-		
-		
-
-		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
-&lt;head&gt;
-&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
-&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
-&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
-&lt;/head&gt;
-}
-
-				set console &quot;&quot;
-				set upload_filename /ram/upload
-			
-append buffer {
-&lt;body style=&quot;margin:0px;&quot;&gt;
-&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
-&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
-&lt;a href=&quot;/&quot;&gt;
-&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
-&lt;/a&gt;
-&lt;/div&gt;
-&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
-&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
-}
-append buffer [capture version]
-append buffer {
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;/div&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:33px;&quot;&gt;
-&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
-								&nbsp;
-							&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
-&lt;tr style=&quot;height:59px;&quot;&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;zy1000.tcl&quot; style=&quot;&quot;&gt;Set IP Address&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;upgrade.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;ZY1000 Firmware&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;editfile.tcl&quot; style=&quot;&quot;&gt;Edit File&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;support.tcl&quot; style=&quot;&quot;&gt;Support Request&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
-&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/index.tcl&quot;&gt;Config Target&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
-&lt;a href=&quot;/ram/cgi/zy1000.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Setup ZY1000&lt;/a&gt;
-&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
-&lt;H1&gt;Upgrade ZY1000 Firmware&lt;/H1&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
-			
-			}
-
-				set form_action [formfetch form_action];
-				set form_filecontent [formfetch form_filecontent];
-				
-				append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;upgrade.tcl&quot; method=&quot;post&quot;&gt;}
-				if {[string compare $form_action &quot;Upload&quot;]==0} {
-					
-					if [string match ZylinPhiFirmware* $form_filecontent]==1 {
-						set form_filename /config/firmware.phi 
-						puts &quot;Writing firmware to $form_filename&quot;
-						set fp [aio.open $form_filename w];
-						$fp puts -nonewline $form_filecontent
-						$fp close
-						puts &quot;Done writing firmware to $form_filename&quot;
-						append buffer &quot;&lt;br&gt;&lt;div style='font-size:14px;'&gt;Upgraded Zylin JTAG, rebooting (wait ca. 30 seconds)...&lt;/div&gt;&lt;br&gt;&quot;
-						reboot
-					} else {
-						append buffer &quot;&lt;br&gt;Not a valid Zylin JTAG firmware file.&lt;br&gt;&quot;
-					}
-				} elseif {[string compare $form_action &quot;Restore factory settings&quot;]==0} {
-					proc rmdir { dir } {
-						set entries {}
-						catch {set entries [ls $dir]} err
-						foreach { entry } $entries {
-							rmdir $dir/$entry
-							rm $dir/$entry
-						}
-					}				
-					rmdir /config/settings
-					reboot
-					append buffer &quot;Restoring factory settings (wait ca. 30 seconds)...&lt;br&gt;&quot;
-				} else {
-					append buffer {&lt;div style=&quot;font-size:14px;&quot;&gt;Upgrade Zylin JTAG firmware + reboot. &lt;/div&gt;&lt;p&gt;}
-					append buffer {&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt; &lt;br&gt;}
-					append buffer {&lt;table&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
-					append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload&quot; &gt;&lt;br&gt; }
-					append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Restore factory settings&quot; &gt;&lt;br&gt; }
-					append buffer {&lt;/form&gt; }
-				}
-			
-append buffer {
-			
-			&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-							 		
-								 	set toggle_details [formfetch toggle_details]
-								 	if {[string length $toggle_details]==0} {
-								 		set toggle_details 0
-								 	}
-								 	set show_details [load_var show_details]
-								 	if {[string length $show_details]==0} {
-								 		set show_details 0
-								 	}
-								 	if {$toggle_details==1} {
-								 		set show_details [expr 1-$show_details]
-								 		save_var show_details $show_details
-								 	}
-								 	
-							 		if {[string length $console]!=0} {
-							 			
-append buffer {
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-}
-
-												 		if {$show_details==1} {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
-												 			append buffer &gt;
-												 		} else {
-												 			append buffer &lt;
-												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
-												 			append buffer &gt;
-												 		}
-												 	
-append buffer {
-&lt;a class=&quot;openocd&quot; href=&quot;/ram/cgi/upgrade.tcl?toggle_details=1&quot;&gt;
-}
-
-															if {$show_details==1} {
-																append buffer &quot;Hide details&quot;
-													 			append buffer &lt;br/&gt;
-															} else {
-																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
-																append buffer &quot;Show details&quot;
-																append buffer {&lt;/div&gt;}
-															}
-															
-append buffer {
-&lt;/a&gt;
-}
-
-													 		if {$show_details==1} {
-													 			append buffer $console
-													 		}
-													 	
-append buffer {&lt;/td&gt;}
-
-													 	if {$show_details!=1} {
-													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
-													 	}
-													 
-append buffer {
-&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-}
-
-									 }
-								
-append buffer {
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
-&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
-								 			&nbsp;
-							 			&lt;/div&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;td style=&quot;width:6px;&quot;/&gt;
-&lt;td style=&quot;width:245px;height:100%&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
-&lt;tr&gt;
-&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
-&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
-										    Documentation
-										 &lt;/div&gt;
-&lt;/td&gt;
-&lt;td width=&quot;40px&quot;&gt;
-								 		&nbsp;
-								 	&lt;/td&gt;
-&lt;td/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
-&lt;br/&gt;
-&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;3&quot;&gt;
-&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
-&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
-&lt;/tr&gt;
-&lt;tr style=&quot;height:100%;&quot;&gt;
-&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;	
-				
-					Upload new firmware file to ZY1000, verify that it is a valid ZY1000 firmware
-					file, and upgrade flash.
-					&lt;p/&gt;
-					Restore factory settings restores all factory settings except the TCP/IP settings.
-					&lt;p/&gt;
-					The current version of the firmware is visible at the top of the web page.
-					&lt;p/&gt;
-					ZY1000 firmware can also be upgraded using serial port YModem upload.
-					&lt;p/&gt;
-					Check for new firmware at &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>&quot;&gt;<A HREF="http://www.zylin.com/zy1000.html&lt;a">http://www.zylin.com/zy1000.html&lt;a</A>&gt; 
-				  
-			&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
-							 			&nbsp;
-							 		&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;tr&gt;
-&lt;td/&gt;
-&lt;td&gt;
-&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/table&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-		
-
-		
-
-
-		
-
-
-
-		
-
-		
-
-
-		
-
-
-		
-	
-	
-}
-
-start_chunked &quot;html&quot;
-write_chunked $buffer
-end_chunked
-
+# converted to .tcl by html2tcl.tcl
+set buffer &quot;&quot;
+append buffer {
+	
+	
+
+		
+		
+		
+		
+
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+
+		
+
+
+
+
+		
+
+
+
+		
+
+
+		
+
+
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+		
+		
+		
+		
+		
+
+		&lt;html xmlns=&quot;<A HREF="http://www.w3.org/TR/REC-html40">http://www.w3.org/TR/REC-html40</A>&quot;&gt;
+&lt;head&gt;
+&lt;title&gt;Zylin ZY1000 JTAG debugger&lt;/title&gt;
+&lt;meta charset=&quot;utf-8&quot; content=&quot;text/html&quot; http-equiv=&quot;Content-Type&quot;/&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;menuweb.css&quot;/&gt;
+&lt;/head&gt;
+}
+
+				set console &quot;&quot;
+				set upload_filename /ram/upload
+			
+append buffer {
+&lt;body style=&quot;margin:0px;&quot;&gt;
+&lt;div style=&quot;width:974px;height:85px;&quot;&gt;
+&lt;div style=&quot;float:left;position:relative;left:32px;width:478px;&quot;&gt;
+&lt;a href=&quot;/&quot;&gt;
+&lt;img src=&quot;menu_cuts/logo_top.png&quot; style=&quot;border:0px;&quot;/&gt;
+&lt;/a&gt;
+&lt;/div&gt;
+&lt;div style=&quot;float:left;position:relative;height:26px; width:278px;left:122px;background-image:url('menu_cuts/top_right.png');&quot;&gt;
+&lt;div style=&quot;position:relative;left:15px;top:4px;&quot; class=&quot;textlight&quot;&gt;
+}
+append buffer [capture version]
+append buffer {
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;/div&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:33px;&quot;&gt;
+&lt;div style=&quot;width:20px;height:510px;&quot;&gt;
+								&nbsp;
+							&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;height:100%;width:140px;padding:0px;&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;width:140px;&quot;&gt;
+&lt;tr style=&quot;height:59px;&quot;&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;zy1000.tcl&quot; style=&quot;&quot;&gt;Set IP Address&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;upgrade.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;ZY1000 Firmware&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;editfile.tcl&quot; style=&quot;&quot;&gt;Edit File&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;support.tcl&quot; style=&quot;&quot;&gt;Support Request&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:38px;background-image:url('menu_cuts/v_tab.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;left:10px;top:10px;font-weight:bold;&quot;&gt;
+&lt;a href=&quot;log.tcl#tail&quot; style=&quot;&quot;&gt;View Tail of Log&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:35px;background-image:url('menu_cuts/v_1.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;background-image:url('menu_cuts/v_2_tile.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:140px;height:140px;background-image:url('menu_cuts/v_3.png')&quot;/&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;vertical-align:top;padding:0px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/index.tcl&quot;&gt;Config Target&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/flashinfo.tcl&quot;&gt;Flash&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/browsemem.tcl&quot;&gt;Memory&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/openocd.tcl&quot;&gt;OpenOCD&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab1_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;font-weight:bold;text-align:center;width:100px;&quot;&gt;
+&lt;a href=&quot;/ram/cgi/zy1000.tcl&quot; style=&quot;font-weight: bold;&quot;&gt;Setup ZY1000&lt;/a&gt;
+&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;width:535px;background-image:url('menu_cuts/center_top.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#ffffff;text-indent:30px;height:40px;&quot; colspan=&quot;6&quot;&gt;
+&lt;H1&gt;Upgrade ZY1000 Firmware&lt;/H1&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;background-color:#ffffff;padding-left:30px;padding-right:30px;width=535px;height:100%;&quot; colspan=&quot;6&quot;&gt;
+			
+			}
+
+				set form_action [formfetch form_action];
+				set form_filecontent [formfetch form_filecontent];
+				
+				append buffer {&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;upgrade.tcl&quot; method=&quot;post&quot;&gt;}
+				if {[string compare $form_action &quot;Upload&quot;]==0} {
+					
+					if [string match ZylinPhiFirmware* $form_filecontent]==1 {
+						set form_filename /config/firmware.phi 
+						puts &quot;Writing firmware to $form_filename&quot;
+						set fp [aio.open $form_filename w];
+						$fp puts -nonewline $form_filecontent
+						$fp close
+						puts &quot;Done writing firmware to $form_filename&quot;
+						append buffer &quot;&lt;br&gt;&lt;div style='font-size:14px;'&gt;Upgraded Zylin JTAG, rebooting (wait ca. 30 seconds)...&lt;/div&gt;&lt;br&gt;&quot;
+						reboot
+					} else {
+						append buffer &quot;&lt;br&gt;Not a valid Zylin JTAG firmware file.&lt;br&gt;&quot;
+					}
+				} elseif {[string compare $form_action &quot;Restore factory settings&quot;]==0} {
+					proc rmdir { dir } {
+						set entries {}
+						catch {set entries [ls $dir]} err
+						foreach { entry } $entries {
+							rmdir $dir/$entry
+							rm $dir/$entry
+						}
+					}				
+					rmdir /config/settings
+					reboot
+					append buffer &quot;Restoring factory settings (wait ca. 30 seconds)...&lt;br&gt;&quot;
+				} else {
+					append buffer {&lt;div style=&quot;font-size:14px;&quot;&gt;Upgrade Zylin JTAG firmware + reboot. &lt;/div&gt;&lt;p&gt;}
+					append buffer {&lt;input type=&quot;file&quot; name=&quot;form_filecontent&quot;&gt; &lt;br&gt;}
+					append buffer {&lt;table&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:1px;width:535px;background-color:#a2c5d1;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;height:15px;width:535px;&quot;&gt;&amp;nbsp&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;}
+					append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Upload&quot; &gt;&lt;br&gt; }
+					append buffer {&lt;input type=&quot;submit&quot; name=&quot;form_action&quot; value=&quot;Restore factory settings&quot; &gt;&lt;br&gt; }
+					append buffer {&lt;/form&gt; }
+				}
+			
+append buffer {
+			
+			&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+							 		
+								 	set toggle_details [formfetch toggle_details]
+								 	if {[string length $toggle_details]==0} {
+								 		set toggle_details 0
+								 	}
+								 	set show_details [load_var show_details]
+								 	if {[string length $show_details]==0} {
+								 		set show_details 0
+								 	}
+								 	if {$toggle_details==1} {
+								 		set show_details [expr 1-$show_details]
+								 		save_var show_details $show_details
+								 	}
+								 	
+							 		if {[string length $console]!=0} {
+							 			
+append buffer {
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:red;&quot; colspan=&quot;6&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;background-color:#ffffff;width:100%&quot; class=&quot;textgray&quot;&gt;
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+}
+
+												 		if {$show_details==1} {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-color:#dddddd;padding-left:5px;padding-right:5px;padding-top:3px;padding-bottom:3px;&quot;}
+												 			append buffer &gt;
+												 		} else {
+												 			append buffer &lt;
+												 			append buffer {td style=&quot;background-image:url('menu_cuts/h_tab_free.png');width:110px;height:29px;background-repeat: no-repeat;background-position:top left;&quot;}
+												 			append buffer &gt;
+												 		}
+												 	
+append buffer {
+&lt;a class=&quot;openocd&quot; href=&quot;/ram/cgi/upgrade.tcl?toggle_details=1&quot;&gt;
+}
+
+															if {$show_details==1} {
+																append buffer &quot;Hide details&quot;
+													 			append buffer &lt;br/&gt;
+															} else {
+																append buffer {&lt;div style=&quot;position:relative;top:7px;text-align:center;&quot;&gt;}
+																append buffer &quot;Show details&quot;
+																append buffer {&lt;/div&gt;}
+															}
+															
+append buffer {
+&lt;/a&gt;
+}
+
+													 		if {$show_details==1} {
+													 			append buffer $console
+													 		}
+													 	
+append buffer {&lt;/td&gt;}
+
+													 	if {$show_details!=1} {
+													 		append buffer {&lt;td&gt;&nbsp;&lt;/td&gt;}
+													 	}
+													 
+append buffer {
+&lt;td style=&quot;width:25px;&quot;&gt;&nbsp;&lt;/td&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+}
+
+									 }
+								
+append buffer {
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/center_bottom.png');background-repeat: no-repeat;background-position:top right;&quot; colspan=&quot;6&quot;&gt;
+&lt;div style=&quot;width:500px;background-color:#ffffff;height:100%;&quot;&gt;
+								 			&nbsp;
+							 			&lt;/div&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;td style=&quot;width:6px;&quot;/&gt;
+&lt;td style=&quot;width:245px;height:100%&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;height:100%;&quot;&gt;
+&lt;tr&gt;
+&lt;td style=&quot;width:103px;height:29px;background-image:url('menu_cuts/h_tab2_selected.png');background-repeat: no-repeat;&quot;&gt;
+&lt;div style=&quot;position:relative;top:7px;;font-weight:bold;text-align:center;width:100px;&quot; class=&quot;textgray&quot;&gt;
+										    Documentation
+										 &lt;/div&gt;
+&lt;/td&gt;
+&lt;td width=&quot;40px&quot;&gt;
+								 		&nbsp;
+								 	&lt;/td&gt;
+&lt;td/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:10px;width:245px;background-image:url('menu_cuts/right_top_small.png');&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:245px;padding-left:10px;padding-buttom:10px;line-height:17px;&quot; colspan=&quot;3&quot;&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf">http://www.zylin.com/zy1000/ZY1000_Quick_Start_Guide.pdf</A>&quot;&gt;Quick Start Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000/openocd.pdf">http://www.zylin.com/zy1000/openocd.pdf</A>&quot;&gt;OpenOCD Manual&lt;/a&gt;
+&lt;br/&gt;
+&lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000_contact.html">http://www.zylin.com/zy1000_contact.html</A>&quot;&gt;Contact Zylin AS&lt;/a&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td colspan=&quot;3&quot;&gt;
+&lt;table style=&quot;padding:0px;border-collapse:collapse;&quot;&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;td style=&quot;background-color:#999999;width:225px; height:1px;&quot;/&gt;
+&lt;td style=&quot;background-color:#d8d7d7;width:10px;height:1px&quot;/&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;background-color:#d8d7d7;height:15px;&quot; colspan=&quot;3&quot;/&gt;
+&lt;/tr&gt;
+&lt;tr style=&quot;height:100%;&quot;&gt;
+&lt;td style=&quot;height:100%;background-color:#d8d7d7;padding-left:10px;padding-right:10px;&quot; colspan=&quot;3&quot; class=&quot;textgray&quot;&gt;	
+				
+					Upload new firmware file to ZY1000, verify that it is a valid ZY1000 firmware
+					file, and upgrade flash.
+					&lt;p/&gt;
+					Restore factory settings restores all factory settings except the TCP/IP settings.
+					&lt;p/&gt;
+					The current version of the firmware is visible at the top of the web page.
+					&lt;p/&gt;
+					ZY1000 firmware can also be upgraded using serial port YModem upload.
+					&lt;p/&gt;
+					Check for new firmware at &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>&quot;&gt;<A HREF="http://www.zylin.com/zy1000.html&lt;a">http://www.zylin.com/zy1000.html&lt;a</A>&gt; 
+				  
+			&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td style=&quot;height:30px;background-image:url('menu_cuts/right_bottom.png');&quot; colspan=&quot;3&quot;&gt;
+							 			&nbsp;
+							 		&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;tr&gt;
+&lt;td/&gt;
+&lt;td&gt;
+&lt;img border=&quot;0&quot; src=&quot;menu_cuts/logo_bottom.png&quot;/&gt;
+&lt;/td&gt;
+&lt;/tr&gt;
+&lt;/table&gt;
+&lt;/body&gt;
+&lt;/html&gt;
+		
+
+		
+
+
+		
+
+
+
+		
+
+		
+
+
+		
+
+
+		
+	
+	
+}
+
+start_chunked &quot;html&quot;
+write_chunked $buffer
+end_chunked
+


Property changes on: trunk/src/server/httpd/upgrade.tcl
___________________________________________________________________
Name: svn:eol-style
   + native


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000053.html">[Openocd-svn] r1272 - in trunk/src/server: . httpd
</A></li>
	<LI>Next message: <A HREF="000055.html">[Openocd-svn] r1274 - trunk/src/target/target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54">[ date ]</a>
              <a href="thread.html#54">[ thread ]</a>
              <a href="subject.html#54">[ subject ]</a>
              <a href="author.html#54">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

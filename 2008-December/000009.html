<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-svn] r1227 - in trunk: doc src/jtag
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1227%20-%20in%20trunk%3A%20doc%20src/jtag&In-Reply-To=%3C200812112322.mBBNMGx2010586%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000008.html">
   <LINK REL="Next"  HREF="000010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-svn] r1227 - in trunk: doc src/jtag</H1>
    <B>ntfreak at BerliOS</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1227%20-%20in%20trunk%3A%20doc%20src/jtag&In-Reply-To=%3C200812112322.mBBNMGx2010586%40sheep.berlios.de%3E"
       TITLE="[Openocd-svn] r1227 - in trunk: doc src/jtag">ntfreak at mail.berlios.de
       </A><BR>
    <I>Fri Dec 12 00:22:16 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000008.html">[Openocd-svn] r1226 - trunk/src/jtag
</A></li>
        <LI>Next message: <A HREF="000010.html">[Openocd-svn] r1228 - trunk/doc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: ntfreak
Date: 2008-12-12 00:22:16 +0100 (Fri, 12 Dec 2008)
New Revision: 1227

Modified:
   trunk/doc/openocd.texi
   trunk/src/jtag/ft2232.c
Log:
- added Axiom AXM-0432 to texi
- updated missing jtag dongle url's in texi
- reformat and remove whitespace from last commit

Modified: trunk/doc/openocd.texi
===================================================================
--- trunk/doc/openocd.texi	2008-12-11 19:03:17 UTC (rev 1226)
+++ trunk/doc/openocd.texi	2008-12-11 23:22:16 UTC (rev 1227)
@@ -286,7 +286,7 @@
 
 @itemize @bullet
 @item @b{usbjtag}
-@* Link Unknown [not easily verified]
+@* Link @url{www.ixo.de/info/usb_jtag}
 @item @b{jtagkey}
 @* See: @url{<A HREF="http://www.amontec.com/jtagkey.shtml">http://www.amontec.com/jtagkey.shtml</A>}
 @item @b{oocdlink}
@@ -304,7 +304,9 @@
 @item @b{comstick}
 @* Link: @url{<A HREF="http://www.hitex.com/index.php?id=383">http://www.hitex.com/index.php?id=383</A>}
 @item @b{stm32stick}
-@* Link Unknown [not easily verified]
+@* Link @url{<A HREF="http://www.hitex.com/stm32-stick">http://www.hitex.com/stm32-stick</A>}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at item</A> @b{axm0432_jtag}
+@* Axiom AXM-0432 Link @url{<A HREF="http://www.axman.com">http://www.axman.com</A>}
 @end itemize
 
 @section USB JLINK based
@@ -370,7 +372,7 @@
 @* Unknown.
 
 @item @b{Lattice}
-@* From Lattice Semiconductor [link unknown]
+@* ispDownload from Lattice Semiconductor @url{<A HREF="http://www.latticesemi.com/lit/docs/devtools/dlcable.pdf">http://www.latticesemi.com/lit/docs/devtools/dlcable.pdf</A>}
 
 @item @b{flashlink}
 @* From ST Microsystems, link:

Modified: trunk/src/jtag/ft2232.c
===================================================================
--- trunk/src/jtag/ft2232.c	2008-12-11 19:03:17 UTC (rev 1226)
+++ trunk/src/jtag/ft2232.c	2008-12-11 23:22:16 UTC (rev 1227)
@@ -114,7 +114,6 @@
 void stm32stick_reset(int trst, int srst);
 void axm0432_jtag_reset(int trst, int srst);
 
-
 /* blink procedures for layouts that support a blinking led */
 void olimex_jtag_blink(void);
 void turtle_jtag_blink(void);
@@ -1049,7 +1048,6 @@
 	LOG_DEBUG(&quot;trst: %i, srst: %i, high_output: 0x%2.2x, high_direction: 0x%2.2x&quot;, trst, srst, high_output, high_direction);
 }
 
-
 void axm0432_jtag_reset(int trst, int srst)
 {
 	if (trst == 1)
@@ -1062,25 +1060,22 @@
 		high_output |= nTRST;
 	}
 
-    if (srst == 1)
-    {
-            high_output &amp;= ~nSRST;
-    }
-    else if (srst == 0)
-    {
-            high_output |= nSRST;
-    }
+	if (srst == 1)
+	{
+		high_output &amp;= ~nSRST;
+	}
+	else if (srst == 0)
+	{
+		high_output |= nSRST;
+	}
 
-    /* command &quot;set data bits low byte&quot; */
-    BUFFER_ADD = 0x82;
-    BUFFER_ADD = high_output;
-    BUFFER_ADD = high_direction;
-    LOG_DEBUG(&quot;trst: %i, srst: %i, high_output: 0x%2.2x, high_direction: 0x%2.2x&quot;, trst, srst, high_output, high_direction);
+	/* command &quot;set data bits low byte&quot; */
+	BUFFER_ADD = 0x82;
+	BUFFER_ADD = high_output;
+	BUFFER_ADD = high_direction;
+	LOG_DEBUG(&quot;trst: %i, srst: %i, high_output: 0x%2.2x, high_direction: 0x%2.2x&quot;, trst, srst, high_output, high_direction);
 }
 
-
-
-
 void flyswatter_reset(int trst, int srst)
 {
 	if (trst == 1)
@@ -1414,15 +1409,13 @@
 	char *openex_string = NULL;
 	u8 latency_timer;
 
-	LOG_DEBUG(&quot;'ft2232' interface using FTD2XX with '%s' layout (%4.4x:%4.4x)&quot;,
-	    ft2232_layout, vid, pid);
+	LOG_DEBUG(&quot;'ft2232' interface using FTD2XX with '%s' layout (%4.4x:%4.4x)&quot;,ft2232_layout, vid, pid);
 
 #if IS_WIN32 == 0
 	/* Add non-standard Vid/Pid to the linux driver */
 	if ((status = FT_SetVIDPID(vid, pid)) != FT_OK)
 	{
-		LOG_WARNING(&quot;couldn't add %4.4x:%4.4x&quot;,
-		    vid, pid);
+		LOG_WARNING(&quot;couldn't add %4.4x:%4.4x&quot;, vid, pid);
 	}
 #endif
 
@@ -1455,8 +1448,7 @@
 		DWORD num_devices;
 		
 		if (more) {
-			LOG_WARNING(&quot;unable to open ftdi device (trying more): %lu&quot;,
-			    status);
+			LOG_WARNING(&quot;unable to open ftdi device (trying more): %lu&quot;, status);
 			*try_more = 1;
 			return ERROR_JTAG_INIT_FAILED;
 		}
@@ -1758,13 +1750,10 @@
 	return ERROR_OK;
 }
 
-
 int axm0432_jtag_init(void)
 {
 	u8 buf[3];
-        u8 buf_read[1];
 	u32 bytes_written;
-        u32 bytes_read;
 	
 	low_output = 0x08;
 	low_direction = 0x2b;
@@ -1781,7 +1770,6 @@
 		return ERROR_JTAG_INIT_FAILED;
 	}
 
-      
 	if (strcmp(layout-&gt;name, &quot;axm0432_jtag&quot;) == 0)
 	{
 		nTRST = 0x08;
@@ -1798,16 +1786,16 @@
 	high_output = 0x0;
 	high_direction = 0x0c;
 
-        if (jtag_reset_config &amp; RESET_TRST_OPEN_DRAIN)
+	if (jtag_reset_config &amp; RESET_TRST_OPEN_DRAIN)
 	{
-                LOG_ERROR(&quot;can't set nTRSTOE to push-pull on the Dicarlo jtag&quot;);
-        }
+		LOG_ERROR(&quot;can't set nTRSTOE to push-pull on the Dicarlo jtag&quot;);
+	}
 	else
 	{
 		high_output |= nTRST;
 	}
 
-        if (jtag_reset_config &amp; RESET_SRST_PUSH_PULL)
+	if (jtag_reset_config &amp; RESET_SRST_PUSH_PULL)
 	{
 		LOG_ERROR(&quot;can't set nSRST to push-pull on the Dicarlo jtag&quot;);
 	}
@@ -1831,9 +1819,6 @@
 	return ERROR_OK;
 }
 
-
-
-
 int jtagkey_init(void)
 {
 	u8 buf[3];
@@ -2048,7 +2033,7 @@
 	}
 	
 	nSRST = 0x40;
-  	
+	
 	high_output = 0x00;
 	high_direction = 0x0C;
 	
@@ -2091,7 +2076,7 @@
 	nTRSTnOE = 0x00; /* no output enable for nTRST */
 	nSRST = 0x02;
 	nSRSTnOE = 0x00; /* no output enable for nSRST */
-  	
+	
 	high_output = 0x03;
 	high_direction = 0x03;
 	
@@ -2134,7 +2119,7 @@
 	nTRSTnOE = 0x00; /* no output enable for nTRST */
 	nSRST = 0x80;
 	nSRSTnOE = 0x00; /* no output enable for nSRST */
-  	
+	
 	high_output = 0x01;
 	high_direction = 0x03;
 	


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000008.html">[Openocd-svn] r1226 - trunk/src/jtag
</A></li>
	<LI>Next message: <A HREF="000010.html">[Openocd-svn] r1228 - trunk/doc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9">[ date ]</a>
              <a href="thread.html#9">[ thread ]</a>
              <a href="subject.html#9">[ subject ]</a>
              <a href="author.html#9">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

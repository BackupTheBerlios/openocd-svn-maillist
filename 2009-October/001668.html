<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-407-gfcf1301
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.2.0-407-gfcf1301&In-Reply-To=%3CE1N0qTe-0007el-CB%40cxgxhf1.ch3.sourceforge.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001667.html">
   <LINK REL="Next"  HREF="001669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-407-gfcf1301</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.2.0-407-gfcf1301&In-Reply-To=%3CE1N0qTe-0007el-CB%40cxgxhf1.ch3.sourceforge.com%3E"
       TITLE="[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-407-gfcf1301">gowinex at users.sourceforge.net
       </A><BR>
    <I>Thu Oct 22 07:44:45 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001667.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-405-g1e5daf5
</A></li>
        <LI>Next message: <A HREF="001669.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-408-g3537c36
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1668">[ date ]</a>
              <a href="thread.html#1668">[ thread ]</a>
              <a href="subject.html#1668">[ subject ]</a>
              <a href="author.html#1668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Main OpenOCD repository&quot;.

The branch, master has been updated
       via  fcf1301e5269fdf734946ccf03177511f2eda851 (commit)
       via  e996452089fd5ffba34094958e87d51c1fcf8619 (commit)
      from  1e5daf5886999a8ff01a4957e17c1466d76e022d (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit fcf1301e5269fdf734946ccf03177511f2eda851
Author: &#195;&#152;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">oyvind.harboe at zylin.com</A>&gt;
Date:   Wed Oct 21 20:19:47 2009 +0200

    mww_phys retired. Replaced by generic mww phys in target.c

diff --git a/doc/openocd.texi b/doc/openocd.texi
index de73bec..e04b83c 100644
--- a/doc/openocd.texi
+++ b/doc/openocd.texi
@@ -5431,23 +5431,6 @@ Display cp15 register @var{regnum};
 else if a @var{value} is provided, that value is written to that register.
 @end deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm720t mdw_phys} addr [count]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm720t mdh_phys} addr [count]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm720t mdb_phys} addr [count]
-Display contents of physical address @var{addr}, as
-32-bit words (@command{mdw_phys}), 16-bit halfwords (@command{mdh_phys}),
-or 8-bit bytes (@command{mdb_phys}).
-If @var{count} is specified, displays that many units.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm720t mww_phys} addr word
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm720t mwh_phys} addr halfword
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm720t mwb_phys} addr byte
-Writes the specified @var{word} (32 bits),
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at var</A>{halfword} (16 bits), or @var{byte} (8-bit) pattern,
-at the specified physical address @var{addr}.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
 @subsection ARM9 specific commands
 @cindex ARM9
 
@@ -5508,23 +5491,6 @@ Else if that value is written using the specified @var{address},
 or using zero if no other address is not provided.
 @end deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm920t mdw_phys} addr [count]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm920t mdh_phys} addr [count]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm920t mdb_phys} addr [count]
-Display contents of physical address @var{addr}, as
-32-bit words (@command{mdw_phys}), 16-bit halfwords (@command{mdh_phys}),
-or 8-bit bytes (@command{mdb_phys}).
-If @var{count} is specified, displays that many units.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm920t mww_phys} addr word
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm920t mwh_phys} addr halfword
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm920t mwb_phys} addr byte
-Writes the specified @var{word} (32 bits),
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at var</A>{halfword} (16 bits), or @var{byte} (8-bit) pattern,
-at the specified physical address @var{addr}.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
 @deffn Command {arm920t read_cache} filename
 Dump the content of ICache and DCache to a file named @file{filename}.
 @end deffn
@@ -5556,23 +5522,6 @@ If a @var{value} is provided, that value is written to that register.
 Else that register is read and displayed.
 @end deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm926ejs mdw_phys} addr [count]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm926ejs mdh_phys} addr [count]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm926ejs mdb_phys} addr [count]
-Display contents of physical address @var{addr}, as
-32-bit words (@command{mdw_phys}), 16-bit halfwords (@command{mdh_phys}),
-or 8-bit bytes (@command{mdb_phys}).
-If @var{count} is specified, displays that many units.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm926ejs mww_phys} addr word
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm926ejs mwh_phys} addr halfword
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffnx</A> Command {arm926ejs mwb_phys} addr byte
-Writes the specified @var{word} (32 bits),
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at var</A>{halfword} (16 bits), or @var{byte} (8-bit) pattern,
-at the specified physical address @var{addr}.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
 @subsection ARM966E specific commands
 @cindex ARM966E
 
diff --git a/tcl/board/atmel_at91sam9260-ek.cfg b/tcl/board/atmel_at91sam9260-ek.cfg
index 099d93d..06a54e2 100644
--- a/tcl/board/atmel_at91sam9260-ek.cfg
+++ b/tcl/board/atmel_at91sam9260-ek.cfg
@@ -24,7 +24,7 @@ $_TARGETNAME configure -event reset-start {
         jtag_rclk 5
         halt
         # RSTC_MR : enable user reset, MMU may be enabled... use physical address
-        arm926ejs mww_phys 0xfffffd08 0xa5000501
+        arm926ejs mww phys 0xfffffd08 0xa5000501
 }
 
 $_TARGETNAME configure -event reset-init {
diff --git a/tcl/board/mini2440.cfg b/tcl/board/mini2440.cfg
index 277f61f..2981950 100644
--- a/tcl/board/mini2440.cfg
+++ b/tcl/board/mini2440.cfg
@@ -177,10 +177,10 @@ proc init_2440 { } {
     # usb clock are off 12mHz xtal
     #-----------------------------------------------
 
-    arm920t mww_phys 0x4C000014 0x00000005 #  Clock Divider control Reg
-    arm920t mww_phys 0x4C000000 0xFFFFFFFF #  LOCKTIME count register
-    arm920t mww_phys 0x4C000008 0x00038022 #  UPPLCON  USB clock config Reg
-    arm920t mww_phys 0x4C000004 0x0007F021 #  MPPLCON  Proc clock config Reg
+    arm920t mww phys 0x4C000014 0x00000005 #  Clock Divider control Reg
+    arm920t mww phys 0x4C000000 0xFFFFFFFF #  LOCKTIME count register
+    arm920t mww phys 0x4C000008 0x00038022 #  UPPLCON  USB clock config Reg
+    arm920t mww phys 0x4C000004 0x0007F021 #  MPPLCON  Proc clock config Reg
 
     #-----------------------------------------------
     # Configure Memory controller
@@ -188,45 +188,45 @@ proc init_2440 { } {
     # DRAM - 64MB - 32 bit bus, uses BANKCON6 BANKCON7
     #-----------------------------------------------
 
-    arm920t mww_phys 0x48000000 0x22111112 #  BWSCON - Bank and Bus Width
-    arm920t mww_phys 0x48000010 0x00001112 #  BANKCON4 - ?
-    arm920t mww_phys 0x4800001c 0x00018009 #  BANKCON6 - DRAM
-    arm920t mww_phys 0x48000020 0x00018009 #  BANKCON7 - DRAM
-    arm920t mww_phys 0x48000024 0x008E04EB #  REFRESH  - DRAM
-    arm920t mww_phys 0x48000028 0x000000B2 #  BANKSIZE - DRAM
-    arm920t mww_phys 0x4800002C 0x00000030 #  MRSRB6 - DRAM
-    arm920t mww_phys 0x48000030 0x00000030 #  MRSRB7 - DRAM
+    arm920t mww phys 0x48000000 0x22111112 #  BWSCON - Bank and Bus Width
+    arm920t mww phys 0x48000010 0x00001112 #  BANKCON4 - ?
+    arm920t mww phys 0x4800001c 0x00018009 #  BANKCON6 - DRAM
+    arm920t mww phys 0x48000020 0x00018009 #  BANKCON7 - DRAM
+    arm920t mww phys 0x48000024 0x008E04EB #  REFRESH  - DRAM
+    arm920t mww phys 0x48000028 0x000000B2 #  BANKSIZE - DRAM
+    arm920t mww phys 0x4800002C 0x00000030 #  MRSRB6 - DRAM
+    arm920t mww phys 0x48000030 0x00000030 #  MRSRB7 - DRAM
 
     #-----------------------------------------------
     # Now port configuration for enables for memory
     # and other stuff.
     #-----------------------------------------------
 
-    arm920t mww_phys 0x56000000	0x007FFFFF #  GPACON
+    arm920t mww phys 0x56000000	0x007FFFFF #  GPACON
 
-    arm920t mww_phys 0x56000010	0x00295559 #  GPBCON
-    arm920t mww_phys 0x56000018	0x000003FF #  GPBUP (PULLUP ENABLE)
-    arm920t mww_phys 0x56000014	0x000007C2 #  GPBDAT
+    arm920t mww phys 0x56000010	0x00295559 #  GPBCON
+    arm920t mww phys 0x56000018	0x000003FF #  GPBUP (PULLUP ENABLE)
+    arm920t mww phys 0x56000014	0x000007C2 #  GPBDAT
 
-    arm920t mww_phys 0x56000020	0xAAAAA6AA #  GPCCON
-    arm920t mww_phys 0x56000028	0x0000FFFF #  GPCUP
-    arm920t mww_phys 0x56000024	0x00000020 #  GPCDAT
+    arm920t mww phys 0x56000020	0xAAAAA6AA #  GPCCON
+    arm920t mww phys 0x56000028	0x0000FFFF #  GPCUP
+    arm920t mww phys 0x56000024	0x00000020 #  GPCDAT
 
-    arm920t mww_phys 0x56000030	0xAAAAAAAA #  GPDCON
-    arm920t mww_phys 0x56000038	0x0000FFFF #  GPDUP
+    arm920t mww phys 0x56000030	0xAAAAAAAA #  GPDCON
+    arm920t mww phys 0x56000038	0x0000FFFF #  GPDUP
 
-    arm920t mww_phys 0x56000040	0xAAAAAAAA #  GPECON
-    arm920t mww_phys 0x56000048	0x0000FFFF #  GPEUP
+    arm920t mww phys 0x56000040	0xAAAAAAAA #  GPECON
+    arm920t mww phys 0x56000048	0x0000FFFF #  GPEUP
 
-    arm920t mww_phys 0x56000050	0x00001555 #  GPFCON
-    arm920t mww_phys 0x56000058	0x0000007F #  GPFUP
-    arm920t mww_phys 0x56000054	0x00000000 #  GPFDAT
+    arm920t mww phys 0x56000050	0x00001555 #  GPFCON
+    arm920t mww phys 0x56000058	0x0000007F #  GPFUP
+    arm920t mww phys 0x56000054	0x00000000 #  GPFDAT
 
-    arm920t mww_phys 0x56000060	0x00150114 #  GPGCON
-    arm920t mww_phys 0x56000068	0x0000007F #  GPGUP
+    arm920t mww phys 0x56000060	0x00150114 #  GPGCON
+    arm920t mww phys 0x56000068	0x0000007F #  GPGUP
 
-    arm920t mww_phys 0x56000070	0x0015AAAA #  GPHCON
-    arm920t mww_phys 0x56000078	0x000003FF #  GPGUP
+    arm920t mww phys 0x56000070	0x0015AAAA #  GPHCON
+    arm920t mww phys 0x56000078	0x000003FF #  GPGUP
 
 }
 
diff --git a/tcl/board/olimex_sam9_l9260.cfg b/tcl/board/olimex_sam9_l9260.cfg
index b5cd10e..935d7cd 100644
--- a/tcl/board/olimex_sam9_l9260.cfg
+++ b/tcl/board/olimex_sam9_l9260.cfg
@@ -26,7 +26,7 @@ $_TARGETNAME configure -event reset-start {
 	
 	# RSTC_MR : enable user reset, reset length is 64 slow clock cycles.  MMU may 
 	# be enabled... use physical address.
-	arm926ejs mww_phys 0xfffffd08 0xa5000501
+	arm926ejs mww phys 0xfffffd08 0xa5000501
 }
 
 $_TARGETNAME configure -event reset-init {
diff --git a/tcl/board/unknown_at91sam9260.cfg b/tcl/board/unknown_at91sam9260.cfg
index 017f793..7286a96 100644
--- a/tcl/board/unknown_at91sam9260.cfg
+++ b/tcl/board/unknown_at91sam9260.cfg
@@ -18,7 +18,7 @@ $_TARGETNAME configure -event reset-start {
         jtag_rclk 3
         halt
 	# RSTC_MR : enable user reset, MMU may be enabled... use physical address
-        arm926ejs mww_phys 0xfffffd08 0xa5000501
+        arm926ejs mww phys 0xfffffd08 0xa5000501
 }
 
 
diff --git a/tcl/target/davinci.cfg b/tcl/target/davinci.cfg
index e1eb48f..c14c98e 100644
--- a/tcl/target/davinci.cfg
+++ b/tcl/target/davinci.cfg
@@ -204,34 +204,34 @@ proc davinci_wdog_reset {} {
 	#
 
 	# EMUMGT_CLKSPEED: write FREE bit to run despite emulation halt
-	arm926ejs mww_phys [expr $timer2_phys + 0x28] 0x00004000
+	arm926ejs mww phys [expr $timer2_phys + 0x28] 0x00004000
 
 	#
 	# Part II -- in case watchdog hasn't been set up
 	#
 
 	# TCR: disable, force internal clock source
-	arm926ejs mww_phys [expr $timer2_phys + 0x20] 0
+	arm926ejs mww phys [expr $timer2_phys + 0x20] 0
 
 	# TGCR: reset, force to 64-bit wdog mode, un-reset (&quot;initial&quot; state)
-	arm926ejs mww_phys [expr $timer2_phys + 0x24] 0
-	arm926ejs mww_phys [expr $timer2_phys + 0x24] 0x110b
+	arm926ejs mww phys [expr $timer2_phys + 0x24] 0
+	arm926ejs mww phys [expr $timer2_phys + 0x24] 0x110b
 
 	# clear counter (TIM12, TIM34) and period (PRD12, PRD34) registers
 	# so watchdog triggers ASAP
-	arm926ejs mww_phys [expr $timer2_phys + 0x10] 0
-	arm926ejs mww_phys [expr $timer2_phys + 0x14] 0
-	arm926ejs mww_phys [expr $timer2_phys + 0x18] 0
-	arm926ejs mww_phys [expr $timer2_phys + 0x1c] 0
+	arm926ejs mww phys [expr $timer2_phys + 0x10] 0
+	arm926ejs mww phys [expr $timer2_phys + 0x14] 0
+	arm926ejs mww phys [expr $timer2_phys + 0x18] 0
+	arm926ejs mww phys [expr $timer2_phys + 0x1c] 0
 
 	# WDTCR: put into pre-active state, then active
-	arm926ejs mww_phys [expr $timer2_phys + 0x28] 0xa5c64000
-	arm926ejs mww_phys [expr $timer2_phys + 0x28] 0xda7e4000
+	arm926ejs mww phys [expr $timer2_phys + 0x28] 0xa5c64000
+	arm926ejs mww phys [expr $timer2_phys + 0x28] 0xda7e4000
 
 	#
 	# Part III -- it's ready to rumble
 	#
 
 	# WDTCR: write invalid WDKEY to trigger reset
-	arm926ejs mww_phys [expr $timer2_phys + 0x28] 0x00004000
+	arm926ejs mww phys [expr $timer2_phys + 0x28] 0x00004000
 }

commit e996452089fd5ffba34094958e87d51c1fcf8619
Author: &#195;&#152;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">oyvind.harboe at zylin.com</A>&gt;
Date:   Wed Oct 21 20:16:31 2009 +0200

    virt2phys is now implemented by target.c globally, retire target specific documentation.

diff --git a/doc/openocd.texi b/doc/openocd.texi
index 4f22832..de73bec 100644
--- a/doc/openocd.texi
+++ b/doc/openocd.texi
@@ -5448,11 +5448,6 @@ Writes the specified @var{word} (32 bits),
 at the specified physical address @var{addr}.
 @end deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm720t virt2phys} va
-Translate a virtual address @var{va} to a physical address
-and display the result.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
 @subsection ARM9 specific commands
 @cindex ARM9
 
@@ -5538,11 +5533,6 @@ Dump the content of ICache and DCache to a file named @file{filename}.
 Dump the content of the ITLB and DTLB to a file named @file{filename}.
 @end deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm920t virt2phys} va
-Translate a virtual address @var{va} to a physical address
-and display the result.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
 @subsection ARM926ej-s specific commands
 @cindex ARM926ej-s
 
@@ -5583,11 +5573,6 @@ Writes the specified @var{word} (32 bits),
 at the specified physical address @var{addr}.
 @end deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at deffn</A> Command {arm926ejs virt2phys} va
-Translate a virtual address @var{va} to a physical address
-and display the result.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> deffn
-
 @subsection ARM966E specific commands
 @cindex ARM966E
 

-----------------------------------------------------------------------

Summary of changes:
 doc/openocd.texi                   |   66 ------------------------------------
 tcl/board/atmel_at91sam9260-ek.cfg |    2 +-
 tcl/board/mini2440.cfg             |   60 ++++++++++++++++----------------
 tcl/board/olimex_sam9_l9260.cfg    |    2 +-
 tcl/board/unknown_at91sam9260.cfg  |    2 +-
 tcl/target/davinci.cfg             |   22 ++++++------
 6 files changed, 44 insertions(+), 110 deletions(-)


hooks/post-receive
-- 
Main OpenOCD repository

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001667.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-405-g1e5daf5
</A></li>
	<LI>Next message: <A HREF="001669.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.2.0-408-g3537c36
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1668">[ date ]</a>
              <a href="thread.html#1668">[ thread ]</a>
              <a href="subject.html#1668">[ subject ]</a>
              <a href="author.html#1668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

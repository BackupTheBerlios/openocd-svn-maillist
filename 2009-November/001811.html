<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-456-g0091e59
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.3.0-456-g0091e59&In-Reply-To=%3CE1NAUOI-0004Wm-Dx%40cj8yhf1.ch3.sourceforge.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001810.html">
   <LINK REL="Next"  HREF="001812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-456-g0091e59</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.3.0-456-g0091e59&In-Reply-To=%3CE1NAUOI-0004Wm-Dx%40cj8yhf1.ch3.sourceforge.com%3E"
       TITLE="[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-456-g0091e59">zwelch at users.sourceforge.net
       </A><BR>
    <I>Tue Nov 17 21:11:05 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001810.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-454-g789d47c
</A></li>
        <LI>Next message: <A HREF="001812.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-459-g181d401
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1811">[ date ]</a>
              <a href="thread.html#1811">[ thread ]</a>
              <a href="subject.html#1811">[ subject ]</a>
              <a href="author.html#1811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Main OpenOCD repository&quot;.

The branch, master has been updated
       via  0091e59d2a18c293fd952a9d707e609afdd6b17f (commit)
       via  94975c96d4f1f614e0877cac32ed5949cd0235f6 (commit)
      from  789d47c18097abb5ee6cc8544e0ba030000fd418 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 0091e59d2a18c293fd952a9d707e609afdd6b17f
Author: Zachary T Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">zw at superlucidity.net</A>&gt;
Date:   Tue Nov 17 06:54:56 2009 -0800

    allow documentation to be configured
    
    Add --disable-doxygen-html and --enable-doxygen-pdf options to the
    configure script, allowing user to change the defaults.  These
    update the proess of munging the Doxygen configuration file to
    use the settings thusly provided.  Add options in README.

diff --git a/Doxyfile.in b/Doxyfile.in
index 077db10..49630f2 100644
--- a/Doxyfile.in
+++ b/Doxyfile.in
@@ -764,7 +764,7 @@ IGNORE_PREFIX          =
 # If the GENERATE_HTML tag is set to YES (the default) Doxygen will
 # generate HTML output.
 
-GENERATE_HTML          = YES
+GENERATE_HTML          = @doxygen_as_html@
 
 # The HTML_OUTPUT tag is used to specify where the HTML docs will be put.
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be
@@ -981,7 +981,7 @@ FORMULA_FONTSIZE       = 10
 # If the GENERATE_LATEX tag is set to YES (the default) Doxygen will
 # generate Latex output.
 
-GENERATE_LATEX         = YES
+GENERATE_LATEX         = @doxygen_as_pdf@
 
 # The LATEX_OUTPUT tag is used to specify where the LaTeX docs will be put.
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be
diff --git a/Makefile.am b/Makefile.am
index be42c28..c067712 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -25,7 +25,9 @@ Doxyfile: $(srcdir)/Doxyfile.in
 	@( \
 	  echo &quot;### @@@ -= DO NOT EDIT THIS FILE =- @@@ ###&quot; &amp;&amp; \
 	  echo &quot;### @@@ Make changes to Doxyfile.in @@@ ###&quot; &amp;&amp; \
-	  sed -e '<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">s, at srcdir</A>\@,$(srcdir),' $&lt; \
+	  sed -e '<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">s, at srcdir</A>\@,$(srcdir),' \
+	    -e '<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">s, at doxygen_as_html</A>\@,$(doxygen_as_html),' \
+	    -e '<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">s, at doxygen_as_pdf</A>\@,$(doxygen_as_pdf),' $&lt; \
 	) &gt; $@
 
 THE_MANUAL = doxygen/latex/refman.pdf
diff --git a/README b/README
index 33258e8..0ba6f76 100644
--- a/README
+++ b/README
@@ -258,6 +258,9 @@ options may be available there:
   --enable-httpd          Enable builtin httpd server - useful for standalone
                           OpenOCD implementations
 
+  --disable-doxygen-html Disable building Doxygen manual as HTML.
+  --enable-doxygen-pdf   Enable building Doxygen manual as PDF.
+
 Miscellaneous Configure Options
 -------------------------------
 
diff --git a/configure.in b/configure.in
index fa2a498..8ba8951 100644
--- a/configure.in
+++ b/configure.in
@@ -277,6 +277,24 @@ AC_ARG_WITH(ftd2xx-lib,
   with_ftd2xx_lib=static
   ])
 
+
+AC_ARG_ENABLE(doxygen-html,
+  AS_HELP_STRING([--disable-doxygen-html],
+    [Disable building Doxygen manual as HTML.]),
+  [doxygen_as_html=$enableval], [doxygen_as_html=yes])
+AC_SUBST(doxygen_as_html)
+AC_MSG_CHECKING([whether to build Doxygen as HTML])
+AC_MSG_RESULT($doxygen_as_html)
+
+AC_ARG_ENABLE(doxygen-pdf,
+  AS_HELP_STRING([--enable-doxygen-pdf],
+    [Enable building Doxygen manual as PDF.]),
+  [doxygen_as_pdf=$enableval], [doxygen_as_pdf=no])
+AC_SUBST(doxygen_as_pdf)
+AC_MSG_CHECKING([whether to build Doxygen as PDF])
+AC_MSG_RESULT($doxygen_as_pdf)
+
+
 AC_ARG_ENABLE(gccwarnings,
   AS_HELP_STRING([--disable-gccwarnings], [Disable compiler warnings]),
   [gcc_warnings=$enableval], [gcc_warnings=yes])

commit 94975c96d4f1f614e0877cac32ed5949cd0235f6
Author: Zachary T Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">zw at superlucidity.net</A>&gt;
Date:   Tue Nov 17 06:04:03 2009 -0800

    update doxygen configuration to produce a PDF
    
    A single PDF file for the developer manual allows accessing a single
    index, browsing, and searching.  It takes significantly more time to
    build this way, but this patch allows others to look at the results.
    
    Migration Tip: If you have previously built the HTML Doxygen
    documentatation, rename your 'doxygen' directory to 'doxygen/html'
    to prevent needlessly rebuilding those files.

diff --git a/Doxyfile.in b/Doxyfile.in
index 038f1e5..077db10 100644
--- a/Doxyfile.in
+++ b/Doxyfile.in
@@ -38,7 +38,7 @@ PROJECT_NUMBER         =
 # If a relative path is entered, it will be relative to the location
 # where doxygen was started. If left blank the current directory will be used.
 
-OUTPUT_DIRECTORY       =
+OUTPUT_DIRECTORY       = doxygen
 
 # If the CREATE_SUBDIRS tag is set to YES, then doxygen will create
 # 4096 sub-directories (in 2 levels) under the output directory of each output
@@ -770,7 +770,7 @@ GENERATE_HTML          = YES
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be
 # put in front of it. If left blank `html' will be used as the default path.
 
-HTML_OUTPUT            = doxygen
+HTML_OUTPUT            = html
 
 # The HTML_FILE_EXTENSION tag can be used to specify the file extension for
 # each generated HTML page (for example: .htm,.php,.asp). If it is left blank
@@ -981,7 +981,7 @@ FORMULA_FONTSIZE       = 10
 # If the GENERATE_LATEX tag is set to YES (the default) Doxygen will
 # generate Latex output.
 
-GENERATE_LATEX         = NO
+GENERATE_LATEX         = YES
 
 # The LATEX_OUTPUT tag is used to specify where the LaTeX docs will be put.
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be
@@ -992,7 +992,7 @@ LATEX_OUTPUT           = latex
 # The LATEX_CMD_NAME tag can be used to specify the LaTeX command name to be
 # invoked. If left blank `latex' will be used as the default command name.
 
-LATEX_CMD_NAME         = latex
+LATEX_CMD_NAME         = pdflatex
 
 # The MAKEINDEX_CMD_NAME tag can be used to specify the command name to
 # generate index for LaTeX. If left blank `makeindex' will be used as the
@@ -1004,7 +1004,7 @@ MAKEINDEX_CMD_NAME     = makeindex
 # LaTeX documents. This may be useful for small projects and may help to
 # save some trees in general.
 
-COMPACT_LATEX          = NO
+COMPACT_LATEX          = YES
 
 # The PAPER_TYPE tag can be used to set the paper type that is used
 # by the printer. Possible values are: a4, a4wide, letter, legal and
@@ -1029,20 +1029,20 @@ LATEX_HEADER           =
 # contain links (just like the HTML output) instead of page references
 # This makes the output suitable for online browsing using a pdf viewer.
 
-PDF_HYPERLINKS         = NO
+PDF_HYPERLINKS         = YES
 
 # If the USE_PDFLATEX tag is set to YES, pdflatex will be used instead of
 # plain latex in the generated Makefile. Set this option to YES to get a
 # higher quality PDF documentation.
 
-USE_PDFLATEX           = NO
+USE_PDFLATEX           = YES
 
 # If the LATEX_BATCHMODE tag is set to YES, doxygen will add the \\batchmode.
 # command to the generated LaTeX files. This will instruct LaTeX to keep
 # running if errors occur, instead of asking the user for help.
 # This option is also used when generating formulas in HTML.
 
-LATEX_BATCHMODE        = NO
+LATEX_BATCHMODE        = YES
 
 # If LATEX_HIDE_INDICES is set to YES then doxygen will not
 # include the index chapters (such as File Index, Compound Index, etc.)
diff --git a/Makefile.am b/Makefile.am
index dc4166d..be42c28 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -28,9 +28,16 @@ Doxyfile: $(srcdir)/Doxyfile.in
 	  sed -e '<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">s, at srcdir</A>\@,$(srcdir),' $&lt; \
 	) &gt; $@
 
+THE_MANUAL = doxygen/latex/refman.pdf
+
 doxygen::
 	$(MAKE) Doxyfile
 	doxygen Doxyfile 2&gt;&amp;1 | perl $(srcdir)/tools/logger.pl &gt; doxygen.log
+	$(MAKE) $(THE_MANUAL)
+
+%.pdf: %.tex
+	-cd $$(dirname $*) &amp;&amp; pdflatex $$(basename $*)
+	-cd $$(dirname $*) &amp;&amp; pdflatex $$(basename $*)
 
 TCL_PATH = tcl
 # command to find paths of script files, relative to TCL_PATH

-----------------------------------------------------------------------

Summary of changes:
 Doxyfile.in  |   18 +++++++++---------
 Makefile.am  |   11 ++++++++++-
 README       |    3 +++
 configure.in |   18 ++++++++++++++++++
 4 files changed, 40 insertions(+), 10 deletions(-)


hooks/post-receive
-- 
Main OpenOCD repository

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001810.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-454-g789d47c
</A></li>
	<LI>Next message: <A HREF="001812.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.3.0-459-g181d401
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1811">[ date ]</a>
              <a href="thread.html#1811">[ thread ]</a>
              <a href="subject.html#1811">[ subject ]</a>
              <a href="author.html#1811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-svn] r1712 - trunk/src/flash
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1712%20-%20trunk/src/flash&In-Reply-To=%3C200905110431.n4B4VgPu030849%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000495.html">
   <LINK REL="Next"  HREF="000497.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-svn] r1712 - trunk/src/flash</H1>
    <B>zwelch at mail.berlios.de</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1712%20-%20trunk/src/flash&In-Reply-To=%3C200905110431.n4B4VgPu030849%40sheep.berlios.de%3E"
       TITLE="[Openocd-svn] r1712 - trunk/src/flash">zwelch at mail.berlios.de
       </A><BR>
    <I>Mon May 11 06:31:42 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000495.html">[Openocd-svn] r1711 - trunk/src/flash
</A></li>
        <LI>Next message: <A HREF="000497.html">[Openocd-svn] r1713 - trunk/src/target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#496">[ date ]</a>
              <a href="thread.html#496">[ thread ]</a>
              <a href="subject.html#496">[ subject ]</a>
              <a href="author.html#496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zwelch
Date: 2009-05-11 06:30:41 +0200 (Mon, 11 May 2009)
New Revision: 1712

Modified:
   trunk/src/flash/aduc702x.c
   trunk/src/flash/at91sam7.c
   trunk/src/flash/avrf.c
   trunk/src/flash/cfi.c
   trunk/src/flash/ecos.c
   trunk/src/flash/flash.c
   trunk/src/flash/lpc2000.c
   trunk/src/flash/lpc288x.c
   trunk/src/flash/lpc3180_nand_controller.c
   trunk/src/flash/mflash.c
   trunk/src/flash/nand.c
   trunk/src/flash/nand_ecc.c
   trunk/src/flash/non_cfi.c
   trunk/src/flash/ocl.c
   trunk/src/flash/orion_nand.c
   trunk/src/flash/pic32mx.c
   trunk/src/flash/s3c2410_nand.c
   trunk/src/flash/s3c2412_nand.c
   trunk/src/flash/s3c2440_nand.c
   trunk/src/flash/s3c2443_nand.c
   trunk/src/flash/s3c24xx_nand.c
   trunk/src/flash/stellaris.c
   trunk/src/flash/stm32x.c
   trunk/src/flash/str7x.c
   trunk/src/flash/str9x.c
   trunk/src/flash/str9xpec.c
   trunk/src/flash/tms470.c
Log:
Audit and eliminate redundant #include directives in src/flash sources.

Modified: trunk/src/flash/aduc702x.c
===================================================================
--- trunk/src/flash/aduc702x.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/aduc702x.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -23,18 +23,11 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;time_support.h&quot;
 #include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;armv4_5.h&quot;
-#include &quot;algorithm.h&quot;
 #include &quot;binarybuffer.h&quot;
+#include &quot;time_support.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 static int aduc702x_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);
 static int aduc702x_register_commands(struct command_context_s *cmd_ctx);

Modified: trunk/src/flash/at91sam7.c
===================================================================
--- trunk/src/flash/at91sam7.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/at91sam7.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -39,19 +39,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;at91sam7.h&quot;
-
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;binarybuffer.h&quot;
-#include &quot;types.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 static int at91sam7_register_commands(struct command_context_s *cmd_ctx);
 static int at91sam7_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);

Modified: trunk/src/flash/avrf.c
===================================================================
--- trunk/src/flash/avrf.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/avrf.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -21,18 +21,10 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;avrf.h&quot;
 #include &quot;avrt.h&quot;
 #include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
-#include &quot;algorithm.h&quot;
-#include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
 
 /* AVR_JTAG_Instructions */
 #define AVR_JTAG_INS_LEN							4

Modified: trunk/src/flash/cfi.c
===================================================================
--- trunk/src/flash/cfi.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/cfi.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -23,22 +23,11 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;cfi.h&quot;
 #include &quot;non_cfi.h&quot;
-
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;armv4_5.h&quot;
-#include &quot;algorithm.h&quot;
 #include &quot;binarybuffer.h&quot;
-#include &quot;types.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 static int cfi_register_commands(struct command_context_s *cmd_ctx);
 static int cfi_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);

Modified: trunk/src/flash/ecos.c
===================================================================
--- trunk/src/flash/ecos.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/ecos.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -21,21 +21,11 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &lt;string.h&gt;
-
-#include &quot;replacements.h&quot;
-
 #include &quot;flash.h&quot;
+#include &quot;embeddedice.h&quot;
+#include &quot;image.h&quot;
 
-#include &quot;target.h&quot;
 
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
-#include &quot;binarybuffer.h&quot;
-#include &quot;../target/embeddedice.h&quot;
-#include &quot;types.h&quot;
-
 static int ecosflash_register_commands(struct command_context_s *cmd_ctx);
 static int ecosflash_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);
 static int ecosflash_erase(struct flash_bank_s *bank, int first, int last);

Modified: trunk/src/flash/flash.c
===================================================================
--- trunk/src/flash/flash.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/flash.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,22 +28,9 @@
 #endif
 
 #include &quot;flash.h&quot;
-#include &quot;command.h&quot;
-#include &quot;target.h&quot;
-#include &quot;time_support.h&quot;
-#include &quot;fileio.h&quot;
 #include &quot;image.h&quot;
-#include &quot;log.h&quot;
-#include &quot;armv4_5.h&quot;
-#include &quot;algorithm.h&quot;
-#include &quot;binarybuffer.h&quot;
-#include &quot;armv7m.h&quot;
+#include &quot;time_support.h&quot;
 
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;errno.h&gt;
 #include &lt;inttypes.h&gt;
 
 /* command handlers */

Modified: trunk/src/flash/lpc2000.c
===================================================================
--- trunk/src/flash/lpc2000.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/lpc2000.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -23,16 +23,9 @@
 #endif
 
 #include &quot;lpc2000.h&quot;
-
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;armv4_5.h&quot;
-#include &quot;algorithm.h&quot;
 #include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
 
 /* flash programming support for Philips LPC2xxx devices
  * currently supported devices:

Modified: trunk/src/flash/lpc288x.c
===================================================================
--- trunk/src/flash/lpc288x.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/lpc288x.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -31,19 +31,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;lpc288x.h&quot;
-
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;binarybuffer.h&quot;
-#include &quot;types.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 #define LOAD_TIMER_ERASE	0
 #define LOAD_TIMER_WRITE	1

Modified: trunk/src/flash/lpc3180_nand_controller.c
===================================================================
--- trunk/src/flash/lpc3180_nand_controller.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/lpc3180_nand_controller.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -22,15 +22,7 @@
 #endif
 
 #include &quot;lpc3180_nand_controller.h&quot;
-
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
 #include &quot;nand.h&quot;
-#include &quot;target.h&quot;
 
 static int lpc3180_nand_device_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct nand_device_s *device);
 static int lpc3180_register_commands(struct command_context_s *cmd_ctx);

Modified: trunk/src/flash/mflash.c
===================================================================
--- trunk/src/flash/mflash.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/mflash.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -21,21 +21,12 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &lt;ctype.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;errno.h&gt;
-#include &lt;inttypes.h&gt;
-
-#include &quot;command.h&quot;
-#include &quot;log.h&quot;
-#include &quot;target.h&quot;
+#include &quot;mflash.h&quot;
 #include &quot;time_support.h&quot;
 #include &quot;fileio.h&quot;
-#include &quot;mflash.h&quot;
+#include &quot;log.h&quot;
 
+
 static int s3c2440_set_gpio_to_output (mflash_gpio_num_t gpio);
 static int s3c2440_set_gpio_output_val (mflash_gpio_num_t gpio, u8 val);
 static int pxa270_set_gpio_to_output (mflash_gpio_num_t gpio);

Modified: trunk/src/flash/nand.c
===================================================================
--- trunk/src/flash/nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -24,21 +24,13 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;inttypes.h&gt;
-
-#include &lt;errno.h&gt;
-
 #include &quot;nand.h&quot;
-#include &quot;flash.h&quot;
 #include &quot;time_support.h&quot;
 #include &quot;fileio.h&quot;
-#include &quot;image.h&quot;
 
+#include &lt;inttypes.h&gt;
+
+
 static int handle_nand_list_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc);
 static int handle_nand_probe_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc);
 static int handle_nand_check_bad_blocks_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc);

Modified: trunk/src/flash/nand_ecc.c
===================================================================
--- trunk/src/flash/nand_ecc.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/nand_ecc.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -41,10 +41,6 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
-#include &lt;inttypes.h&gt;
-
 #include &quot;nand.h&quot;
 
 /*

Modified: trunk/src/flash/non_cfi.c
===================================================================
--- trunk/src/flash/non_cfi.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/non_cfi.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -23,14 +23,10 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &lt;stdlib.h&gt;
-
-#include &quot;log.h&quot;
-
-#include &quot;flash.h&quot;
-#include &quot;cfi.h&quot;
 #include &quot;non_cfi.h&quot;
+#include &quot;cfi.h&quot;
 
+
 #define KB 1024
 #define MB (1024*1024)
 #define ERASE_REGION(num, size) (((size/256)&lt;&lt;16)|(num-1))

Modified: trunk/src/flash/ocl.c
===================================================================
--- trunk/src/flash/ocl.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/ocl.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -21,21 +21,10 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;ocl.h&quot;
-
 #include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
-#include &quot;binarybuffer.h&quot;
-#include &quot;types.h&quot;
 #include &quot;embeddedice.h&quot;
-#include &quot;arm7_9_common.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 static int ocl_register_commands(struct command_context_s *cmd_ctx);
 static int ocl_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);

Modified: trunk/src/flash/orion_nand.c
===================================================================
--- trunk/src/flash/orion_nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/orion_nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -26,17 +26,11 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
 #include &quot;nand.h&quot;
-#include &quot;target.h&quot;
 #include &quot;armv4_5.h&quot;
 #include &quot;binarybuffer.h&quot;
 
+
 typedef struct orion_nand_controller_s
 {
 	struct target_s	*target;

Modified: trunk/src/flash/pic32mx.c
===================================================================
--- trunk/src/flash/pic32mx.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/pic32mx.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -27,18 +27,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;pic32mx.h&quot;
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;mips32.h&quot;
-#include &quot;algorithm.h&quot;
-#include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
 
 static
 struct pic32mx_devs_s {

Modified: trunk/src/flash/s3c2410_nand.c
===================================================================
--- trunk/src/flash/s3c2410_nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/s3c2410_nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,16 +28,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &quot;nand.h&quot;
 #include &quot;s3c24xx_nand.h&quot;
-#include &quot;target.h&quot;
 
+
 static int s3c2410_nand_device_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct nand_device_s *device);
 static int s3c2410_init(struct nand_device_s *device);
 static int s3c2410_read_data(struct nand_device_s *device, void *data);

Modified: trunk/src/flash/s3c2412_nand.c
===================================================================
--- trunk/src/flash/s3c2412_nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/s3c2412_nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,16 +28,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &quot;nand.h&quot;
 #include &quot;s3c24xx_nand.h&quot;
-#include &quot;target.h&quot;
 
+
 static int s3c2412_nand_device_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct nand_device_s *device);
 static int s3c2412_init(struct nand_device_s *device);
 

Modified: trunk/src/flash/s3c2440_nand.c
===================================================================
--- trunk/src/flash/s3c2440_nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/s3c2440_nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,16 +28,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &quot;nand.h&quot;
 #include &quot;s3c24xx_nand.h&quot;
-#include &quot;target.h&quot;
 
+
 static int s3c2440_nand_device_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct nand_device_s *device);
 static int s3c2440_init(struct nand_device_s *device);
 //static int s3c2440_nand_ready(struct nand_device_s *device, int timeout);

Modified: trunk/src/flash/s3c2443_nand.c
===================================================================
--- trunk/src/flash/s3c2443_nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/s3c2443_nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,16 +28,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &quot;nand.h&quot;
 #include &quot;s3c24xx_nand.h&quot;
-#include &quot;target.h&quot;
 
+
 static int s3c2443_nand_device_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct nand_device_s *device);
 static int s3c2443_init(struct nand_device_s *device);
 

Modified: trunk/src/flash/s3c24xx_nand.c
===================================================================
--- trunk/src/flash/s3c24xx_nand.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/s3c24xx_nand.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,16 +28,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-#include &quot;log.h&quot;
-
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-
-#include &quot;nand.h&quot;
 #include &quot;s3c24xx_nand.h&quot;
-#include &quot;target.h&quot;
 
+
 s3c24xx_nand_controller_t *
 s3c24xx_nand_device_command(struct command_context_s *cmd_ctx, char *cmd,
 			    char **args, int argc,

Modified: trunk/src/flash/stellaris.c
===================================================================
--- trunk/src/flash/stellaris.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/stellaris.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -28,20 +28,10 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;stellaris.h&quot;
-#include &quot;cortex_m3.h&quot;
-
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
+#include &quot;armv7m.h&quot;
 #include &quot;binarybuffer.h&quot;
-#include &quot;types.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 #define DID0_VER(did0) ((did0&gt;&gt;28)&amp;0x07)
 static int stellaris_register_commands(struct command_context_s *cmd_ctx);

Modified: trunk/src/flash/stm32x.c
===================================================================
--- trunk/src/flash/stm32x.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/stm32x.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -24,18 +24,10 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;stm32x.h&quot;
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;armv7m.h&quot;
-#include &quot;algorithm.h&quot;
 #include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
 
 static int stm32x_register_commands(struct command_context_s *cmd_ctx);
 static int stm32x_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);

Modified: trunk/src/flash/str7x.c
===================================================================
--- trunk/src/flash/str7x.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/str7x.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -24,19 +24,10 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;str7x.h&quot;
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
 #include &quot;armv4_5.h&quot;
-#include &quot;algorithm.h&quot;
 #include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 str7x_mem_layout_t mem_layout_str7bank0[] = {
 	{0x00000000, 0x02000, 0x01},

Modified: trunk/src/flash/str9x.c
===================================================================
--- trunk/src/flash/str9x.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/str9x.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -27,20 +27,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;str9x.h&quot;
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
-#include &quot;armv4_5.h&quot;
 #include &quot;arm966e.h&quot;
-#include &quot;algorithm.h&quot;
-#include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
 static u32 bank1start = 0x00080000;
 

Modified: trunk/src/flash/str9xpec.c
===================================================================
--- trunk/src/flash/str9xpec.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/str9xpec.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -24,21 +24,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;replacements.h&quot;
-
 #include &quot;str9xpec.h&quot;
-#include &quot;flash.h&quot;
-#include &quot;target.h&quot;
-#include &quot;log.h&quot;
-#include &quot;armv4_5.h&quot;
 #include &quot;arm7_9_common.h&quot;
-#include &quot;jtag.h&quot;
-#include &quot;binarybuffer.h&quot;
 
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
-#include &lt;getopt.h&gt;
 
 static int str9xpec_register_commands(struct command_context_s *cmd_ctx);
 static int str9xpec_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);

Modified: trunk/src/flash/tms470.c
===================================================================
--- trunk/src/flash/tms470.c	2009-05-11 04:28:24 UTC (rev 1711)
+++ trunk/src/flash/tms470.c	2009-05-11 04:30:41 UTC (rev 1712)
@@ -21,11 +21,9 @@
 #include &quot;config.h&quot;
 #endif
 
-#include &quot;log.h&quot;
 #include &quot;tms470.h&quot;
-#include &lt;string.h&gt;
-#include &lt;unistd.h&gt;
 
+
 static int tms470_register_commands(struct command_context_s *cmd_ctx);
 static int tms470_flash_bank_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc, struct flash_bank_s *bank);
 static int tms470_erase(struct flash_bank_s *bank, int first, int last);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000495.html">[Openocd-svn] r1711 - trunk/src/flash
</A></li>
	<LI>Next message: <A HREF="000497.html">[Openocd-svn] r1713 - trunk/src/target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#496">[ date ]</a>
              <a href="thread.html#496">[ thread ]</a>
              <a href="subject.html#496">[ subject ]</a>
              <a href="author.html#496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

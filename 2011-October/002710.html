<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-117-g3828b58
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.5.0-117-g3828b58&In-Reply-To=%3Cmailman.195.1331736158.7625.openocd-svn%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002709.html">
   <LINK REL="Next"  HREF="002711.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-117-g3828b58</H1>
    <B>OpenOCD-Gerrit</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.5.0-117-g3828b58&In-Reply-To=%3Cmailman.195.1331736158.7625.openocd-svn%40lists.berlios.de%3E"
       TITLE="[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-117-g3828b58">openocd-gerrit at users.sourceforge.net
       </A><BR>
    <I>Fri Oct 14 15:02:19 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002709.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-116-g8c3c5e5
</A></li>
        <LI>Next message: <A HREF="002711.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-118-g2d4bdb9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2710">[ date ]</a>
              <a href="thread.html#2710">[ thread ]</a>
              <a href="subject.html#2710">[ subject ]</a>
              <a href="author.html#2710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Main OpenOCD repository&quot;.

The branch, master has been updated
       via  3828b5827d0a701143e4d21be938d7d1acf110a2 (commit)
      from  8c3c5e53e360a76a90c5fdbfa6850928f16f8d43 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 3828b5827d0a701143e4d21be938d7d1acf110a2
Author: Spencer Oliver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">ntfreak at users.sourceforge.net</A>&gt;
Date:   Fri Oct 14 09:40:58 2011 +0100

    arm-jtag-ew: whitespace cleanup
    
    Change-Id: I8861e825f9c84525e0c09c3adaa3fe300640770d
    Signed-off-by: Spencer Oliver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">ntfreak at users.sourceforge.net</A>&gt;
    Reviewed-on: <A HREF="http://openocd.zylin.com/21">http://openocd.zylin.com/21</A>
    Tested-by: Spencer Oliver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">spen at spen-soft.co.uk</A>&gt;
    Reviewed-by: Spencer Oliver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">spen at spen-soft.co.uk</A>&gt;

diff --git a/src/jtag/drivers/arm-jtag-ew.c b/src/jtag/drivers/arm-jtag-ew.c
index 6af3304..b090050 100644
--- a/src/jtag/drivers/arm-jtag-ew.c
+++ b/src/jtag/drivers/arm-jtag-ew.c
@@ -27,7 +27,6 @@
 #include &lt;usb.h&gt;
 #include &quot;usb_common.h&quot;
 
-
 #define USB_VID						0x15ba
 #define USB_PID						0x001e
 
@@ -39,7 +38,6 @@
 #define ARMJTAGEW_IN_BUFFER_SIZE	(4*1024)
 #define ARMJTAGEW_OUT_BUFFER_SIZE	(4*1024)
 
-
 /* USB command request codes. */
 #define CMD_GET_VERSION				0x00
 #define CMD_SELECT_DPIMPL			0x10
@@ -93,8 +91,6 @@ static void armjtagew_debug_buffer(uint8_t *buffer, int length);
 
 static struct armjtagew* armjtagew_handle;
 
-
-
 /***************************************************************************/
 /* External interface implementation */
 
@@ -175,42 +171,40 @@ static int armjtagew_execute_queue(void)
 	return armjtagew_tap_execute();
 }
 
-
 /* Sets speed in kHz. */
 static int armjtagew_speed(int speed)
 {
-    int result;
-    int speed_real;
+	int result;
+	int speed_real;
 
 
-    usb_out_buffer[0] = CMD_SET_TCK_FREQUENCY;
+	usb_out_buffer[0] = CMD_SET_TCK_FREQUENCY;
 	buf_set_u32(usb_out_buffer + 1, 0, 32, speed*1000);
 
-    result = armjtagew_usb_message(armjtagew_handle, 5, 4);
+	result = armjtagew_usb_message(armjtagew_handle, 5, 4);
 
-    if (result &lt; 0)
-    {
-        LOG_ERROR(&quot;ARM-JTAG-EW setting speed failed (%d)&quot;, result);
-        return ERROR_JTAG_DEVICE_ERROR;
-    }
+	if (result &lt; 0)
+	{
+		LOG_ERROR(&quot;ARM-JTAG-EW setting speed failed (%d)&quot;, result);
+		return ERROR_JTAG_DEVICE_ERROR;
+	}
 
 	usb_out_buffer[0] = CMD_GET_TCK_FREQUENCY;
-    result = armjtagew_usb_message(armjtagew_handle, 1, 4);
-	speed_real = (int)buf_get_u32(usb_in_buffer,0,32) / 1000;
+	result = armjtagew_usb_message(armjtagew_handle, 1, 4);
+	speed_real = (int)buf_get_u32(usb_in_buffer, 0, 32) / 1000;
 	if (result &lt; 0)
 	{
-        LOG_ERROR(&quot;ARM-JTAG-EW getting speed failed (%d)&quot;, result);
-        return ERROR_JTAG_DEVICE_ERROR;
+		LOG_ERROR(&quot;ARM-JTAG-EW getting speed failed (%d)&quot;, result);
+		return ERROR_JTAG_DEVICE_ERROR;
 	}
 	else
 	{
 		LOG_INFO(&quot;Requested speed %dkHz, emulator reported %dkHz.&quot;, speed, speed_real);
 	}
 
-    return ERROR_OK;
+	return ERROR_OK;
 }
 
-
 static int armjtagew_khz(int khz, int *jtag_speed)
 {
 	*jtag_speed = khz;
@@ -225,7 +219,6 @@ static int armjtagew_speed_div(int speed, int* khz)
 	return ERROR_OK;
 }
 
-
 static int armjtagew_init(void)
 {
 	int check_cnt;
@@ -256,7 +249,7 @@ static int armjtagew_init(void)
 		LOG_INFO(&quot;ARM-JTAG-EW initial read failed, don't worry&quot;);
 	}
 
-	// Initial JTAG speed (for reset and initialization): 32 kHz
+	/* Initial JTAG speed (for reset and initialization): 32 kHz */
 	armjtagew_speed(32);
 
 	LOG_INFO(&quot;ARM-JTAG-EW JTAG Interface ready&quot;);
@@ -440,7 +433,6 @@ static void armjtagew_reset(int trst, int srst)
 	}
 }
 
-
 static int armjtagew_get_status(void)
 {
 	int result;
@@ -532,7 +524,6 @@ struct jtag_interface armjtagew_interface = {
 	.name = &quot;arm-jtag-ew&quot;,
 	.commands = armjtagew_command_handlers,
 	.transports = jtag_only,
-
 	.execute_queue = armjtagew_execute_queue,
 	.speed = armjtagew_speed,
 	.speed_div = armjtagew_speed_div,
@@ -827,7 +818,6 @@ static int armjtagew_usb_read(struct armjtagew *armjtagew, int exp_in_length)
 	return result;
 }
 
-
 #ifdef _DEBUG_USB_COMMS_
 #define BYTES_PER_LINE  16
 
@@ -853,4 +843,3 @@ static void armjtagew_debug_buffer(uint8_t *buffer, int length)
 	}
 }
 #endif
-

-----------------------------------------------------------------------

Summary of changes:
 src/jtag/drivers/arm-jtag-ew.c |   41 ++++++++++++++-------------------------
 1 files changed, 15 insertions(+), 26 deletions(-)


hooks/post-receive
-- 
Main OpenOCD repository

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002709.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-116-g8c3c5e5
</A></li>
	<LI>Next message: <A HREF="002711.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-118-g2d4bdb9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2710">[ date ]</a>
              <a href="thread.html#2710">[ thread ]</a>
              <a href="subject.html#2710">[ subject ]</a>
              <a href="author.html#2710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

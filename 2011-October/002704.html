<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-111-g2c6d312
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.5.0-111-g2c6d312&In-Reply-To=%3Cmailman.189.1331736158.7625.openocd-svn%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002703.html">
   <LINK REL="Next"  HREF="002705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-111-g2c6d312</H1>
    <B>OpenOCD-Gerrit</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenocd-svn%5D%20Main%20OpenOCD%20repository%20branch%2C%20master%2C%0A%09updated.%20v0.5.0-111-g2c6d312&In-Reply-To=%3Cmailman.189.1331736158.7625.openocd-svn%40lists.berlios.de%3E"
       TITLE="[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-111-g2c6d312">openocd-gerrit at users.sourceforge.net
       </A><BR>
    <I>Wed Oct 12 20:48:49 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002703.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-109-g24f8210
</A></li>
        <LI>Next message: <A HREF="002705.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-112-g5a7cff2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2704">[ date ]</a>
              <a href="thread.html#2704">[ thread ]</a>
              <a href="subject.html#2704">[ subject ]</a>
              <a href="author.html#2704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Main OpenOCD repository&quot;.

The branch, master has been updated
       via  2c6d312ec9e1aec514e80b7c317ed93d72197ba2 (commit)
       via  4e80a9128e69d67d8aed8e5a83995246913bc98a (commit)
      from  24f82100f894351d3359e0d4542ec1daed944354 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 2c6d312ec9e1aec514e80b7c317ed93d72197ba2
Merge: 24f8210 4e80a91
Author: Peter Stuge &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">peter at stuge.se</A>&gt;
Date:   Wed Oct 12 18:48:21 2011 +0000

    Merge &quot;docs: update HACKING to point to Gerrit&quot;


commit 4e80a9128e69d67d8aed8e5a83995246913bc98a
Author: &#195;&#152;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">oyvind.harboe at zylin.com</A>&gt;
Date:   Wed Oct 12 20:21:18 2011 +0200

    docs: update HACKING to point to Gerrit
    
    Change-Id: If79e86c731ac06aaefca1aebde40e7cb3de68e4d
    Signed-off-by: &#195;&#152;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">oyvind.harboe at zylin.com</A>&gt;

diff --git a/HACKING b/HACKING
index 6e4fc4b..42c50f0 100644
--- a/HACKING
+++ b/HACKING
@@ -1,13 +1,22 @@
-Submitting patches to the OpenOCD mailing list:
+Submitting patches to the OpenOCD Gerrit server:
 
-By the time you have read this, one supposes that 
-you have figured out how to clone the OpenOCD git
-repository.
+OpenOCD is to some extent a &quot;self service&quot; open source project, so to
+contribute, you must follow the standard procedures to have the best
+possible chance to get your changes accepted.
+
+The procedure to create a patch is essentially:
+
+- make the changes
+- create a commit
+- send the changes to the Gerrit server for review
+- correct the patch and re-send it according to review feedback
+ 
 
-Below is a basic workflow and specific instructions 
-to get you going with git and patches.
+0. Create a Gerrit account at:
 
-0. Clone the git repository, rather than just
+<A HREF="http://openocd.zylin.com">http://openocd.zylin.com</A>
+
+1. Clone the git repository, rather than just
 download the source. 
 
 git clone <A HREF="git://openocd.git.sourceforge.net/gitroot/openocd/openocd">git://openocd.git.sourceforge.net/gitroot/openocd/openocd</A>
@@ -17,19 +26,32 @@ the slower http protocol:
 
 git clone <A HREF="http://repo.or.cz/r/openocd.git">http://repo.or.cz/r/openocd.git</A>
 
-1. Set up git with your name and email:
+2. Set up Gerrit with your local repository. All this does it
+to instruct git locally how to send off the changes.
+
+Add a new remote to git using Gerrit username:
+
+git remote add review <A HREF="ssh://USERNAME@openocd.zylin.com:29418/openocd.git">ssh://USERNAME@openocd.zylin.com:29418/openocd.git</A>
+git config remote.review.push HEAD:refs/for/master
+
+You will need to install this hook, we will look into a better
+solution:
+
+scp -p -P 29418 <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">USERNAME at openocd.zylin.com</A>:hooks/commit-msg .git/hooks/
+
+3. Set up git with your name and email:
 
 git config --global user.name &quot;John Smith&quot;
 git config --global user.email &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">john at smith.org</A>&quot;
 
-2. Work on your patches. Split the work into 
+4. Work on your patches. Split the work into 
 multiple small patches that can be reviewed and
 applied seperately and safely to the OpenOCD
 repository.
 
 while(!done) {
   work - edit files using your favorite editor.
-  run &quot;git commit -a&quot; to commit all changes. 
+  run &quot;git commit -s -a&quot; to commit all changes. 
 }
 
 TIP! use &quot;git add .&quot; before commit to add new files.
@@ -41,16 +63,21 @@ longer comments over several
 lines...
 -----
 
-3. Next you need to make sure that your patches
+5. Next you need to make sure that your patches
 are on top of the latest stuff on the server and
 that there are no conflicts.
 
-git pull --rebase
+git pull --rebase origin/master
+
+6. Send the patches to the Gerrit server for review.
+
+git push review
+
+7. Forgot something, want to add more? Just make the changes and do:
 
-4. Generate the patch files. This will generate
-patches for all commits that are on top of
-the latest stuff on the server:
+git commit --amend
+git push review
 
-git format-patch origin/master
+Further reading:
 
-5. Email the patches to <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">openocd-development at lists.berlios.de</A>  
+<A HREF="http://www.coreboot.org/Git">http://www.coreboot.org/Git</A>
\ No newline at end of file

-----------------------------------------------------------------------

Summary of changes:
 HACKING |   61 ++++++++++++++++++++++++++++++++++++++++++++-----------------
 1 files changed, 44 insertions(+), 17 deletions(-)


hooks/post-receive
-- 
Main OpenOCD repository

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002703.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-109-g24f8210
</A></li>
	<LI>Next message: <A HREF="002705.html">[openocd-svn] Main OpenOCD repository branch, master,	updated. v0.5.0-112-g5a7cff2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2704">[ date ]</a>
              <a href="thread.html#2704">[ thread ]</a>
              <a href="subject.html#2704">[ subject ]</a>
              <a href="author.html#2704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

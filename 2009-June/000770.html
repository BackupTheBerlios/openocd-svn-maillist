<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-svn] r1986 - trunk/doc
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1986%20-%20trunk/doc&In-Reply-To=%3C200906012309.n51N9TVF001570%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000769.html">
   <LINK REL="Next"  HREF="000771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-svn] r1986 - trunk/doc</H1>
    <B>zwelch at mail.berlios.de</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r1986%20-%20trunk/doc&In-Reply-To=%3C200906012309.n51N9TVF001570%40sheep.berlios.de%3E"
       TITLE="[Openocd-svn] r1986 - trunk/doc">zwelch at mail.berlios.de
       </A><BR>
    <I>Tue Jun  2 01:09:29 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000769.html">[Openocd-svn] r1985 - trunk/tcl/board
</A></li>
        <LI>Next message: <A HREF="000771.html">[Openocd-svn] r1987 - trunk/src/jtag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#770">[ date ]</a>
              <a href="thread.html#770">[ thread ]</a>
              <a href="subject.html#770">[ subject ]</a>
              <a href="author.html#770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zwelch
Date: 2009-06-02 01:09:19 +0200 (Tue, 02 Jun 2009)
New Revision: 1986

Modified:
   trunk/doc/openocd.texi
Log:
David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">david-b at pacbell.net</A>&gt;:

Remove two sections about deprecated/removed commands, documenting
them briefly in the chapter on deprecated/removed commands.  The
&quot;working_area&quot; command just duplicated text; &quot;jtag_device&quot; wasn't
listed in that chapter before.

Also start de-emphasizing those commands.  Don't index them, and
include a disclaimer that their documentation may start to vanish
about a year after the code does (e.g. in January 2010).


Modified: trunk/doc/openocd.texi
===================================================================
--- trunk/doc/openocd.texi	2009-06-01 23:06:17 UTC (rev 1985)
+++ trunk/doc/openocd.texi	2009-06-01 23:09:19 UTC (rev 1986)
@@ -1823,9 +1823,9 @@
 @end itemize
 
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at anchor</A>{jtag newtap}
 @section jtag newtap
 @b{@t{jtag newtap CHIPNAME TAPNAME  configparams ....}}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> jtag_device
 @cindex jtag newtap
 @cindex tap
 @cindex tap order
@@ -1946,25 +1946,7 @@
 @comment END NOTES
 @end itemize
 @comment at command level
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at comment</A> DOCUMENT old command
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at section</A> jtag_device - REMOVED
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at example</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at b</A>{jtag_device} &lt;@var{IR length}&gt; &lt;@var{IR capture}&gt; &lt;@var{IR mask}&gt; &lt;@var{IDCODE instruction}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> example
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> jtag_device
 
-@* @b{Removed: 28/nov/2008} This command has been removed and replaced
-by the ``jtag newtap'' command. The documentation remains here so that
-one can easily convert the old syntax to the new syntax. About the old
-syntax: The old syntax is positional, i.e.: The 3rd parameter is the
-``irmask''. The new syntax requires named prefixes, and supports
-additional options, for example ``-expected-id 0x3f0f0f0f''. Please refer to the
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at b</A>{jtag newtap} command for details.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at example</A>
-OLD: jtag_device 8 0x01 0xe3 0xfe
-NEW: jtag newtap CHIPNAME TAPNAME -irlen 8 -ircapture 0x01 -irmask 0xe3
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> example
-
 @section Enable/Disable Taps
 @b{Note:} These commands are intended to be used as a machine/script
 interface. Humans might find the ``scan_chain'' command more helpful
@@ -2376,15 +2358,6 @@
 configuration command to enable OpenOCD hardware reset functionality.
 @comment END variants
 @end itemize
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at section</A> working_area - Command Removed
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> working_area
-@*@b{Please use the ``$_TARGETNAME configure -work-area-... parameters instead}
-@* This documentation remains because there are existing scripts that
-still use this that need to be converted.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at example</A>
-  working_area target# address  size backup| [virtualaddress]
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> example
-@* The target# is a the 0 based target numerical index.
 
 @node Flash Commands
 @chapter Flash Commands
@@ -4515,42 +4488,54 @@
 @node Upgrading
 @chapter Deprecated/Removed Commands
 @cindex Deprecated/Removed Commands
-Certain OpenOCD commands have been deprecated/removed during the various revisions.
+Certain OpenOCD commands have been deprecated or
+removed during the various revisions.
 
+Upgrade your scripts as soon as possible.
+These descriptions for old commands may be removed
+a year after the command itself was removed.
+This means that in January 2010 this chapter may
+become much shorter.
+
 @itemize @bullet
 @item @b{arm7_9 fast_writes}
 @cindex arm7_9 fast_writes
 @*Use @command{arm7_9 fast_memory_access} instead.
 @xref{arm7_9 fast_memory_access}.
 @item @b{arm7_9 force_hw_bkpts}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> arm7_9 force_hw_bkpts
 @*Use @command{gdb_breakpoint_override} instead. Note that GDB will use hardware breakpoints
 for flash if the GDB memory map has been set up(default when flash is declared in
 target configuration). @xref{gdb_breakpoint_override}.
 @item @b{arm7_9 sw_bkpts}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> arm7_9 sw_bkpts
 @*On by default. @xref{gdb_breakpoint_override}.
 @item @b{daemon_startup}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> daemon_startup
 @*this config option has been removed, simply adding @option{init} and @option{reset halt} to
 the end of your config script will give the same behaviour as using @option{daemon_startup reset}
 and @option{target cortex_m3 little reset_halt 0}.
 @item @b{dump_binary}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> dump_binary
 @*use @option{dump_image} command with same args. @xref{dump_image}.
 @item @b{flash erase}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> flash erase
 @*use @option{flash erase_sector} command with same args. @xref{flash erase_sector}.
 @item @b{flash write}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> flash write
 @*use @option{flash write_bank} command with same args. @xref{flash write_bank}.
 @item @b{flash write_binary}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> flash write_binary
 @*use @option{flash write_bank} command with same args. @xref{flash write_bank}.
 @item @b{flash auto_erase}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> flash auto_erase
 @*use @option{flash write_image} command passing @option{erase} as the first parameter. @xref{flash write_image}.
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at item</A> @b{jtag_device}
+@*use the @command{jtag newtap} command, converting from positional syntax
+to named prefixes, and naming the TAP.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at xref</A>{jtag newtap}.
+Note that if you try to use the old command, a message will tell you the
+right new command to use; and that the fourth parameter in the old syntax
+was never actually used.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at example</A>
+OLD: jtag_device 8 0x01 0xe3 0xfe
+NEW: jtag newtap CHIPNAME TAPNAME \
+           -irlen 8 -ircapture 0x01 -irmask 0xe3
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> example
+
 @item @b{jtag_speed} value
 @*@xref{JTAG Speed}.
 Usually, a value of zero means maximum
@@ -4565,10 +4550,8 @@
 @end itemize
 
 @item @b{load_binary}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> load_binary
 @*use @option{load_image} command with same args. @xref{load_image}.
 @item @b{run_and_halt_time}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> run_and_halt_time
 @*This command has been removed for simpler reset behaviour, it can be simulated with the
 following commands:
 @smallexample
@@ -4577,13 +4560,10 @@
 halt
 @end smallexample
 @item @b{target} &lt;@var{type}&gt; &lt;@var{endian}&gt; &lt;@var{jtag-position}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> target
 @*use the create subcommand of @option{target}.
 @item @b{target_script} &lt;@var{target#}&gt; &lt;@var{eventname}&gt; &lt;@var{scriptname}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> target_script
 @*use &lt;@var{target_name}&gt; configure -event &lt;@var{eventname}&gt; &quot;script &lt;@var{scriptname}&gt;&quot;
 @item @b{working_area}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> working_area
 @*use the @option{configure} subcommand of @option{target} to set the work-area-virt, work-area-phy, work-area-size, and work-area-backup properties of the target.
 @end itemize
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000769.html">[Openocd-svn] r1985 - trunk/tcl/board
</A></li>
	<LI>Next message: <A HREF="000771.html">[Openocd-svn] r1987 - trunk/src/jtag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#770">[ date ]</a>
              <a href="thread.html#770">[ thread ]</a>
              <a href="subject.html#770">[ subject ]</a>
              <a href="author.html#770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

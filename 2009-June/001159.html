<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-svn] r2375 - in trunk: src/flash src/flash/ocl/at91sam7x	src/helper src/jtag src/jtag/zy1000 src/server src/target	src/xsvf testing/examples/cortex
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r2375%20-%20in%20trunk%3A%20src/flash%20src/flash/ocl/at91sam7x%0A%09src/helper%20src/jtag%20src/jtag/zy1000%20src/server%20src/target%0A%09src/xsvf%20testing/examples/cortex&In-Reply-To=%3C200906232246.n5NMkIcV020504%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001158.html">
   <LINK REL="Next"  HREF="001160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-svn] r2375 - in trunk: src/flash src/flash/ocl/at91sam7x	src/helper src/jtag src/jtag/zy1000 src/server src/target	src/xsvf testing/examples/cortex</H1>
    <B>zwelch at mail.berlios.de</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r2375%20-%20in%20trunk%3A%20src/flash%20src/flash/ocl/at91sam7x%0A%09src/helper%20src/jtag%20src/jtag/zy1000%20src/server%20src/target%0A%09src/xsvf%20testing/examples/cortex&In-Reply-To=%3C200906232246.n5NMkIcV020504%40sheep.berlios.de%3E"
       TITLE="[Openocd-svn] r2375 - in trunk: src/flash src/flash/ocl/at91sam7x	src/helper src/jtag src/jtag/zy1000 src/server src/target	src/xsvf testing/examples/cortex">zwelch at mail.berlios.de
       </A><BR>
    <I>Wed Jun 24 00:46:18 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001158.html">[Openocd-svn] r2374 - in trunk/src: . flash flash/ocl/at91sam7x	helper jtag jtag/zy1000 target
</A></li>
        <LI>Next message: <A HREF="001160.html">[Openocd-svn] r2376 - in trunk/src: . flash flash/ocl/at91sam7x	helper jtag jtag/rlink jtag/zy1000 pld server svf target xsvf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1159">[ date ]</a>
              <a href="thread.html#1159">[ thread ]</a>
              <a href="subject.html#1159">[ subject ]</a>
              <a href="author.html#1159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zwelch
Date: 2009-06-24 00:45:47 +0200 (Wed, 24 Jun 2009)
New Revision: 2375

Modified:
   trunk/src/flash/at91sam7.c
   trunk/src/flash/cfi.c
   trunk/src/flash/ecos.c
   trunk/src/flash/flash.c
   trunk/src/flash/flash.h
   trunk/src/flash/ocl.c
   trunk/src/flash/ocl/at91sam7x/main.c
   trunk/src/flash/ocl/at91sam7x/samflash.c
   trunk/src/flash/stellaris.c
   trunk/src/flash/str9x.c
   trunk/src/helper/binarybuffer.h
   trunk/src/helper/command.c
   trunk/src/helper/fileio.c
   trunk/src/helper/jim.c
   trunk/src/helper/log.c
   trunk/src/helper/replacements.h
   trunk/src/jtag/bitq.c
   trunk/src/jtag/ft2232.c
   trunk/src/jtag/gw16012.c
   trunk/src/jtag/parport.c
   trunk/src/jtag/presto.c
   trunk/src/jtag/tcl.c
   trunk/src/jtag/zy1000/jtag_minidriver.h
   trunk/src/jtag/zy1000/zy1000.c
   trunk/src/server/gdb_server.c
   trunk/src/server/httpd.c
   trunk/src/server/telnet_server.c
   trunk/src/target/arm11_dbgtap.c
   trunk/src/target/arm720t.c
   trunk/src/target/arm7_9_common.c
   trunk/src/target/arm920t.c
   trunk/src/target/arm926ejs.c
   trunk/src/target/arm_adi_v5.c
   trunk/src/target/arm_disassembler.c
   trunk/src/target/image.c
   trunk/src/target/mips32_dmaacc.c
   trunk/src/target/target.c
   trunk/src/xsvf/xsvf.c
   trunk/testing/examples/cortex/test.c
Log:
- Fixes '[&lt;&gt;]' whitespace
- Replace ')\([&lt;&gt;]\)(' with ') \1 ('.
- Replace ')\([&lt;&gt;]\)\(\w\)' with ') \1 \2'.
- Replace '\(\w\)\([&lt;&gt;]\)(' with '\1 \2 ('.
- Replace '\(\w\)\([&lt;&gt;]\)\(\w\)' with '\1 \2 \3'.


Modified: trunk/src/flash/at91sam7.c
===================================================================
--- trunk/src/flash/at91sam7.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/at91sam7.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -550,7 +550,7 @@
 	/* calculate bank size  */
 	bank_size = sectors_num * pages_per_sector * page_size;
 
-	for (bnk = 0; bnk&lt;banks_num; bnk++)
+	for (bnk = 0; bnk &lt; banks_num; bnk++)
 	{
 		if (bnk &gt; 0)
 		{
@@ -575,7 +575,7 @@
 
 		/* allocate sectors */
 		t_bank-&gt;sectors = malloc(sectors_num * sizeof(flash_sector_t));
-		for (sec = 0; sec&lt;sectors_num; sec++)
+		for (sec = 0; sec &lt; sectors_num; sec++)
 		{
 			t_bank-&gt;sectors[sec].offset = sec * pages_per_sector * page_size;
 			t_bank-&gt;sectors[sec].size = pages_per_sector * page_size;
@@ -639,7 +639,7 @@
 	at91sam7_set_flash_mode(bank, FMR_TIMING_FLASH);
 
 	fast_check = 1;
-	for (nSector = 0; nSector&lt;bank-&gt;num_sectors; nSector++)
+	for (nSector = 0; nSector &lt; bank-&gt;num_sectors; nSector++)
 	{
 		retval = target_blank_check_memory(target, bank-&gt;base + bank-&gt;sectors[nSector].offset,
 			bank-&gt;sectors[nSector].size, &amp;blank);
@@ -662,7 +662,7 @@
 	LOG_USER(&quot;Running slow fallback erase check - add working memory&quot;);
 
 	buffer = malloc(bank-&gt;sectors[0].size);
-	for (nSector = 0; nSector&lt;bank-&gt;num_sectors; nSector++)
+	for (nSector = 0; nSector &lt; bank-&gt;num_sectors; nSector++)
 	{
 		bank-&gt;sectors[nSector].is_erased = 1;
 		retval = target_read_memory(target, bank-&gt;base + bank-&gt;sectors[nSector].offset, 4,
@@ -670,7 +670,7 @@
 		if (retval != ERROR_OK)
 			return retval;
 
-		for (nByte = 0; nByte&lt;bank-&gt;sectors[nSector].size; nByte++)
+		for (nByte = 0; nByte &lt; bank-&gt;sectors[nSector].size; nByte++)
 		{
 			if (buffer[nByte] != 0xFF)
 			{
@@ -705,7 +705,7 @@
 	at91sam7_info-&gt;lockbits = (status &gt;&gt; 16);
 
 	at91sam7_info-&gt;num_lockbits_on = 0;
-	for (lock_pos = 0; lock_pos&lt;bank-&gt;num_sectors; lock_pos++)
+	for (lock_pos = 0; lock_pos &lt; bank-&gt;num_sectors; lock_pos++)
 	{
 		if ( ((status &gt;&gt; (16 + lock_pos))&amp;(0x0001)) == 1)
 		{
@@ -723,7 +723,7 @@
 	at91sam7_info-&gt;nvmbits = (status &gt;&gt; 8)&amp;0xFF;
 
 	at91sam7_info-&gt;num_nvmbits_on = 0;
-	for (gpnvm_pos = 0; gpnvm_pos&lt;at91sam7_info-&gt;num_nvmbits; gpnvm_pos++)
+	for (gpnvm_pos = 0; gpnvm_pos &lt; at91sam7_info-&gt;num_nvmbits; gpnvm_pos++)
 	{
 		if ( ((status &gt;&gt; (8 + gpnvm_pos))&amp;(0x01)) == 1)
 		{
@@ -809,7 +809,7 @@
 	/* calculate bank size  */
 	bank_size = num_sectors * pages_per_sector * page_size;
 
-	for (bnk = 0; bnk&lt;banks_num; bnk++)
+	for (bnk = 0; bnk &lt; banks_num; bnk++)
 	{
 		if (bnk &gt; 0)
 		{
@@ -834,7 +834,7 @@
 
 		/* allocate sectors */
 		t_bank-&gt;sectors = malloc(num_sectors * sizeof(flash_sector_t));
-		for (sec = 0; sec&lt;num_sectors; sec++)
+		for (sec = 0; sec &lt; num_sectors; sec++)
 		{
 			t_bank-&gt;sectors[sec].offset = sec * pages_per_sector * page_size;
 			t_bank-&gt;sectors[sec].size = pages_per_sector * page_size;
@@ -902,7 +902,7 @@
 		/* allocate and clean buffer  */
 		nbytes = (last - first + 1) * bank-&gt;sectors[first].size;
 		buffer = malloc(nbytes * sizeof(uint8_t));
-		for (pos = 0; pos&lt;nbytes; pos++)
+		for (pos = 0; pos &lt; nbytes; pos++)
 		{
 			buffer[pos] = 0xFF;
 		}
@@ -1016,9 +1016,9 @@
 	at91sam7_read_clock_info(bank);
 	at91sam7_set_flash_mode(bank, FMR_TIMING_FLASH);
 
-	for (pagen = first_page; pagen&lt;last_page; pagen++)
+	for (pagen = first_page; pagen &lt; last_page; pagen++)
 	{
-		if (bytes_remaining&lt;dst_min_alignment)
+		if (bytes_remaining &lt; dst_min_alignment)
 			count = bytes_remaining;
 		else
 			count = dst_min_alignment;

Modified: trunk/src/flash/cfi.c
===================================================================
--- trunk/src/flash/cfi.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/cfi.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -212,7 +212,7 @@
 	if (cfi_info-&gt;x16_as_x8)
 	{
 		uint8_t i;
-		for (i = 0;i&lt;2;i++)
+		for (i = 0;i &lt; 2;i++)
 			target_read_memory(target, flash_address(bank, sector, offset + i), bank-&gt;bus_width, 1,
 				&amp;data[i*bank-&gt;bus_width] );
 	}
@@ -234,7 +234,7 @@
 	if (cfi_info-&gt;x16_as_x8)
 	{
 		uint8_t i;
-		for (i = 0;i&lt;4;i++)
+		for (i = 0;i &lt; 4;i++)
 			target_read_memory(target, flash_address(bank, sector, offset + i), bank-&gt;bus_width, 1,
 				&amp;data[i*bank-&gt;bus_width] );
 	}

Modified: trunk/src/flash/ecos.c
===================================================================
--- trunk/src/flash/ecos.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/ecos.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -319,10 +319,10 @@
 
 
 	uint32_t i;
-	for (i = 0; i&lt;len; i += chunk)
+	for (i = 0; i &lt; len; i += chunk)
 	{
 		int t = len-i;
-		if (t&gt;chunk)
+		if (t &gt; chunk)
 		{
 			t = chunk;
 		}

Modified: trunk/src/flash/flash.c
===================================================================
--- trunk/src/flash/flash.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/flash.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -791,7 +791,7 @@
 
 	duration_start_measure(&amp;duration);
 
-	for (wrote = 0; wrote&lt;(count*wordsize); wrote += cur_size)
+	for (wrote = 0; wrote &lt; (count*wordsize); wrote += cur_size)
 	{
 		cur_size = MIN( (count*wordsize - wrote), sizeof(chunk) );
 		flash_bank_t *bank;
@@ -809,7 +809,7 @@
 			return err;
 
 		unsigned i;
-		for (i = 0; i&lt;cur_size; i++)
+		for (i = 0; i &lt; cur_size; i++)
 		{
 			if (readback[i]!=chunk[i])
 			{

Modified: trunk/src/flash/flash.h
===================================================================
--- trunk/src/flash/flash.h	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/flash.h	2009-06-23 22:45:47 UTC (rev 2375)
@@ -76,7 +76,7 @@
  * that matches @c DRIVERNAME.
  *
  * The flash subsystem calls some of the other drivers routines a using
- * corresponding static &lt;code&gt;flash_driver_&lt;i&gt;callback&lt;/i&gt;()&lt;/code&gt;
+ * corresponding static &lt;code &gt; flash_driver_ &lt; i&gt;callback&lt;/i &gt; ()&lt;/code&gt;
  * routine in flash.c.
  */
 typedef struct flash_driver_s

Modified: trunk/src/flash/ocl/at91sam7x/main.c
===================================================================
--- trunk/src/flash/ocl/at91sam7x/main.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/ocl/at91sam7x/main.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -45,13 +45,13 @@
 	bi_start = ofs/4;
 	bi_end = (ofs + len + 3)/4;
 
-	if (bi_end&gt;BUFSIZE) {
+	if (bi_end &gt; BUFSIZE) {
 		dcc_wr(OCL_BUFF_OVER);
 		return;
 	}
 
 	chksum = OCL_CHKS_INIT;
-	for (bi = 0; bi&lt;bi_end; bi++) chksum^=buffer[bi]=dcc_rd();
+	for (bi = 0; bi &lt; bi_end; bi++) chksum^=buffer[bi]=dcc_rd();
 
 	if (dcc_rd() != chksum) {
 		dcc_wr(OCL_CHKS_FAIL);
@@ -59,12 +59,12 @@
 	}
 
 	/* fill in unused positions with unprogrammed values */
-	for (bi = 0; bi&lt;bi_start; bi++) buffer[bi]=0xffffffff;
+	for (bi = 0; bi &lt; bi_start; bi++) buffer[bi]=0xffffffff;
 	for (bi = bi_end; bi%flash_page_size; bi++) buffer[bi]=0xffffffff;
 
 	result = 0;
 	pagenum = adr/flash_page_size;
-	for (bi = 0; bi&lt;bi_end; bi += flash_page_size/4) {
+	for (bi = 0; bi &lt; bi_end; bi += flash_page_size/4) {
 		result = flash_page_program(buffer + bi, pagenum++);
 		if (result) break;
 	}

Modified: trunk/src/flash/ocl/at91sam7x/samflash.c
===================================================================
--- trunk/src/flash/ocl/at91sam7x/samflash.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/ocl/at91sam7x/samflash.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -146,7 +146,7 @@
 			if ((inr(MC_FSR + efc_ofs)&amp;MC_LOCKE)) return FLASH_STAT_LOCKE;
 
 		}
-		if ((page_num += flash_lock_pages)&gt;flash_page_count) break;
+		if ((page_num += flash_lock_pages) &gt; flash_page_count) break;
 		lockbits&gt;&gt;=1;
 	}
 
@@ -178,7 +178,7 @@
 	if ((result = flash_erase_plane(0)) != FLASH_STAT_OK) return result;
 
 	/* the second flash controller, if any */
-	if (flash_page_count&gt;1024) result = flash_erase_plane(0x10);
+	if (flash_page_count &gt; 1024) result = flash_erase_plane(0x10);
 
 	return result;
 }

Modified: trunk/src/flash/ocl.c
===================================================================
--- trunk/src/flash/ocl.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/ocl.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -200,7 +200,7 @@
 		chksum = OCL_CHKS_INIT;
 
 		/* copy data to DCC buffer in proper byte order and properly aligned */
-		for (i = 0; i&lt;runlen; i++)
+		for (i = 0; i &lt; runlen; i++)
 		{
 			switch (byteofs++)
 			{
@@ -332,7 +332,7 @@
 		return ERROR_FLASH_BANK_INVALID;
 	}
 	sectsize = bank-&gt;size / bank-&gt;num_sectors;
-	for (i = 0; i&lt;bank-&gt;num_sectors; i++)
+	for (i = 0; i &lt; bank-&gt;num_sectors; i++)
 	{
 		bank-&gt;sectors[i].offset = i * sectsize;
 		bank-&gt;sectors[i].size = sectsize;

Modified: trunk/src/flash/stellaris.c
===================================================================
--- trunk/src/flash/stellaris.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/stellaris.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -322,7 +322,7 @@
 	buf += printed;
 	buf_size -= printed;
 
-	if (stellaris_info-&gt;num_lockbits&gt;0)
+	if (stellaris_info-&gt;num_lockbits &gt; 0)
 	{
 		printed = snprintf(buf,
 				   buf_size,

Modified: trunk/src/flash/str9x.c
===================================================================
--- trunk/src/flash/str9x.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/flash/str9x.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -300,7 +300,7 @@
 		}
 
 		int timeout;
-		for (timeout = 0; timeout&lt;1000; timeout++) {
+		for (timeout = 0; timeout &lt; 1000; timeout++) {
 			if ((retval = target_read_u8(target, adr, &amp;status)) != ERROR_OK)
 			{
 				return retval;
@@ -575,7 +575,7 @@
 		target_write_u16(target, bank_adr, 0x70);
 
 		int timeout;
-		for (timeout = 0; timeout&lt;1000; timeout++)
+		for (timeout = 0; timeout &lt; 1000; timeout++)
 		{
 			target_read_u8(target, bank_adr, &amp;status);
 			if ( status &amp; 0x80 )
@@ -624,7 +624,7 @@
 		target_write_u16(target, bank_adr, 0x70);
 
 		int timeout;
-		for (timeout = 0; timeout&lt;1000; timeout++)
+		for (timeout = 0; timeout &lt; 1000; timeout++)
 		{
 			target_read_u8(target, bank_adr, &amp;status);
 			if ( status &amp; 0x80 )

Modified: trunk/src/helper/binarybuffer.h
===================================================================
--- trunk/src/helper/binarybuffer.h	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/helper/binarybuffer.h	2009-06-23 22:45:47 UTC (rev 2375)
@@ -42,7 +42,7 @@
 	{
 		unsigned int i;
 		
-		for (i = first; i&lt;first + num; i++)
+		for (i = first; i &lt; first + num; i++)
 		{
 			if (((value &gt;&gt; (i-first))&amp;1) == 1)
 				buffer[i/8] |= 1 &lt;&lt; (i%8);
@@ -61,7 +61,7 @@
 		uint32_t result = 0;
 		unsigned int i;
 		
-		for (i = first; i&lt;first + num; i++)
+		for (i = first; i &lt; first + num; i++)
 		{
 			if (((buffer[i/8]&gt;&gt;(i%8))&amp;1) == 1)
 				result |= 1 &lt;&lt; (i-first);

Modified: trunk/src/helper/command.c
===================================================================
--- trunk/src/helper/command.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/helper/command.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -492,7 +492,7 @@
 		int reslen;
 
 		result = Jim_GetString(Jim_GetResult(interp), &amp;reslen);
-		if (reslen&gt;0)
+		if (reslen &gt; 0)
 		{
 			int i;
 			char buff[256 + 1];

Modified: trunk/src/helper/fileio.c
===================================================================
--- trunk/src/helper/fileio.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/helper/fileio.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -84,7 +84,7 @@
 		
 		result2 = fseek(fileio-&gt;file, 0, SEEK_SET); 
 			
-		if ((fileio-&gt;size&lt;0)||(result&lt;0)||(result2&lt;0))
+		if ((fileio-&gt;size &lt; 0)||(result &lt; 0)||(result2 &lt; 0))
 		{
 			fileio_close(fileio);
 			return ERROR_FILEIO_OPERATION_FAILED;

Modified: trunk/src/helper/jim.c
===================================================================
--- trunk/src/helper/jim.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/helper/jim.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -503,8 +503,8 @@
 static jim_wide JimPowWide(jim_wide b, jim_wide e)
 {
     jim_wide i, res = 1;
-    if ((b == 0 &amp;&amp; e != 0) || (e&lt;0)) return 0;
-    for (i = 0; i&lt;e; i++) {res *= b;}
+    if ((b == 0 &amp;&amp; e != 0) || (e &lt; 0)) return 0;
+    for (i = 0; i &lt; e; i++) {res *= b;}
     return res;
 }
 
@@ -6953,8 +6953,8 @@
             case JIM_EXPROP_ADD: wC = wA + wB; break;
             case JIM_EXPROP_SUB: wC = wA-wB; break;
             case JIM_EXPROP_MUL: wC = wA*wB; break;
-            case JIM_EXPROP_LT: wC = wA&lt;wB; break;
-            case JIM_EXPROP_GT: wC = wA&gt;wB; break;
+            case JIM_EXPROP_LT: wC = wA &lt; wB; break;
+            case JIM_EXPROP_GT: wC = wA &gt; wB; break;
             case JIM_EXPROP_LTE: wC = wA &lt;= wB; break;
             case JIM_EXPROP_GTE: wC = wA &gt;= wB; break;
             case JIM_EXPROP_LSHIFT: wC = wA &lt;&lt; wB; break;
@@ -7058,8 +7058,8 @@
             case JIM_EXPROP_ADD: dC = dA + dB; break;
             case JIM_EXPROP_SUB: dC = dA-dB; break;
             case JIM_EXPROP_MUL: dC = dA*dB; break;
-            case JIM_EXPROP_LT: dC = dA&lt;dB; break;
-            case JIM_EXPROP_GT: dC = dA&gt;dB; break;
+            case JIM_EXPROP_LT: dC = dA &lt; dB; break;
+            case JIM_EXPROP_GT: dC = dA &gt; dB; break;
             case JIM_EXPROP_LTE: dC = dA &lt;= dB; break;
             case JIM_EXPROP_GTE: dC = dA &gt;= dB; break;
             case JIM_EXPROP_NUMEQ: dC = dA == dB; break;
@@ -8197,7 +8197,7 @@
                  strncmp(fileName + fileNameLen-4, &quot;.dll&quot;, 4) == 0 ||
                  strncmp(fileName + fileNameLen-3, &quot;.so&quot;, 3) == 0))
             {
-                char ver[6]; /* xx.yy&lt;nulterm&gt; */
+                char ver[6]; /* xx.yy &lt; nulterm&gt; */
                 char *p = strrchr(fileName, '.');
                 int verLen, fileVer;
 

Modified: trunk/src/helper/log.c
===================================================================
--- trunk/src/helper/log.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/helper/log.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -384,7 +384,7 @@
 void keep_alive()
 {
 	current_time = timeval_ms();
-	if (current_time-last_time&gt;1000)
+	if (current_time-last_time &gt; 1000)
 	{
 		extern int gdb_actual_connections;
 
@@ -400,7 +400,7 @@
 				&quot;trouble with GDB connections.&quot;,
 				current_time-last_time);
 	}
-	if (current_time-last_time&gt;500)
+	if (current_time-last_time &gt; 500)
 	{
 		/* this will keep the GDB connection alive */
 		LOG_USER_N(&quot;%s&quot;, &quot;&quot;);
@@ -429,10 +429,10 @@
 {
 	int i;
 	int napTime = 10;
-	for (i = 0; i&lt;ms; i += napTime)
+	for (i = 0; i &lt; ms; i += napTime)
 	{
 		int sleep_a_bit = ms-i;
-		if (sleep_a_bit&gt;napTime)
+		if (sleep_a_bit &gt; napTime)
 		{
 			sleep_a_bit = napTime;
 		}
@@ -445,7 +445,7 @@
 {
 	long long then;
 	then = timeval_ms();
-	while ((timeval_ms()-then)&lt;ms)
+	while ((timeval_ms()-then) &lt; ms)
 	{
 		/* busy wait */
 	}

Modified: trunk/src/helper/replacements.h
===================================================================
--- trunk/src/helper/replacements.h	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/helper/replacements.h	2009-06-23 22:45:47 UTC (rev 2375)
@@ -28,10 +28,10 @@
 
 /* MIN,MAX macros */
 #ifndef MIN
-#define MIN(a,b) (((a)&lt;(b))?(a):(b))
+#define MIN(a,b) (((a) &lt; (b))?(a):(b))
 #endif
 #ifndef MAX
-#define MAX(a,b) (((a)&gt;(b))?(a):(b))
+#define MAX(a,b) (((a) &gt; (b))?(a):(b))
 #endif
 
 /* for systems that do not support ENOTSUP

Modified: trunk/src/jtag/bitq.c
===================================================================
--- trunk/src/jtag/bitq.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/bitq.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -54,7 +54,7 @@
 		if (bitq_in_state.cmd-&gt;type == JTAG_SCAN)
 		{
 			/* loop through the fields */
-			while (bitq_in_state.field_idx&lt;bitq_in_state.cmd-&gt;cmd.scan-&gt;num_fields)
+			while (bitq_in_state.field_idx &lt; bitq_in_state.cmd-&gt;cmd.scan-&gt;num_fields)
 			{
 				field = &amp;bitq_in_state.cmd-&gt;cmd.scan-&gt;fields[bitq_in_state.field_idx];
 				if (field-&gt;in_value)
@@ -69,7 +69,7 @@
 						else
 						{
 							/* buffer reallocation needed? */
-							if (field-&gt;num_bits&gt;bitq_in_bufsize * 8)
+							if (field-&gt;num_bits &gt; bitq_in_bufsize * 8)
 							{
 								/* buffer previously allocated? */
 								if (bitq_in_buffer != NULL)
@@ -79,7 +79,7 @@
 									bitq_in_buffer = NULL;
 								}
 								/* double the buffer size until it fits */
-								while (field-&gt;num_bits&gt;bitq_in_bufsize * 8)
+								while (field-&gt;num_bits &gt; bitq_in_bufsize * 8)
 									bitq_in_bufsize *= 2;
 							}
 							/* if necessary, allocate buffer and check for malloc error */
@@ -93,9 +93,9 @@
 					}
 
 					/* field scanning */
-					while (bitq_in_state.bit_pos&lt;field-&gt;num_bits)
+					while (bitq_in_state.bit_pos &lt; field-&gt;num_bits)
 					{
-						if ( ( tdo = bitq_interface-&gt;in() )&lt;0 )
+						if ( ( tdo = bitq_interface-&gt;in() ) &lt; 0 )
 						{
 #ifdef _DEBUG_JTAG_IO_
 							LOG_DEBUG(&quot;bitq in EOF&quot;);
@@ -161,7 +161,7 @@
 	tms_scan = tap_get_tms_path(tap_get_state(), new_state);
 	int tms_count = tap_get_tms_path_len(tap_get_state(), tap_get_end_state());
 
-	for (i = 0; i&lt;tms_count; i++)
+	for (i = 0; i &lt; tms_count; i++)
 	{
 		bitq_io(tms_scan &amp; 1, 0, 0);
 		tms_scan &gt;&gt;= 1;
@@ -229,7 +229,7 @@
 	if (field-&gt;out_value == NULL)
 	{
 		/* just send zeros and request data from TDO */
-		for (bit_cnt = field-&gt;num_bits; bit_cnt&gt;1; bit_cnt--)
+		for (bit_cnt = field-&gt;num_bits; bit_cnt &gt; 1; bit_cnt--)
 			bitq_io(0, 0, tdo_req);
 
 		bitq_io(pause, 0, tdo_req);
@@ -239,7 +239,7 @@
 		/* send data, and optionally request TDO */
 		out_mask = 0x01;
 		out_ptr  = field-&gt;out_value;
-		for (bit_cnt = field-&gt;num_bits; bit_cnt&gt;1; bit_cnt--)
+		for (bit_cnt = field-&gt;num_bits; bit_cnt &gt; 1; bit_cnt--)
 		{
 			bitq_io(0, ( (*out_ptr) &amp; out_mask ) != 0, tdo_req);
 			if (out_mask == 0x80)

Modified: trunk/src/jtag/ft2232.c
===================================================================
--- trunk/src/jtag/ft2232.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/ft2232.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -2794,7 +2794,7 @@
 			cp[-2] = 0;
 			ft2232_device_desc =  strdup(buf);
 		} else {
-			// &lt;space&gt;A not defined
+			// &lt;space &gt; A not defined
 			// so create it
 			sprintf(buf, &quot;%s A&quot;, ft2232_device_desc);
 			ft2232_device_desc_A = strdup(buf);

Modified: trunk/src/jtag/gw16012.c
===================================================================
--- trunk/src/jtag/gw16012.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/gw16012.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -500,7 +500,7 @@
 	LOG_DEBUG(&quot;opening %s...&quot;, buffer);
 
 	device_handle = open(buffer, O_WRONLY);
-	if (device_handle&lt;0)
+	if (device_handle &lt; 0)
 	{
 		LOG_ERROR(&quot;cannot open device. check it exists and that user read and write rights are set&quot;);
 		return ERROR_JTAG_INIT_FAILED;

Modified: trunk/src/jtag/parport.c
===================================================================
--- trunk/src/jtag/parport.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/parport.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -345,7 +345,7 @@
 
 #if !defined(__FreeBSD__) &amp;&amp; !defined(__FreeBSD_kernel__)
 	i = ioctl(device_handle, PPCLAIM);
-	if (i&lt;0)
+	if (i &lt; 0)
 	{
 		LOG_ERROR(&quot;cannot claim device&quot;);
 		return ERROR_JTAG_INIT_FAILED;
@@ -353,7 +353,7 @@
 
 	i = PARPORT_MODE_COMPAT;
 	i= ioctl(device_handle, PPSETMODE, &amp; i);
-	if (i&lt;0)
+	if (i &lt; 0)
 	{
 		LOG_ERROR(&quot; cannot set compatible mode to device&quot;);
 		return ERROR_JTAG_INIT_FAILED;
@@ -361,7 +361,7 @@
 
 	i = IEEE1284_MODE_COMPAT;
 	i = ioctl(device_handle, PPNEGOT, &amp; i);
-	if (i&lt;0)
+	if (i &lt; 0)
 	{
 		LOG_ERROR(&quot;cannot set compatible 1284 mode to device&quot;);
 		return ERROR_JTAG_INIT_FAILED;

Modified: trunk/src/jtag/presto.c
===================================================================
--- trunk/src/jtag/presto.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/presto.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -553,7 +553,7 @@
 	if (presto_flush() != ERROR_OK)
 		return -1;
 
-	if (presto-&gt;buff_in_pos&lt;presto-&gt;buff_in_len)
+	if (presto-&gt;buff_in_pos &lt; presto-&gt;buff_in_len)
 		return presto-&gt;buff_in[presto-&gt;buff_in_pos++];
 
 	return -1;
@@ -625,14 +625,14 @@
 	}
 
 	/* delay with TCK low */
-	for (i = presto-&gt;jtag_speed; i&gt;1; i--)
+	for (i = presto-&gt;jtag_speed; i &gt; 1; i--)
 		presto_sendbyte(cmd);
 
 	cmd |= 0x04;
 	presto_sendbyte(cmd | (tdo_req ? 0x10 : 0));
 
 	/* delay with TCK high */
-	for (i = presto-&gt;jtag_speed; i&gt;1; i--)
+	for (i = presto-&gt;jtag_speed; i &gt; 1; i--)
 		presto_sendbyte(cmd);
 
 	presto-&gt;jtag_tck = 1;

Modified: trunk/src/jtag/tcl.c
===================================================================
--- trunk/src/jtag/tcl.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/tcl.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -1396,7 +1396,7 @@
 	script_debug(interp, &quot;pathmove&quot;, argc, args);
 
 	int i;
-	for (i = 0; i&lt;argc-1; i++)
+	for (i = 0; i &lt; argc-1; i++)
 	{
 		const char *cp;
 		cp = Jim_GetString( args[i + 1], NULL );

Modified: trunk/src/jtag/zy1000/jtag_minidriver.h
===================================================================
--- trunk/src/jtag/zy1000/jtag_minidriver.h	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/zy1000/jtag_minidriver.h	2009-06-23 22:45:47 UTC (rev 2375)
@@ -96,7 +96,7 @@
 	{
 		int i;
 		setCurrentState(state);
-		for (i = 0; i&lt;repeat; i++)
+		for (i = 0; i &lt; repeat; i++)
 		{
 			int tms;
 			tms = 0;
@@ -124,11 +124,11 @@
 #endif
 #else
 	/* maximum debug version */
-	if ((repeat&gt;0) &amp;&amp; ((state == TAP_DRSHIFT)||(state == TAP_SI)))
+	if ((repeat &gt; 0) &amp;&amp; ((state == TAP_DRSHIFT)||(state == TAP_SI)))
 	{
 		int i;
 		/* sample shift register for every bit. */
-		for (i = 0; i&lt;repeat-1; i++)
+		for (i = 0; i &lt; repeat-1; i++)
 		{
 			sampleShiftRegister();
 			ZY1000_POKE(ZY1000_JTAG_BASE + 0xc, value &gt;&gt; i);
@@ -167,7 +167,7 @@
 		if (tap == target_tap)
 		{
 			int j;
-			for (j = 0; j&lt;(num_fields-1); j++)
+			for (j = 0; j &lt; (num_fields-1); j++)
 			{
 				shiftValueInner(TAP_DRSHIFT, TAP_DRSHIFT, num_bits[j], value[j]);
 			}

Modified: trunk/src/jtag/zy1000/zy1000.c
===================================================================
--- trunk/src/jtag/zy1000/zy1000.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/jtag/zy1000/zy1000.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -164,7 +164,7 @@
 	if (!srst)
 	{
 		int i;
-		for (i = 0; i&lt;1000; i++)
+		for (i = 0; i &lt; 1000; i++)
 		{
 			// We don't want to sense our own reset, so we clear here.
 			// There is of course a timing hole where we could loose
@@ -179,7 +179,7 @@
 		if (i == 1000)
 		{
 			LOG_USER(&quot;SRST didn't deassert after %dms&quot;, i);
-		} else if (i&gt;1)
+		} else if (i &gt; 1)
 		{
 			LOG_USER(&quot;SRST took %dms to deassert&quot;, i);
 		}
@@ -434,13 +434,13 @@
 
 		// here we shuffle N bits out/in
 		j = 0;
-		while (j&lt;num_bits)
+		while (j &lt; num_bits)
 		{
 			tap_state_t pause_state;
 			int l;
 			k = num_bits-j;
 			pause_state = (shiftState == TAP_DRSHIFT)?TAP_DRSHIFT:TAP_IRSHIFT;
-			if (k&gt;32)
+			if (k &gt; 32)
 			{
 				k = 32;
 				/* we have more to shift out */
@@ -455,7 +455,7 @@
 			value = 0;
 			if (fields[i].out_value != NULL)
 			{
-				for (l = 0; l&lt;k; l += 8)
+				for (l = 0; l &lt; k; l += 8)
 				{
 					value|=fields[i].out_value[(j + l)/8]&lt;&lt;l;
 				}
@@ -472,7 +472,7 @@
 				// we're shifting in data to MSB, shift data to be aligned for returning the value
 				value &gt;&gt;= 32-k;
 
-				for (l = 0; l&lt;k; l += 8)
+				for (l = 0; l &lt; k; l += 8)
 				{
 					inBuffer[(j + l)/8]=(value &gt;&gt; l)&amp;0xff;
 				}
@@ -634,11 +634,11 @@
 
 	/* execute num_cycles, 32 at the time. */
 	int i;
-	for (i = 0; i&lt;num_cycles; i += 32)
+	for (i = 0; i &lt; num_cycles; i += 32)
 	{
 		int num;
 		num = 32;
-		if (num_cycles-i&lt;num)
+		if (num_cycles-i &lt; num)
 		{
 			num = num_cycles-i;
 		}

Modified: trunk/src/server/gdb_server.c
===================================================================
--- trunk/src/server/gdb_server.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/server/gdb_server.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -109,7 +109,7 @@
 		got_data=&t;
 	*got_data = 0;
 
-	if (gdb_con-&gt;buf_cnt&gt;0)
+	if (gdb_con-&gt;buf_cnt &gt; 0)
 	{
 		*got_data = 1;
 		return ERROR_OK;
@@ -125,7 +125,7 @@
 		/* This can typically be because a &quot;monitor&quot; command took too long
 		 * before printing any progress messages
 		 */
-		if (timeout_s&gt;0)
+		if (timeout_s &gt; 0)
 		{
 			return ERROR_GDB_TIMEOUT;
 		} else
@@ -649,7 +649,7 @@
 		return ERROR_GDB_BUFFER_TOO_SMALL;
 
 	hex_buffer[0] = 'O';
-	for (i = 0; i&lt;bin_size; i++)
+	for (i = 0; i &lt; bin_size; i++)
 		snprintf(hex_buffer + 1 + i*2, 3, &quot;%2.2x&quot;, line[i]);
 	hex_buffer[bin_size*2 + 1] = 0;
 
@@ -1268,7 +1268,7 @@
 
 	LOG_DEBUG(&quot;addr: 0x%8.8&quot; PRIx32 &quot;, len: 0x%8.8&quot; PRIx32 &quot;&quot;, addr, len);
 
-	for (i = 0; i&lt;len; i++)
+	for (i = 0; i &lt; len; i++)
 	{
 		uint32_t tmp;
 		sscanf(separator + 2*i, &quot;%2&quot; SCNx32 , &amp;tmp);
@@ -1563,7 +1563,7 @@
 	if (b1-&gt;base == b2-&gt;base)
 	{
 		return 0;
-	} else if (b1-&gt;base&gt;b2-&gt;base)
+	} else if (b1-&gt;base &gt; b2-&gt;base)
 	{
 		return 1;
 	} else
@@ -1654,7 +1654,7 @@
 
 		xml_printf(&amp;retval, &amp;buffer, &amp;pos, &amp;size,
 				&quot;PacketSize=%x;qXfer:memory-map:read%c;qXfer:features:read-;QStartNoAckMode+&quot;,
-				(GDB_BUFFER_SIZE - 1), ((gdb_use_memory_map == 1) &amp;&amp; (flash_get_bank_count()&gt;0)) ? '+' : '-');
+				(GDB_BUFFER_SIZE - 1), ((gdb_use_memory_map == 1) &amp;&amp; (flash_get_bank_count() &gt; 0)) ? '+' : '-');
 
 		if (retval != ERROR_OK)
 		{
@@ -1667,7 +1667,7 @@
 
 		return ERROR_OK;
 	}
-	else if (strstr(packet, &quot;qXfer:memory-map:read::&quot;) &amp;&amp; (flash_get_bank_count()&gt;0))
+	else if (strstr(packet, &quot;qXfer:memory-map:read::&quot;) &amp;&amp; (flash_get_bank_count() &gt; 0))
 	{
 		/* We get away with only specifying flash here. Regions that are not
 		 * specified are treated as if we provided no memory map(if not we
@@ -1702,7 +1702,7 @@
 		flash_bank_t **banks = malloc(sizeof(flash_bank_t *)*flash_get_bank_count());
 		int i;
 
-		for (i = 0; i&lt;flash_get_bank_count(); i++)
+		for (i = 0; i &lt; flash_get_bank_count(); i++)
 		{
 			p = get_flash_bank_by_num(i);
 			if (p == NULL)
@@ -1718,11 +1718,11 @@
 		qsort(banks, flash_get_bank_count(), sizeof(flash_bank_t *), compare_bank);
 
 		uint32_t ram_start = 0;
-		for (i = 0; i&lt;flash_get_bank_count(); i++)
+		for (i = 0; i &lt; flash_get_bank_count(); i++)
 		{
 			p = banks[i];
 
-			if (ram_start&lt;p-&gt;base)
+			if (ram_start &lt; p-&gt;base)
 			{
 				xml_printf(&amp;retval, &amp;xml, &amp;pos, &amp;size, &quot;&lt;memory type=\&quot;ram\&quot; start=\&quot;0x%x\&quot; length=\&quot;0x%x\&quot;/&gt;\n&quot;,
 					ram_start, p-&gt;base-ram_start);
@@ -1800,7 +1800,7 @@
 		}
 
 		xml_printf(&amp;retval, &amp;xml, &amp;pos, &amp;size, \
-			&quot;l&lt;target version=\&quot;1.0\&quot;&gt;\n&lt;architecture&gt;arm&lt;/architecture&gt;\n&lt;/target&gt;\n&quot;);
+			&quot;l &lt; target version=\&quot;1.0\&quot;&gt;\n &lt; architecture &gt; arm&lt;/architecture&gt;\n&lt;/target&gt;\n&quot;);
 
 		if (retval != ERROR_OK)
 		{

Modified: trunk/src/server/httpd.c
===================================================================
--- trunk/src/server/httpd.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/server/httpd.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -34,7 +34,7 @@
 #include &lt;pthread.h&gt;
 #include &lt;signal.h&gt;
 
-#define PAGE_NOT_FOUND &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;File not found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;File not found&lt;/body&gt;&lt;/html&gt;&quot;
+#define PAGE_NOT_FOUND &quot;&lt;html&gt;&lt;head&gt;&lt;title &gt; File not found&lt;/title&gt;&lt;/head&gt;&lt;body &gt; File not found&lt;/body&gt;&lt;/html&gt;&quot;
 
 int loadFile(const char *name, void **data, size_t *len);
 
@@ -71,7 +71,7 @@
 
 	t = appendf(t, &quot;Runtime error, file \&quot;%s\&quot;, line %d:&lt;br&gt;&quot;,
 			interp-&gt;errorFileName, interp-&gt;errorLine);
-	t = appendf(t, &quot;    %s&lt;br&gt;&quot;, Jim_GetString(interp-&gt;result, NULL));
+	t = appendf(t, &quot;    %s &lt; br&gt;&quot;, Jim_GetString(interp-&gt;result, NULL));
 	Jim_ListLength(interp, interp-&gt;stackTrace, &amp;len);
 	for (i = 0; i &lt; len; i += 3)
 	{
@@ -84,7 +84,7 @@
 		file = Jim_GetString(objPtr, NULL);
 		Jim_ListIndex(interp, interp-&gt;stackTrace, i + 2, &amp;objPtr, JIM_NONE);
 		line = Jim_GetString(objPtr, NULL);
-		t = appendf(t, &quot;In procedure '%s' called at file \&quot;%s\&quot;, line %s&lt;br&gt;&quot;,
+		t = appendf(t, &quot;In procedure '%s' called at file \&quot;%s\&quot;, line %s &lt; br&gt;&quot;,
 				proc, file, line);
 	}
 	t = appendf(t, &quot;&lt;/html&gt;&lt;/body&gt;\n&quot;);

Modified: trunk/src/server/telnet_server.c
===================================================================
--- trunk/src/server/telnet_server.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/server/telnet_server.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -120,8 +120,8 @@
 
 	/* clear the command line */
 	telnet_write(connection, &quot;\r&quot;, 1);
-	for (i = strlen(t_con-&gt;prompt) + t_con-&gt;line_size; i&gt;0; i -= 16)
-		telnet_write(connection, &quot;                &quot;, i&gt;16 ? 16 : i);
+	for (i = strlen(t_con-&gt;prompt) + t_con-&gt;line_size; i &gt; 0; i -= 16)
+		telnet_write(connection, &quot;                &quot;, i &gt; 16 ? 16 : i);
 	telnet_write(connection, &quot;\r&quot;, 1);
 
 	/* output the message */
@@ -130,7 +130,7 @@
 	/* put the command line to its previous state */
 	telnet_prompt(connection);
 	telnet_write(connection, t_con-&gt;line, t_con-&gt;line_size);
-	for (i = t_con-&gt;line_size; i&gt;t_con-&gt;line_cursor; i--)
+	for (i = t_con-&gt;line_size; i &gt; t_con-&gt;line_cursor; i--)
 		telnet_write(connection, &quot;\b&quot;, 1);
 }
 

Modified: trunk/src/target/arm11_dbgtap.c
===================================================================
--- trunk/src/target/arm11_dbgtap.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm11_dbgtap.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -75,9 +75,9 @@
  * \param arm11			Target state variable.
  * \param num_bits		Length of the data field
  * \param out_data		pointer to the data that will be sent out
- *						&lt;em&gt;(data is read when it is added to the JTAG queue)&lt;/em&gt;
+ *						&lt;em &gt; (data is read when it is added to the JTAG queue)&lt;/em&gt;
  * \param in_data		pointer to the memory that will receive data that was clocked in
- *						&lt;em&gt;(data is written when the JTAG queue is executed)&lt;/em&gt;
+ *						&lt;em &gt; (data is written when the JTAG queue is executed)&lt;/em&gt;
  * \param field			target data structure that will be initialized
  */
 void arm11_setup_field(arm11_common_t * arm11, int num_bits, void * out_data, void * in_data, scan_field_t * field)

Modified: trunk/src/target/arm720t.c
===================================================================
--- trunk/src/target/arm720t.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm720t.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -375,7 +375,7 @@
 
 	long long then = timeval_ms();
 	int timeout;
-	while (!(timeout = ((timeval_ms()-then)&gt;1000)))
+	while (!(timeout = ((timeval_ms()-then) &gt; 1000)))
 	{
 		if (buf_get_u32(dbg_stat-&gt;value, EICE_DBG_STATUS_DBGACK, 1) == 0)
 		{

Modified: trunk/src/target/arm7_9_common.c
===================================================================
--- trunk/src/target/arm7_9_common.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm7_9_common.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -702,7 +702,7 @@
 
 	long long then = timeval_ms();
 	int timeout;
-	while (!(timeout = ((timeval_ms()-then)&gt;1000)))
+	while (!(timeout = ((timeval_ms()-then) &gt; 1000)))
 	{
 		/* read debug status register */
 		embeddedice_read_reg(dbg_stat);
@@ -862,11 +862,11 @@
  * what happens:
  *
  * &lt;table&gt;
- * 		&lt;tr&gt;&lt;th&gt;State&lt;/th&gt;&lt;th&gt;Action&lt;/th&gt;&lt;/tr&gt;
- * 		&lt;tr&gt;&lt;td&gt;TARGET_RUNNING | TARGET_RESET&lt;/td&gt;&lt;td&gt;Enters debug mode.  If TARGET_RESET, pc may be checked&lt;/td&gt;&lt;/tr&gt;
- * 		&lt;tr&gt;&lt;td&gt;TARGET_UNKNOWN&lt;/td&gt;&lt;td&gt;Warning is logged&lt;/td&gt;&lt;/tr&gt;
- * 		&lt;tr&gt;&lt;td&gt;TARGET_DEBUG_RUNNING&lt;/td&gt;&lt;td&gt;Enters debug mode&lt;/td&gt;&lt;/tr&gt;
- * 		&lt;tr&gt;&lt;td&gt;TARGET_HALTED&lt;/td&gt;&lt;td&gt;Nothing&lt;/td&gt;&lt;/tr&gt;
+ * 		&lt;tr&gt;&lt;th &gt; State&lt;/th&gt;&lt;th &gt; Action&lt;/th&gt;&lt;/tr&gt;
+ * 		&lt;tr&gt;&lt;td &gt; TARGET_RUNNING | TARGET_RESET&lt;/td&gt;&lt;td &gt; Enters debug mode.  If TARGET_RESET, pc may be checked&lt;/td&gt;&lt;/tr&gt;
+ * 		&lt;tr&gt;&lt;td &gt; TARGET_UNKNOWN&lt;/td&gt;&lt;td &gt; Warning is logged&lt;/td&gt;&lt;/tr&gt;
+ * 		&lt;tr&gt;&lt;td &gt; TARGET_DEBUG_RUNNING&lt;/td&gt;&lt;td &gt; Enters debug mode&lt;/td&gt;&lt;/tr&gt;
+ * 		&lt;tr&gt;&lt;td &gt; TARGET_HALTED&lt;/td&gt;&lt;td &gt; Nothing&lt;/td&gt;&lt;/tr&gt;
  * &lt;/table&gt;
  *
  * If the target does not end up in the halted state, a warning is produced.  If
@@ -1152,7 +1152,7 @@
 
 	long long then = timeval_ms();
 	int timeout;
-	while (!(timeout = ((timeval_ms()-then)&gt;1000)))
+	while (!(timeout = ((timeval_ms()-then) &gt; 1000)))
 	{
 		if (buf_get_u32(dbg_stat-&gt;value, EICE_DBG_STATUS_DBGACK, 1) != 0)
 			break;
@@ -2582,7 +2582,7 @@
 	int little = target-&gt;endianness == TARGET_LITTLE_ENDIAN;
 	int count = dcc_count;
 	uint8_t *buffer = dcc_buffer;
-	if (count&gt;2)
+	if (count &gt; 2)
 	{
 		/* Handle first &amp; last using standard embeddedice_write_reg and the middle ones w/the
 		 * core function repeated. */

Modified: trunk/src/target/arm920t.c
===================================================================
--- trunk/src/target/arm920t.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm920t.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -574,7 +574,7 @@
 
 	long long then = timeval_ms();
 	int timeout;
-	while (!(timeout = ((timeval_ms()-then)&gt;1000)))
+	while (!(timeout = ((timeval_ms()-then) &gt; 1000)))
 	{
 		if (buf_get_u32(dbg_stat-&gt;value, EICE_DBG_STATUS_DBGACK, 1) == 0)
 		{

Modified: trunk/src/target/arm926ejs.c
===================================================================
--- trunk/src/target/arm926ejs.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm926ejs.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -574,7 +574,7 @@
 
 	long long then = timeval_ms();
 	int timeout;
-	while (!(timeout = ((timeval_ms()-then)&gt;1000)))
+	while (!(timeout = ((timeval_ms()-then) &gt; 1000)))
 	{
 		if (buf_get_u32(dbg_stat-&gt;value, EICE_DBG_STATUS_DBGACK, 1) == 0)
 		{

Modified: trunk/src/target/arm_adi_v5.c
===================================================================
--- trunk/src/target/arm_adi_v5.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm_adi_v5.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -1118,7 +1118,7 @@
 					command_print(cmd_ctx, &quot;\t\tEnd of ROM table&quot;);
 			}
 			entry_offset += 4;
-		} while (romentry&gt;0);
+		} while (romentry &gt; 0);
 	}
 	else
 	{

Modified: trunk/src/target/arm_disassembler.c
===================================================================
--- trunk/src/target/arm_disassembler.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/arm_disassembler.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -891,7 +891,7 @@
 		int x = (opcode &amp; 0x20) &gt;&gt; 5;
 		int y = (opcode &amp; 0x40) &gt;&gt; 6;
 		
-		/* SMLA&lt;x&gt;&lt;y&gt; */
+		/* SMLA &lt; x&gt;&lt;y&gt; */
 		if ((opcode &amp; 0x00600000) == 0x00000000)
 		{
 			uint8_t Rd, Rm, Rs, Rn;
@@ -906,7 +906,7 @@
 					 Rd, Rm, Rs, Rn);
 		}
 		
-		/* SMLAL&lt;x&gt;&lt;y&gt; */
+		/* SMLAL &lt; x&gt;&lt;y&gt; */
 		if ((opcode &amp; 0x00600000) == 0x00400000)
 		{
 			uint8_t RdLow, RdHi, Rm, Rs;
@@ -921,7 +921,7 @@
 					 RdLow, RdHi, Rm, Rs);
 		}
 		
-		/* SMLAW&lt;y&gt; */
+		/* SMLAW &lt; y&gt; */
 		if (((opcode &amp; 0x00600000) == 0x00100000) &amp;&amp; (x == 0))
 		{
 			uint8_t Rd, Rm, Rs, Rn;
@@ -936,7 +936,7 @@
 					 Rd, Rm, Rs, Rn);
 		}
 		
-		/* SMUL&lt;x&gt;&lt;y&gt; */
+		/* SMUL &lt; x&gt;&lt;y&gt; */
 		if ((opcode &amp; 0x00600000) == 0x00300000)
 		{
 			uint8_t Rd, Rm, Rs;
@@ -950,7 +950,7 @@
 					 Rd, Rm, Rs);
 		}
 		
-		/* SMULW&lt;y&gt; */
+		/* SMULW &lt; y&gt; */
 		if (((opcode &amp; 0x00600000) == 0x00100000) &amp;&amp; (x == 1))
 		{
 			uint8_t Rd, Rm, Rs;
@@ -1922,7 +1922,7 @@
 		if (reg_list &amp; (1 &lt;&lt; i))
 			reg_names_p += snprintf(reg_names_p, (reg_names + 40 - reg_names_p), &quot;r%i, &quot;, i);
 	}
-	if (reg_names_p&gt;reg_names)
+	if (reg_names_p &gt; reg_names)
 		reg_names_p[-2] = '\0';
 	else /* invalid op : no registers */
     		reg_names[0] = '\0';

Modified: trunk/src/target/image.c
===================================================================
--- trunk/src/target/image.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/image.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -414,12 +414,12 @@
 
 	/* count useful segments (loadable), ignore BSS section */
 	image-&gt;num_sections = 0;
-	for (i = 0;i&lt;elf-&gt;segment_count;i++)
+	for (i = 0;i &lt; elf-&gt;segment_count;i++)
 		if ((field32(elf, elf-&gt;segments[i].p_type) == PT_LOAD) &amp;&amp; (field32(elf, elf-&gt;segments[i].p_filesz) != 0))
 			image-&gt;num_sections++;
 	/* alloc and fill sections array with loadable segments */
 	image-&gt;sections = malloc(image-&gt;num_sections * sizeof(image_section_t));
-	for (i = 0,j = 0;i&lt;elf-&gt;segment_count;i++)
+	for (i = 0,j = 0;i &lt; elf-&gt;segment_count;i++)
 	{
 		if ((field32(elf, elf-&gt;segments[i].p_type) == PT_LOAD) &amp;&amp; (field32(elf, elf-&gt;segments[i].p_filesz) != 0))
 		{
@@ -449,7 +449,7 @@
 	LOG_DEBUG(&quot;load segment %d at 0x%&quot; PRIx32 &quot; (sz = 0x%&quot; PRIx32 &quot;)&quot;,section,offset,size);
 
 	/* read initialized data in current segment if any */
-	if (offset&lt;field32(elf,segment-&gt;p_filesz))
+	if (offset &lt; field32(elf,segment-&gt;p_filesz))
 	{
 		/* maximal size present in file for the current segment */
 		read_size = MIN(size, field32(elf,segment-&gt;p_filesz)-offset);
@@ -1015,10 +1015,10 @@
 		crc32_table[i] = c;
 	}
 
-	while (nbytes&gt;0)
+	while (nbytes &gt; 0)
 	{
 		int run = nbytes;
-		if (run&gt;32768)
+		if (run &gt; 32768)
 		{
 			run = 32768;
 		}

Modified: trunk/src/target/mips32_dmaacc.c
===================================================================
--- trunk/src/target/mips32_dmaacc.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/mips32_dmaacc.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -369,7 +369,7 @@
 	int i;
 	int	retval;
 
-	for (i = 0; i&lt;count; i++) {
+	for (i = 0; i &lt; count; i++) {
 		if ((retval = ejtag_dma_read(ejtag_info, addr + i*sizeof(*buf), &amp;buf[i])) != ERROR_OK)
 			return retval;
 	}
@@ -382,7 +382,7 @@
 	int i;
 	int retval;
 
-	for (i = 0; i&lt;count; i++) {
+	for (i = 0; i &lt; count; i++) {
 		if ((retval = ejtag_dma_read_h(ejtag_info, addr + i*sizeof(*buf), &amp;buf[i])) != ERROR_OK)
 			return retval;
 	}
@@ -395,7 +395,7 @@
 	int i;
 	int retval;
 
-	for (i = 0; i&lt;count; i++) {
+	for (i = 0; i &lt; count; i++) {
 		if ((retval = ejtag_dma_read_b(ejtag_info, addr + i*sizeof(*buf), &amp;buf[i])) != ERROR_OK)
 			return retval;
 	}
@@ -423,7 +423,7 @@
 	int i;
 	int retval;
 
-	for (i = 0; i&lt;count; i++) {
+	for (i = 0; i &lt; count; i++) {
 		if ((retval = ejtag_dma_write(ejtag_info, addr + i*sizeof(*buf), buf[i])) != ERROR_OK)
 			return retval;
 	}
@@ -436,7 +436,7 @@
 	int i;
 	int retval;
 
-	for (i = 0; i&lt;count; i++) {
+	for (i = 0; i &lt; count; i++) {
 		if ((retval = ejtag_dma_write_h(ejtag_info, addr + i*sizeof(*buf), buf[i])) != ERROR_OK)
 			return retval;
 	}
@@ -449,7 +449,7 @@
 	int i;
 	int retval;
 
-	for (i = 0; i&lt;count; i++) {
+	for (i = 0; i &lt; count; i++) {
 		if ((retval = ejtag_dma_write_b(ejtag_info, addr + i*sizeof(*buf), buf[i])) != ERROR_OK)
 			return retval;
 	}

Modified: trunk/src/target/target.c
===================================================================
--- trunk/src/target/target.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/target/target.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -1924,12 +1924,12 @@
 				Jim_Nvp_value2name_simple(nvp_target_state,state)-&gt;name);
 		}
 
-		if (cur-then&gt;500)
+		if (cur-then &gt; 500)
 		{
 			keep_alive();
 		}
 
-		if ((cur-then)&gt;ms)
+		if ((cur-then) &gt; ms)
 		{
 			LOG_ERROR(&quot;timed out while waiting for target %s&quot;,
 				Jim_Nvp_value2name_simple(nvp_target_state,state)-&gt;name);
@@ -2280,16 +2280,16 @@
 		/* DANGER!!! beware of unsigned comparision here!!! */
 
 		if ((image.sections[i].base_address + buf_cnt &gt;= min_address)&amp;&amp;
-				(image.sections[i].base_address&lt;max_address))
+				(image.sections[i].base_address &lt; max_address))
 		{
-			if (image.sections[i].base_address&lt;min_address)
+			if (image.sections[i].base_address &lt; min_address)
 			{
 				/* clip addresses below */
 				offset += min_address-image.sections[i].base_address;
 				length -= offset;
 			}
 
-			if (image.sections[i].base_address + buf_cnt&gt;max_address)
+			if (image.sections[i].base_address + buf_cnt &gt; max_address)
 			{
 				length -= (image.sections[i].base_address + buf_cnt)-max_address;
 			}
@@ -2790,7 +2790,7 @@
 static void writeLong(FILE *f, int l)
 {
 	int i;
-	for (i = 0; i&lt;4; i++)
+	for (i = 0; i &lt; 4; i++)
 	{
 		char c = (l &gt;&gt; (i*8))&amp;0xff;
 		writeData(f, &amp;c, 1);
@@ -2822,13 +2822,13 @@
 	/* figure out bucket size */
 	uint32_t min = samples[0];
 	uint32_t max = samples[0];
-	for (i = 0; i&lt;sampleNum; i++)
+	for (i = 0; i &lt; sampleNum; i++)
 	{
-		if (min&gt;samples[i])
+		if (min &gt; samples[i])
 		{
 			min = samples[i];
 		}
-		if (max&lt;samples[i])
+		if (max &lt; samples[i])
 		{
 			max = samples[i];
 		}
@@ -2849,7 +2849,7 @@
 		return;
 	}
 	memset(buckets, 0, sizeof(int)*length);
-	for (i = 0; i&lt;sampleNum;i++)
+	for (i = 0; i &lt; sampleNum;i++)
 	{
 		uint32_t address = samples[i];
 		long long a = address-min;
@@ -2865,7 +2865,7 @@
 	writeLong(f, length);		/* # of samples */
 	writeLong(f, 64000000); 	/* 64MHz */
 	writeString(f, &quot;seconds&quot;);
-	for (i = 0; i&lt;(15-strlen(&quot;seconds&quot;)); i++)
+	for (i = 0; i &lt; (15-strlen(&quot;seconds&quot;)); i++)
 		writeData(f, &amp;zero, 1);
 	writeString(f, &quot;s&quot;);
 
@@ -2874,11 +2874,11 @@
 	char *data = malloc(2*length);
 	if (data != NULL)
 	{
-		for (i = 0; i&lt;length;i++)
+		for (i = 0; i &lt; length;i++)
 		{
 			int val;
 			val = buckets[i];
-			if (val&gt;65535)
+			if (val &gt; 65535)
 			{
 				val = 65535;
 			}
@@ -4389,7 +4389,7 @@
 	if (fastload != NULL)
 	{
 		int i;
-		for (i = 0; i&lt;fastload_num; i++)
+		for (i = 0; i &lt; fastload_num; i++)
 		{
 			if (fastload[i].data)
 				free(fastload[i].data);
@@ -4461,16 +4461,16 @@
 		/* DANGER!!! beware of unsigned comparision here!!! */
 
 		if ((image.sections[i].base_address + buf_cnt &gt;= min_address)&amp;&amp;
-				(image.sections[i].base_address&lt;max_address))
+				(image.sections[i].base_address &lt; max_address))
 		{
-			if (image.sections[i].base_address&lt;min_address)
+			if (image.sections[i].base_address &lt; min_address)
 			{
 				/* clip addresses below */
 				offset += min_address-image.sections[i].base_address;
 				length -= offset;
 			}
 
-			if (image.sections[i].base_address + buf_cnt&gt;max_address)
+			if (image.sections[i].base_address + buf_cnt &gt; max_address)
 			{
 				length -= (image.sections[i].base_address + buf_cnt)-max_address;
 			}
@@ -4514,7 +4514,7 @@
 
 static int handle_fast_load_command(struct command_context_s *cmd_ctx, char *cmd, char **args, int argc)
 {
-	if (argc&gt;0)
+	if (argc &gt; 0)
 		return ERROR_COMMAND_SYNTAX_ERROR;
 	if (fastload == NULL)
 	{
@@ -4525,7 +4525,7 @@
 	int ms = timeval_ms();
 	int size = 0;
 	int retval = ERROR_OK;
-	for (i = 0; i&lt;fastload_num;i++)
+	for (i = 0; i &lt; fastload_num;i++)
 	{
 		target_t *target = get_current_target(cmd_ctx);
 		command_print(cmd_ctx, &quot;Write to 0x%08x, length 0x%08x&quot;, 

Modified: trunk/src/xsvf/xsvf.c
===================================================================
--- trunk/src/xsvf/xsvf.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/src/xsvf/xsvf.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -366,11 +366,11 @@
 
 				LOG_DEBUG(&quot;%s %d&quot;, op_name, xsdrsize);
 
-				for ( attempt = 0; attempt&lt;limit;  ++attempt )
+				for ( attempt = 0; attempt &lt; limit;  ++attempt )
 				{
 					scan_field_t field;
 
-					if ( attempt&gt;0 )
+					if ( attempt &gt; 0 )
 					{
 						/* perform the XC9500 exception handling sequence shown in xapp067.pdf and
 						   illustrated in psuedo code at end of this file.  We start from state
@@ -836,7 +836,7 @@
 				if (limit &lt; 1)
 					limit = 1;
 
-				for ( attempt = 0; attempt&lt;limit;  ++attempt )
+				for ( attempt = 0; attempt &lt; limit;  ++attempt )
 				{
 					scan_field_t field;
 

Modified: trunk/testing/examples/cortex/test.c
===================================================================
--- trunk/testing/examples/cortex/test.c	2009-06-23 22:45:15 UTC (rev 2374)
+++ trunk/testing/examples/cortex/test.c	2009-06-23 22:45:47 UTC (rev 2375)
@@ -20,7 +20,7 @@
 void _start()
 {
   int i;
-  for (i = 0; i&lt;1000; i++)
+  for (i = 0; i &lt; 1000; i++)
     {
       j++;
     }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001158.html">[Openocd-svn] r2374 - in trunk/src: . flash flash/ocl/at91sam7x	helper jtag jtag/zy1000 target
</A></li>
	<LI>Next message: <A HREF="001160.html">[Openocd-svn] r2376 - in trunk/src: . flash flash/ocl/at91sam7x	helper jtag jtag/rlink jtag/zy1000 pld server svf target xsvf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1159">[ date ]</a>
              <a href="thread.html#1159">[ thread ]</a>
              <a href="subject.html#1159">[ subject ]</a>
              <a href="author.html#1159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>

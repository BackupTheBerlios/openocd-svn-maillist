<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-svn] r2034 - trunk/doc
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-svn/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r2034%20-%20trunk/doc&In-Reply-To=%3C200906040051.n540p57A032146%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000817.html">
   <LINK REL="Next"  HREF="000819.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-svn] r2034 - trunk/doc</H1>
    <B>zwelch at mail.berlios.de</B> 
    <A HREF="mailto:openocd-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-svn%5D%20r2034%20-%20trunk/doc&In-Reply-To=%3C200906040051.n540p57A032146%40sheep.berlios.de%3E"
       TITLE="[Openocd-svn] r2034 - trunk/doc">zwelch at mail.berlios.de
       </A><BR>
    <I>Thu Jun  4 02:51:05 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000817.html">[Openocd-svn] r2033 - trunk/src/jtag
</A></li>
        <LI>Next message: <A HREF="000819.html">[Openocd-svn] r2035 - trunk/doc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#818">[ date ]</a>
              <a href="thread.html#818">[ thread ]</a>
              <a href="subject.html#818">[ subject ]</a>
              <a href="author.html#818">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zwelch
Date: 2009-06-04 02:51:02 +0200 (Thu, 04 Jun 2009)
New Revision: 2034

Modified:
   trunk/doc/openocd.texi
Log:
David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">david-b at pacbell.net</A>&gt;:

Convert the str9xpec driver info to use @deffn; alphabetize;
add the missing part_id command.

Convert the mflash support to use @deffn; alphabetize.


Modified: trunk/doc/openocd.texi
===================================================================
--- trunk/doc/openocd.texi	2009-06-03 16:36:01 UTC (rev 2033)
+++ trunk/doc/openocd.texi	2009-06-04 00:51:02 UTC (rev 2034)
@@ -2953,113 +2953,124 @@
 has been locked. Halting the core is not required for the @option{str9xpec} driver
 as mentioned above, just issue the commands above manually or from a telnet prompt.
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at subsubsection</A> str9xpec driver options
-
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at b</A>{flash bank str9xpec} &lt;@var{base}&gt; &lt;@var{size}&gt; 0 0 &lt;@var{target}&gt;
-@*Before using the flash commands the turbo mode must be enabled using str9xpec
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at option</A>{enable_turbo} &lt;@var{num&gt;.}
-
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> {Flash Driver} str9xpec
 Only use this driver for locking/unlocking the device or configuring the option bytes.
 Use the standard str9 driver for programming.
+Before using the flash commands the turbo mode must be enabled using the
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at command</A>{str9xpec enable_turbo} command.
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at subsubsection</A> str9xpec specific commands
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec specific commands
-These are flash specific commands when using the str9xpec driver.
+Several str9xpec-specific commands are defined:
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at itemize</A> @bullet
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec enable_turbo} &lt;@var{num}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec enable_turbo
-@*enable turbo mode, will simply remove the str9 from the chain and talk
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec disable_turbo} num
+Restore the str9 into JTAG chain.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec enable_turbo} num
+Enable turbo mode, will simply remove the str9 from the chain and talk
 directly to the embedded flash controller.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec disable_turbo} &lt;@var{num}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec disable_turbo
-@*restore the str9 into JTAG chain.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec lock} &lt;@var{num}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec lock
-@*lock str9 device. The str9 will only respond to an unlock command that will
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec lock} num
+Lock str9 device. The str9 will only respond to an unlock command that will
 erase the device.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec unlock} &lt;@var{num}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec unlock
-@*unlock str9 device.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec options_read} &lt;@var{num}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec options_read
-@*read str9 option bytes.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec options_write} &lt;@var{num}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec options_write
-@*write str9 option bytes.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> itemize
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at subsubsection</A> STR9 option byte configuration
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> STR9 option byte configuration
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec part_id} num
+Prints the part identifier for bank @var{num}.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at itemize</A> @bullet
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec options_cmap} &lt;@var{num}&gt; &lt;@option{bank0}|@option{bank1}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec options_cmap
-@*configure str9 boot bank. 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec options_lvdthd} &lt;@var{num}&gt; &lt;@option{2.4v}|@option{2.7v}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec options_lvdthd
-@*configure str9 lvd threshold. 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec options_lvdsel} &lt;@var{num}&gt; &lt;@option{vdd}|@option{vdd_vddq}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec options_lvdsel
-@*configure str9 lvd source. 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{str9xpec options_lvdwarn} &lt;@var{bank}&gt; &lt;@option{vdd}|@option{vdd_vddq}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> str9xpec options_lvdwarn
-@*configure str9 lvd reset warning source. 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> itemize
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec options_cmap} num (@option{bank0}|@option{bank1})
+Configure str9 boot bank.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec options_lvdsel} num (@option{vdd}|@option{vdd_vddq})
+Configure str9 lvd source.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec options_lvdthd} num (@option{2.4v}|@option{2.7v})
+Configure str9 lvd threshold.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec options_lvdwarn} bank (@option{vdd}|@option{vdd_vddq})
+Configure str9 lvd reset warning source.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec options_read} num
+Read str9 option bytes.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec options_write} num
+Write str9 option bytes.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {str9xpec unlock} num
+unlock str9 device.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
+
 @section mFlash
 
 @subsection mFlash Configuration
 @cindex mFlash Configuration
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at b</A>{mflash bank} &lt;@var{soc}&gt; &lt;@var{base}&gt; &lt;@var{RST pin}&gt; &lt;@var{target}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash bank
-@*Configures a mflash for &lt;@var{soc}&gt; host bank at
-&lt;@var{base}&gt;. Pin number format is dependent on host GPIO calling convention.
-Currently, mflash bank support s3c2440 and pxa270.
 
-(ex. of s3c2440) mflash &lt;@var{RST pin}&gt; is GPIO B1.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> {Config Command} {mflash bank} soc base RST_pin target
+Configures a mflash for @var{soc} host bank at
+address @var{base}.
+The pin number format depends on the host GPIO naming convention.
+Currently, the mflash driver supports s3c2440 and pxa270.
 
+Example for s3c2440 mflash where @var{RST pin} is GPIO B1:
+
 @example
 mflash bank s3c2440 0x10000000 1b 0
 @end example
 
-(ex. of pxa270) mflash &lt;@var{RST pin}&gt; is GPIO 43.
+Example for pxa270 mflash where @var{RST pin} is GPIO 43:
 
 @example
 mflash bank pxa270 0x08000000 43 0
 @end example
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
 
 @subsection mFlash commands
 @cindex mFlash commands
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at itemize</A> @bullet
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{mflash probe}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash probe
-@*Probe mflash.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{mflash write} &lt;@var{num}&gt; &lt;@var{file}&gt; &lt;@var{offset}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash write
-@*Write the binary &lt;@var{file}&gt; to mflash bank &lt;@var{num}&gt;, starting at
-&lt;@var{offset}&gt; bytes from the beginning of the bank.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{mflash dump} &lt;@var{num}&gt; &lt;@var{file}&gt; &lt;@var{offset}&gt; &lt;@var{size}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash dump
-@*Dump &lt;size&gt; bytes, starting at &lt;@var{offset}&gt; bytes from the beginning of the &lt;@var{num}&gt; bank
-to a &lt;@var{file}&gt;.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{mflash config pll} &lt;@var{frequency}&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash config pll
-@*Configure mflash pll. &lt;@var{frequency}&gt; is input frequency of mflash. The order is Hz.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {mflash config pll} frequency
+Configure mflash PLL.
+The @var{frequency} is the mflash input frequency, in Hz.
 Issuing this command will erase mflash's whole internal nand and write new pll.
 After this command, mflash needs power-on-reset for normal operation.
 If pll was newly configured, storage and boot(optional) info also need to be update.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{mflash config boot}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash config boot
-@*Configure bootable option. If bootable option is set, mflash offer the first 8 sectors
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {mflash config boot}
+Configure bootable option.
+If bootable option is set, mflash offer the first 8 sectors
 (4kB) for boot.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at item</A> @b{mflash config storage}
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at cindex</A> mflash config storage
-@*Configure storage information. For the normal storage operation, this information must be
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {mflash config storage}
+Configure storage information.
+For the normal storage operation, this information must be
 written.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">- at end</A> itemize
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
 
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {mflash dump} num filename offset size
+Dump @var{size} bytes, starting at @var{offset} bytes from the
+beginning of the bank @var{num}, to the file named @var{filename}.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {mflash probe}
+Probe mflash.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at deffn</A> Command {mflash write} num filename offset
+Write the binary file @var{filename} to mflash bank @var{num}, starting at
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at var</A>{offset} bytes from the beginning of the bank.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-svn">+ at end</A> deffn
+
 @node NAND Flash Commands
 @chapter NAND Flash Commands
 @cindex NAND


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000817.html">[Openocd-svn] r2033 - trunk/src/jtag
</A></li>
	<LI>Next message: <A HREF="000819.html">[Openocd-svn] r2035 - trunk/doc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#818">[ date ]</a>
              <a href="thread.html#818">[ thread ]</a>
              <a href="subject.html#818">[ subject ]</a>
              <a href="author.html#818">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-svn">More information about the openocd-svn
mailing list</a><br>
</body></html>
